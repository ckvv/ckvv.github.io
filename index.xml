<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>CK's Blog</title><link>https://chenkai.life/</link><description>Recent content on CK's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Fri, 08 Oct 2021 13:56:23 +0800</lastBuildDate><atom:link href="https://chenkai.life/index.xml" rel="self" type="application/rss+xml"/><item><title>JavaScriptå¯é€‰é“¾æ“ä½œç¬¦</title><link>https://chenkai.life/javascript/operators-optional-chaining/</link><pubDate>Fri, 08 Oct 2021 13:56:23 +0800</pubDate><guid>https://chenkai.life/javascript/operators-optional-chaining/</guid><description>å¯é€‰é“¾æ“ä½œç¬¦ å¯é€‰é“¾æ“ä½œç¬¦( ?. )å…è®¸è¯»å–ä½äºè¿æ¥å¯¹è±¡é“¾æ·±å¤„çš„å±æ€§çš„å€¼ï¼Œè€Œä¸å¿…æ˜ç¡®éªŒè¯é“¾ä¸­çš„æ¯ä¸ªå¼•ç”¨æ˜¯å¦æœ‰æ•ˆã€‚?. æ“ä½œç¬¦çš„åŠŸèƒ½ç±»ä¼¼äº . é“¾å¼æ“ä½œç¬¦ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼Œåœ¨å¼•ç”¨ä¸ºç©º(nullish ) (null æˆ–è€… undefined) çš„æƒ…å†µä¸‹ä¸ä¼šå¼•èµ·é”™è¯¯ï¼Œè¯¥è¡¨è¾¾å¼çŸ­è·¯è¿”å›å€¼æ˜¯ undefinedã€‚ä¸å‡½æ•°è°ƒç”¨ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå¦‚æœç»™å®šçš„å‡½æ•°ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› undefinedã€‚
å½“å°è¯•è®¿é—®å¯èƒ½ä¸å­˜åœ¨çš„å¯¹è±¡å±æ€§æ—¶ï¼Œå¯é€‰é“¾æ“ä½œç¬¦å°†ä¼šä½¿è¡¨è¾¾å¼æ›´çŸ­ã€æ›´ç®€æ˜ã€‚åœ¨æ¢ç´¢ä¸€ä¸ªå¯¹è±¡çš„å†…å®¹æ—¶ï¼Œå¦‚æœä¸èƒ½ç¡®å®šå“ªäº›å±æ€§å¿…å®šå­˜åœ¨ï¼Œå¯é€‰é“¾æ“ä½œç¬¦ä¹Ÿæ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚
è¯­æ³• obj?.prop obj?.[expr] arr?.[index] func?.(args) æè¿° é€šè¿‡è¿æ¥çš„å¯¹è±¡çš„å¼•ç”¨æˆ–å‡½æ•°å¯èƒ½æ˜¯ undefined æˆ– null æ—¶ï¼Œå¯é€‰é“¾æ“ä½œç¬¦æä¾›äº†ä¸€ç§æ–¹æ³•æ¥ç®€åŒ–è¢«è¿æ¥å¯¹è±¡çš„å€¼è®¿é—®ã€‚
æ¯”å¦‚ï¼Œæ€è€ƒä¸€ä¸ªå­˜åœ¨åµŒå¥—ç»“æ„çš„å¯¹è±¡ objã€‚ä¸ä½¿ç”¨å¯é€‰é“¾çš„è¯ï¼ŒæŸ¥æ‰¾ä¸€ä¸ªæ·±åº¦åµŒå¥—çš„å­å±æ€§æ—¶ï¼Œéœ€è¦éªŒè¯ä¹‹é—´çš„å¼•ç”¨ï¼Œä¾‹å¦‚ï¼š
let nestedProp = obj.first &amp;amp;&amp;amp; obj.first.second; ä¸ºäº†é¿å…æŠ¥é”™ï¼Œåœ¨è®¿é—®obj.first.secondä¹‹å‰ï¼Œè¦ä¿è¯ obj.first çš„å€¼æ—¢ä¸æ˜¯ nullï¼Œä¹Ÿä¸æ˜¯ undefinedã€‚å¦‚æœåªæ˜¯ç›´æ¥è®¿é—® obj.first.secondï¼Œè€Œä¸å¯¹ obj.first è¿›è¡Œæ ¡éªŒï¼Œåˆ™æœ‰å¯èƒ½æŠ›å‡ºé”™è¯¯ã€‚
æœ‰äº†å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ?.ï¼‰ï¼Œåœ¨è®¿é—® obj.first.second ä¹‹å‰ï¼Œä¸å†éœ€è¦æ˜ç¡®åœ°æ ¡éªŒ obj.first çš„çŠ¶æ€ï¼Œå†å¹¶ç”¨çŸ­è·¯è®¡ç®—è·å–æœ€ç»ˆç»“æœï¼š
let nestedProp = obj.first?.second; é€šè¿‡ä½¿ç”¨ ?. æ“ä½œç¬¦å–ä»£ . æ“ä½œç¬¦ï¼ŒJavaScript ä¼šåœ¨å°è¯•è®¿é—® obj.first.second ä¹‹å‰ï¼Œå…ˆéšå¼åœ°æ£€æŸ¥å¹¶ç¡®å®š obj.first æ—¢ä¸æ˜¯ null ä¹Ÿä¸æ˜¯ undefinedã€‚å¦‚æœobj.</description></item><item><title>JavaScriptè„šæ‰‹æ¶</title><link>https://chenkai.life/javascript/js_cli_jiaoshoujia/</link><pubDate>Tue, 28 Sep 2021 13:45:45 +0800</pubDate><guid>https://chenkai.life/javascript/js_cli_jiaoshoujia/</guid><description>ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶ è„šæ‰‹æ¶æ˜¯ä¸ºäº†ä¿è¯å„æ–½å·¥è¿‡ç¨‹é¡ºåˆ©è¿›è¡Œè€Œæ­è®¾çš„å·¥ä½œå¹³å°ã€‚åœ¨é¡¹ç›®å¼€å‘ä¸­æˆ‘ä»¬æŠŠåˆ›å»ºé¡¹ç›®ç»“æ„æ¨¡ç‰ˆçš„å·¥å…·ä¹Ÿç§°ä¹‹ä¸ºè„šæ‰‹æ¶ã€‚å¦‚vue-cliï¼Œcreate-react-appç­‰ã€‚è¿™äº›è„šæ‰‹æ¶ç­‰åŸç†éƒ½ä¸€æ ·ï¼Œå³ç”¨Node.jså‘½ä»¤è¡Œç¨‹åºç”Ÿæˆé¡¹ç›®æ¨¡ç‰ˆã€‚
ç¬¬ä¸€ä¸ªNode.jså‘½ä»¤è¡Œè„šæœ¬ ç¼–å†™è„šæ‰‹æ¶å…¶å®å°±æ˜¯Node.jså‘½ä»¤è¡Œå¼€å‘,å’Œå†™shellè„šæœ¬ç±»ä¼¼ï¼Œä½¿ç”¨JavaScriptè¯­è¨€ï¼Œå†™ä¸€ä¸ªå¯æ‰§è¡Œè„šæœ¬ hello woldè¿‡ç¨‹å¦‚ä¸‹ï¼š æ–°å»ºä¸€ä¸ªhelloæ–‡ä»¶ï¼Œå…¶ä¸­#!/usr/bin/env nodeä¸å¯å°‘ï¼Œå…¶ä½œç”¨æ˜¯å®ƒå‘Šè¯‰ç³»ç»Ÿè¿™ä¸ªè„šæœ¬éœ€è¦ç”¨nodeè§£é‡Šå™¨æ¥æ‰§è¡Œï¼Œè¯­æ³•ä¸nodeä¸€æ ·ã€‚
#!/usr/bin/env node console.log('hello world'); ç„¶å,ä¿®æ”¹çš„æƒé™
chmod 755 hello æ‰§è¡Œè„šæœ¬
./hello å¦‚æœæƒ³æŠŠ hello å‰é¢çš„è·¯å¾„å»é™¤ï¼Œå¯ä»¥å°† hello çš„è·¯å¾„åŠ å…¥ç¯å¢ƒå˜é‡ PATHã€‚ä½†æ˜¯ï¼Œå¦ä¸€ç§æ›´å¥½çš„åšæ³•ï¼Œæ˜¯åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»º package.json ï¼Œå†™å…¥ä¸‹é¢çš„å†…å®¹ã€‚
{ &amp;#34;name&amp;#34;: &amp;#34;hello&amp;#34;, &amp;#34;bin&amp;#34;: { &amp;#34;hello&amp;#34;: &amp;#34;hello&amp;#34; } } ç„¶åæ‰§è¡Œ npm link å‘½ä»¤ã€‚
npm link æ‰§è¡Œè„šæœ¬
hello å†™ä¸€ä¸ªè„šæ‰‹æ¶ è„šæ‰‹æ¶å¼€å‘ä¸ä¸Šé¢è¿‡ç¨‹ç±»ä¼¼ï¼Œæœ‰ä¸€äº›npmåº“å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¼€å‘å‘½ä»¤è¡Œå·¥å…·å¦‚shelljsã€commanderï¼Œå®ƒä»¬å°è£…äº†nodeå‘½ä»¤è¡Œå‘½ä»¤å¯ä»¥æ›´æ–¹ä¾¿å‘½ä»¤è¡Œå¼€å‘ã€‚ æ–‡ä»¶ç›®å½•ç»“æ„
. â”œâ”€â”€ bin â”‚ â””â”€â”€ ckoa.js â”œâ”€â”€ package-lock.json â”œâ”€â”€ package.json â””â”€â”€ utils â””â”€â”€ download.js ckoa.js Node.</description></item><item><title>å…³äºæˆ‘</title><link>https://chenkai.life/about/</link><pubDate>Tue, 28 Sep 2021 13:45:45 +0800</pubDate><guid>https://chenkai.life/about/</guid><description>å¦‚æœä½ æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œè¯·è”ç³»æˆ‘æˆ–åœ¨ä¸‹æ–¹ç•™è¨€ã€‚
è”ç³»æ–¹å¼ Email: k_0520@qq.com GitHub: https://github.com/ckvv ä»“åº“åœ°å€ Repository: ckvv.github.io</description></item><item><title>å¸¸ç”¨çš„shellå‘½ä»¤æ€»ç»“</title><link>https://chenkai.life/posts/commonly-used-shel-command/</link><pubDate>Tue, 28 Sep 2021 13:45:45 +0800</pubDate><guid>https://chenkai.life/posts/commonly-used-shel-command/</guid><description>å¸¸ç”¨çš„shellå‘½ä»¤
aliasç”¨æ¥è®¾ç½®æŒ‡ä»¤çš„åˆ«å apkAlpine Linuxä¸‹çš„åŒ…ç®¡ç†å·¥å…·apk install xxx awkæ–‡æœ¬å’Œæ•°æ®è¿›è¡Œå¤„ç†çš„ç¼–ç¨‹è¯­è¨€ catè¿æ¥æ–‡ä»¶å¹¶æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ä¸Š cdåˆ‡æ¢ç”¨æˆ·å½“å‰å·¥ä½œç›®å½• chmodç”¨æ¥å˜æ›´æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™ chshç”¨æ¥æ›´æ¢ç™»å½•ç³»ç»Ÿæ—¶ä½¿ç”¨çš„shellchsh -s /bin/zsh commandè°ƒç”¨å¹¶æ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤command echo Linux cpå°†æºæ–‡ä»¶æˆ–ç›®å½•å¤åˆ¶åˆ°ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•ä¸­cp -r /usr/men /usr/zh crontabæäº¤å’Œç®¡ç†ç”¨æˆ·çš„éœ€è¦å‘¨æœŸæ€§æ‰§è¡Œçš„ä»»åŠ¡ curlåˆ©ç”¨URLè§„åˆ™åœ¨å‘½ä»¤è¡Œä¸‹å·¥ä½œçš„æ–‡ä»¶ä¼ è¾“å·¥å…· curl baidu.com -o baidu.html --progress dfæ˜¾ç¤ºç£ç›˜çš„ç›¸å…³ä¿¡æ¯df -ah diffæ¯”è¾ƒç»™å®šçš„ä¸¤ä¸ªæ–‡ä»¶çš„ä¸åŒdiff /usr/li test.txt digåŸŸåæŸ¥è¯¢å·¥å…·dig baidu.com dirsæ˜¾ç¤ºç›®å½•è®°å½•dirs duæ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶å’Œç›®å½•çš„ç£ç›˜ä½¿ç”¨ç©ºé—´du -sh ./* echoè¾“å‡ºæŒ‡å®šçš„å­—ç¬¦ä¸²æˆ–è€…å˜é‡ egrepåœ¨æ–‡ä»¶å†…æŸ¥æ‰¾æŒ‡å®šçš„å­—ç¬¦ä¸²ä¸grepç±»ä¼¼ envæ˜¾ç¤ºç³»ç»Ÿä¸­å·²å­˜åœ¨çš„ç¯å¢ƒå˜é‡env execè°ƒç”¨å¹¶æ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤ exité€€å‡ºå½“å‰çš„shell exportè®¾ç½®æˆ–æ˜¾ç¤ºç³»ç»Ÿç¯å¢ƒå˜é‡export -p fcä¿®æ”¹å†å²å‘½ä»¤å¹¶æ‰§è¡Œfc -l -10 findåœ¨æŒ‡å®šç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶find / 'nginx.conf' grepå¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·grep &amp;quot;match_pattern&amp;quot; file_1 file_2 gunzipç”¨æ¥è§£å‹ç¼©æ–‡ä»¶gunzip /opt/etc.zip.gz gzipç”¨æ¥å‹ç¼©æ–‡ä»¶gzip -9v ./1.html headåœ¨å±å¹•ä¸Šæ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶çš„å¼€å¤´è‹¥å¹²è¡Œhead -n 10 CHANGELOG historyç”¨äºæ˜¾ç¤ºå†å²å‘½ä»¤history 100 hostå¸¸ç”¨çš„åˆ†æåŸŸåæŸ¥è¯¢å·¥å…·host chenkai.life htop[éå†…éƒ¨å‘½ä»¤]ä¸€ä¸ªäº’åŠ¨çš„è¿›ç¨‹æŸ¥çœ‹å™¨ï¼Œå¯ä»¥åŠ¨æ€è§‚å¯Ÿç³»ç»Ÿè¿›ç¨‹çŠ¶å†µ iconvè½¬æ¢æ–‡ä»¶çš„ç¼–ç æ–¹å¼iconv file1 -f EUC-JP-MS -t UTF-8 -o file2 ifconfigé…ç½®å’Œæ˜¾ç¤ºLinuxç³»ç»Ÿç½‘å¡çš„ç½‘ç»œå‚æ•° killåˆ é™¤æ‰§è¡Œä¸­çš„ç¨‹åºæˆ–å·¥ä½œ laståˆ—å‡ºç›®å‰ä¸è¿‡å»ç™»å…¥ç³»ç»Ÿçš„ç”¨æˆ·ç›¸å…³ä¿¡æ¯ locateæ–‡ä»¶æŸ¥æ‰¾å·¥å…·,å°†ç¡¬ç›˜ä¸­çš„æ‰€æœ‰æ¡£æ¡ˆå’Œç›®å½•èµ„æ–™å…ˆå»ºç«‹ä¸€ä¸ªç´¢å¼•æ•°æ®åº“locate nginx loginç™»å½•ç³»ç»Ÿæˆ–åˆ‡æ¢ç”¨æˆ·èº«ä»½ lognameç”¨æ¥æ˜¾ç¤ºç”¨æˆ·åç§° lsæ˜¾ç¤ºç›®å½•å†…å®¹åˆ—è¡¨ls -alh lsofç”¨äºæŸ¥çœ‹ä½ è¿›ç¨‹å¼€æ‰“çš„æ–‡ä»¶ï¼Œæ‰“å¼€æ–‡ä»¶çš„è¿›ç¨‹ï¼Œè¿›ç¨‹æ‰“å¼€çš„ç«¯å£(TCPã€UDP)lsof -i:5577 mkdirç”¨æ¥åˆ›å»ºç›®å½•mkdir -m 700 /usr/meng/test moreæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œæ¯æ¬¡æ˜¾ç¤ºä¸€å±more -c -10 file mvç”¨æ¥å¯¹æ–‡ä»¶æˆ–ç›®å½•é‡æ–°å‘½åmv file_1.</description></item><item><title>é¢è¯•æ€»ç»“</title><link>https://chenkai.life/hide/mian_shi_zhong_jie/</link><pubDate>Tue, 28 Sep 2021 13:45:45 +0800</pubDate><guid>https://chenkai.life/hide/mian_shi_zhong_jie/</guid><description>è‡ªæˆ‘ä»‹ç» https://www.zhipin.com/web/geek/resume
å¯¹å…¬å¸æœ‰ä»€ä¹ˆæƒ³è¦äº†è§£çš„ é—®ç­” åšè¿‡æœ€æ»¡æ„çš„é¡¹ç›®æ˜¯ä»€ä¹ˆï¼Ÿ ä¸Šä¼ ã€jobä»»åŠ¡
å¯ä»¥ä»ä»¥ä¸‹å‡ æ–¹é¢ä»‹ç»
é¡¹ç›®èƒŒæ™¯ ä¸ºä»€ä¹ˆè¦åšè¿™ä»¶äº‹æƒ…ï¼Ÿ æœ€ç»ˆè¾¾åˆ°ä»€ä¹ˆæ•ˆæœï¼Ÿ ä½ å¤„äºä»€ä¹ˆæ ·çš„è§’è‰²ï¼Œèµ·åˆ°äº†ä»€ä¹ˆæ–¹é¢çš„ä½œç”¨ï¼Ÿ åœ¨é¡¹ç›®ä¸­é‡åˆ°ä»€ä¹ˆæŠ€æœ¯é—®é¢˜ï¼Ÿå…·ä½“æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ å¦‚æœå†åšè¿™ä¸ªé¡¹ç›®ï¼Œä½ ä¼šåœ¨å“ªäº›æ–¹é¢è¿›è¡Œæ”¹å–„ï¼Ÿ æœ€è¿‘æœ‰äº†è§£å“ªäº›å‰æ²¿çŸ¥è¯† typescritp Vue3.0 WebAssembly worker_threads graphql pwa js çŸ¥è¯†ç‚¹ string array object funcion åŸå‹ å¼‚æ­¥
jsç»§æ‰¿çš„å„ç§å®ç°ä»¥åŠä¼˜ç¼ºç‚¹ é€šè¿‡prototypeæŒ‡å®š Object.setPrototypeOf ç”¨ Object.createå®ç°ç±»ç»§æ‰¿ ES6çš„extends javascript è¿ç­‰èµ‹å€¼é—®é¢˜ var a = {n:1}; var b = a; // æŒæœ‰aï¼Œä»¥å›æŸ¥ a.</description></item><item><title>åˆ›å»ºJavaScripté¡¹ç›®éœ€è¦ç”¨åˆ°çš„å·¥å…·åº“</title><link>https://chenkai.life/javascript/several-libraries-are-needed-to-create-javascript/</link><pubDate>Wed, 15 Sep 2021 14:00:43 +0800</pubDate><guid>https://chenkai.life/javascript/several-libraries-are-needed-to-create-javascript/</guid><description>åˆ›å»ºJavaScriptéœ€è¦ç”¨åˆ°çš„å‡ ä¸ªå·¥å…·åº“
eslint é…ç½®çš„ JavaScript è¯­æ³•è§„åˆ™å’Œä»£ç é£æ ¼çš„æ£€æŸ¥å·¥å…·ã€‚
yarn add -D eslint eslint-config-airbnb-base ./node_modules/.bin/eslint --init .eslintrc.js
{ extends: [ &amp;#39;airbnb-base&amp;#39;, ], } husky å½“æ‚¨æäº¤æˆ–æ¨é€æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥ lint æäº¤æ¶ˆæ¯ã€è¿è¡Œæµ‹è¯•ã€lint ä»£ç ç­‰ã€‚ Husky æ”¯æŒæ‰€æœ‰ Git é’©å­ã€‚
yarn add -D husky package.json
{ &amp;#34;scripts&amp;#34;: { &amp;#34;prepare&amp;#34;: &amp;#34;husky install&amp;#34;, } } commitlint å¼ºåˆ¶ç»Ÿä¸€commit messagesæäº¤è§„èŒƒ
yarn add -D @commitlint/cli @commitlint/config-conventional npx husky add .husky/commit-msg 'npx --no-install commitlint --edit &amp;quot;$1&amp;quot;' commitlint.config.js
module.exports = { extends: [&amp;#39;@commitlint/config-conventional&amp;#39;], }; lint-stage å¯¹æš‚å­˜çš„ git æ–‡ä»¶è¿è¡Œ linterï¼Œä¸è¦è®© ğŸ’© æºœè¿›ä½ çš„ä»£ç åº“ï¼</description></item><item><title>å¤„ç†æµè§ˆå™¨ä¸­çš„å­—ä½“å¸¸è§é—®é¢˜</title><link>https://chenkai.life/web/handling-fonts-in-the-web/</link><pubDate>Tue, 14 Sep 2021 13:52:15 +0800</pubDate><guid>https://chenkai.life/web/handling-fonts-in-the-web/</guid><description>å½“é¡µé¢ä¸­çš„æ ‡é¢˜å­—æ•°æ˜¯ä¸å®šçš„ï¼Œå¹¶ä¸”éœ€è¦é€‚åº”å„ç§æœºå‹å±å¹•å®½åº¦ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸‹é¢çš„éœ€æ±‚,
å­—ä½“æœ«å°¾å¦‚ä½•æ˜¾ç¤ºçœç•¥å· å¦‚æœæ˜¾ç¤ºåŒºåŸŸå¾ˆå°ï¼Œæˆ‘ä»¬å¯ä»¥åªè®¾ç½®ä¸ºå•è¡Œæ˜¾ç¤ºï¼Œå¯¹äºå•è¡Œæ–‡æœ¬æœ«å°¾æ˜¾ç¤ºçœç•¥å·å¾ˆç®€å•
.wrapper { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; } ä½†æ˜¯å¦‚æœæ˜¯æ˜¾ç¤ºåŒºåŸŸå¾ˆå¤§,æˆ‘ä»¬éœ€è¦è®¾ç½®å¤šè¡Œçš„æœ€åä¸€è¡Œæ˜¾ç¤ºçœç•¥å·ï¼Œå¯¹äºå¤šè¡Œæ–‡æœ¬ï¼Œå¸¸ç”¨çš„æ–¹æ³•å¦‚ä¸‹
ç§»åŠ¨ç«¯å…¼å®¹è¾ƒå¥½ï¼Œé€‚ç”¨äºwebkitå†…æ ¸æµè§ˆå™¨, å¦å¤–å¯¹äºè¶…å‡ºéƒ¨åˆ†çš„å­—ä½“ä»ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º
hello hello hello hello hello hello hello hello æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬éœ€è¦æ­é…å›ºå®šé«˜åº¦åŠoverflow: hidden;, line-heightæˆ–è€…font-sizeä½¿ç”¨
hello hello hello hello hello hello hello hello .wrapper { display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; } è§£å†³å¤šè¡Œæ–‡å­—æ—¶æœ€åä¸€æ’æ–‡å­—å¯èƒ½è¶…å‡ºè¾¹æ¡†æ˜¾ç¤ºä¸å…¨é—®é¢˜ å¯¹äºå¤šè¡Œæ–‡å­—ï¼Œæœ€åä¸€æ’æ–‡å­—å¯èƒ½è¶…å‡ºè¾¹æ¡†æ˜¾ç¤ºä¸å…¨çš„æƒ…å†µï¼Œå¯¹äºè¿™ç§æƒ…å†µæˆ‘ä»¬éœ€è¦è®¾ç½®å¤–éƒ¨å®¹å™¨é«˜åº¦ä¸ºå­—ä½“é«˜åº¦çš„æ•´æ•°å€å¦‚å¯¹äºä¸€ä¸ªé«˜6emçš„å®¹å™¨,æˆ‘ä»¬å¯ä»¥è®¾ç½®ä»–çš„line-heightä¸º3em, æˆ–è€…æˆ‘ä»¬è®¾ç½®ä»–çš„font-sizeä¸º 2.5em,å¹¶ä¸”æŠŠline-heightè®¾ç½®ä¸º1.2,
å¦‚ä½•æ–‡å­—å¤§å°è‡ªé€‚åº”å®¹å™¨ åŠ¨æ€ä¿®æ”¹å­—ä½“å¤§å° æ ¹æ®ä¸åŒçš„å­—ä½“é•¿åº¦, è®¾ç½®ä¸åŒçš„å­—ä½“å¤§å°ï¼› æˆ–è€…é€æ¸ä¿®æ”¹åˆå§‹å­—ä½“å¤§å°ï¼Œç›´åˆ°å­—ä½“å®¹å™¨å®½åº¦å’Œé«˜åº¦å°äºå¤–å±‚åŒ…è£¹çš„å®¹å™¨å®½, ä½†æ˜¯ç”±äºå­—ä½“å¤§å°æœ‰æœ€å°å€¼ï¼Œè¿™ç§åŠæ³•å¯¹å¤ªå¯¹çš„æ–‡æœ¬ä¹Ÿæ— èƒ½ä¸ºåŠ›
zoom,transformç¼©æ”¾å­—ä½“å®¹å™¨ æˆ‘ä»¬å¯ä»¥é€šè¿‡å¤–å±‚å®¹å™¨å®½é«˜å’Œå­—ä½“å®¹å™¨å®½é«˜è®¡ç®—å‡ºéœ€è¦ç¼©æ”¾çš„æ¯”ä¾‹ï¼Œé€šè¿‡è®¾ç½®zoomã€scaleæ¥è‡ªé€‚åº”å®¹å™¨å®½é«˜,å¦‚:</description></item><item><title>è®°å½•ä¸€äº›å®ç”¨ã€æœ‰è¶£çš„å·¥å…·</title><link>https://chenkai.life/posts/some-useful-interesting-tools/</link><pubDate>Mon, 13 Sep 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/posts/some-useful-interesting-tools/</guid><description>åšå®¢ æ–‡ä»¶ç±»å‹è½¬æ¢ https://editor.method.ac/åˆ¶ä½œsvg Web caniuseæŸ¥è¯¢æµè§ˆå™¨å¯¹Webæ ‡å‡†çš„æ”¯æŒæ€§ åº”ç”¨ typora markdownç¼–è¾‘å™¨ï¼Œå¯ä»¥å¤åˆ¶htmlè½¬æˆmarkdown Unsplash é€šè¿‡apiè·å–éšæœºå›¾ç‰‡ Weekly Visitor Report è·å–è®¿é—®æ‚¨ç½‘ç«™çš„å…¬å¸çš„æ¯å‘¨æŠ¥å‘Š responsively æ›´å¿«çš„è¿›è¡Œå“åº”å¼Webå¼€å‘ åœ¨çº¿ä»£ç ç¼–è¾‘å™¨ï¼Œæ›´å¿«åœ°åˆ›å»ºå’Œå…±äº« Web åº”ç”¨ç¨‹åº codesandbox https://codepen.io/ jsfiddle éœ€è¦VPNè®¿é—® å­¦ä¹  the-way-to-go å­¦ä¹  Go è¯­è¨€ javascript-info JavaScript æ•™ç¨‹å­¦ä¹ ç½‘ç«™ You-Dont-Know-JSæ·±å…¥ç ”ç©¶ JavaScript è¯­è¨€æ ¸å¿ƒæœºåˆ¶çš„ä¹¦ç± the-way-to-go_ZH_CNGoå…¥é—¨æŒ‡å—</description></item><item><title>ç®—æ³•-array</title><link>https://chenkai.life/algorithm/leetcode-array/</link><pubDate>Sat, 11 Sep 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/algorithm/leetcode-array/</guid><description>åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ ç»™ä½ ä¸€ä¸ªæœ‰åºæ•°ç»„ nums ï¼Œè¯·ä½  åŸåœ° åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´  åªå‡ºç°ä¸€æ¬¡ ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚ ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨ åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„ å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚
let removeDuplicates = function(nums) { for(let i = 0; i&amp;lt;nums.length; i++){ while (nums[i] === nums[i+1]) { nums.splice(i+1,1); } } }; ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº ç»™å®šä¸€ä¸ªæ•°ç»„ prices ï¼Œå…¶ä¸­Â prices[i] æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚ è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰ã€‚ æ³¨æ„ï¼šä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰
var maxProfit = function(prices) { let ans = 0; for(let i = 1, len = prices.length; i &amp;lt; len; i++){ ans += Math.</description></item><item><title>æµè§ˆå™¨ä¸­è·å–å®½ã€é«˜ç›¸å…³çš„å±æ€§</title><link>https://chenkai.life/web/get-width-and-height-attributes-in-the-browser/</link><pubDate>Wed, 01 Sep 2021 17:13:52 +0800</pubDate><guid>https://chenkai.life/web/get-width-and-height-attributes-in-the-browser/</guid><description>æˆ‘ä»¬å¯èƒ½éœ€è¦é’ˆå¯¹å®½å±å’Œé«˜å±ç¼–å†™ä¸åŒä»£ç ï¼Œä¸‹é¢æˆ‘æ€»ç»“ä¸€ä¸‹ä»æµè§ˆå™¨ä¸­è·å–å®½ã€é«˜ç›¸å…³çš„å±æ€§
css å¦‚æœå®½é«˜å±ä¸è®¾è®¡å…·ä½“é€»è¾‘ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨cssçš„@mediaåª’ä½“æŸ¥è¯¢çš„æ–¹å¼åˆ¤æ–­;
orientation å®½åº¦å’Œé«˜åº¦ç›¸ç­‰æ—¶ä¼šè¢«åˆ¤æ–­ä¸ºçºµå‘
/* viewport å¤„äºçºµå‘ï¼Œå³é«˜åº¦å¤§äºç­‰äºå®½åº¦ */ @media (orientation: portrait) { } /* viewport å¤„äºæ¨ªå‘ï¼Œå³å®½åº¦å¤§äºé«˜åº¦ã€‚ */ @media (orientation: landscape) { } aspect-ratio åˆ©ç”¨å®½é«˜æ¯”æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ¤æ–­å®½é«˜å±ï¼Œå½“å¦‚æœåŒæ—¶æ»¡è¶³åé¢çš„æ ·å¼ä¼šè¦†ç›–å‰é¢ï¼Œæ‰€ä»¥ä¸‹é¢å½“å®½é«˜ç›¸ç­‰æ—¶ç”Ÿæ•ˆçš„æ˜¯@media (aspect-ratio: 1/1) {}
/* æœ€å¤§å®½é«˜æ¯” */ @media (max-aspect-ratio: 1/1){ } /* æœ€å°å®½é«˜æ¯” */ @media (min-aspect-ratio: 1/1) { } /* æŒ‡å®šå®½é«˜æ¯” */ @media (aspect-ratio: 1/1) { } js window innerHeight innerWidth outerHeight outerWidth è·å–æµè§ˆå™¨çª—å£çš„è§†å£ï¼ˆviewportï¼‰é«˜åº¦ã€å®½åº¦ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰</description></item><item><title>nginx</title><link>https://chenkai.life/tools/nginx/</link><pubDate>Thu, 19 Aug 2021 18:36:57 +0800</pubDate><guid>https://chenkai.life/tools/nginx/</guid><description>å®‰è£…nginx mac:
brew install nginx centos:
Install the prerequisites:
sudo yum install yum-utils [nginx-stable] name=nginx stable repo baseurl=http://nginx.org/packages/centos/$releasever/$basearch/ gpgcheck=1 enabled=1 gpgkey=https://nginx.org/keys/nginx_signing.key module_hotfixes=true [nginx-mainline] name=nginx mainline repo baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/ gpgcheck=1 enabled=0 gpgkey=https://nginx.org/keys/nginx_signing.key module_hotfixes=true By default, the repository for stable nginx packages is used. If you would like to use mainline nginx packages, run the following command:
sudo yum-config-manager --enable nginx-mainline To install nginx, run the following command:
sudo yum install nginx å…¶ä»–å®‰è£…æ–¹å¼</description></item><item><title>æµ…è°ˆcssåŠ¨ç”»</title><link>https://chenkai.life/web/css-animation/</link><pubDate>Wed, 18 Aug 2021 11:31:16 +0800</pubDate><guid>https://chenkai.life/web/css-animation/</guid><description>æœ¬æ–‡ç®€å•ä»‹ç»å¦‚ä½•å®šä¹‰cssåŠ¨ç”»
transition transitions å¯ä»¥å†³å®šå“ªäº›å±æ€§å‘ç”ŸåŠ¨ç”»æ•ˆæœtransition-property (æ˜ç¡®åœ°åˆ—å‡ºè¿™äº›å±æ€§,å¦‚æœçœç•¥åˆ™åŒ…å«æ‰€æœ‰å±æ€§)ï¼Œä½•æ—¶å¼€å§‹ transition-delay (è®¾ç½® delayï¼‰ï¼ŒæŒç»­å¤šä¹…transition-duration (è®¾ç½® duration) ä»¥åŠå¦‚ä½•åŠ¨ç”»transition-timing-function (å®šä¹‰timing functionï¼Œæ¯”å¦‚åŒ€é€Ÿåœ°æˆ–å…ˆå¿«åæ…¢)
å¦‚ä¸‹é¢æŒ‡å®šå­—ä½“å¤§å°é¢œè‰²å’Œå­—ä½“å‘ç”ŸåŠ¨ç”»æ•ˆæœ
.transition-box{ font-size: 1rem; color: red; transition: color 2s, font-size 2s; } transitionçš„å‘ç”Ÿéœ€è¦å±æ€§è¢«ä¿®æ”¹æ—¶æ‰ä¼šè§¦å‘ï¼Œæ¯”å¦‚hoveræ—¶æˆ‘ä»¬ä¿®æ”¹å­—ä½“å¤§å°å’Œé¢œè‰²ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰transitionè¿™äº›å±æ€§ä¼šç«‹å³ä¿®æ”¹ï¼Œ
.transition-box:hover { font-size: 2rem; color: green; } .transition-box{ font-size: 1rem; color: red; transition: color 2s, font-size 2s; } .transition-box:hover { font-size: 3rem; color: green; } æŠŠé¼ æ ‡æ”¾ä¸ŠæŸ¥çœ‹æ•ˆæœ CSS è¿‡æ¸¡ ç”±ç®€å†™å±æ€§transition å®šä¹‰æ˜¯æœ€å¥½çš„æ–¹å¼ï¼Œå¯ä»¥é¿å…å±æ€§å€¼åˆ—è¡¨é•¿åº¦ä¸ä¸€ï¼ŒèŠ‚çœè°ƒè¯•æ—¶é—´ã€‚
ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢å­å±æ€§æ¥æ§åˆ¶è¿‡æ¸¡çš„å„éƒ¨åˆ†
transition-property: color, font-size; transition-duration: 4s; transition-timing-function: ease; transition-delay: 0s; transitionçš„ç‰¹ç‚¹ åªèƒ½åœ¨csså±æ€§å˜åŒ–æ—¶è¢«åŠ¨è§¦å‘</description></item><item><title>è°ˆè°ˆWebé¡¹ç›®ä¸­å›¾æ ‡çš„æ–¹å¼</title><link>https://chenkai.life/web/use_icon_in_web/</link><pubDate>Sat, 14 Aug 2021 10:25:11 +0800</pubDate><guid>https://chenkai.life/web/use_icon_in_web/</guid><description>è°ˆè°ˆWebé¡¹ç›®ä¸­å›¾æ ‡çš„æ–¹å¼
å•ä¸ªå›¾æ ‡ æˆ‘ä»¬å¯ä»¥é€‰æ‹©å•ç‹¬å¼•ç”¨å›¾æ ‡æ–‡ä»¶å¦‚pngã€svgç­‰ç­‰ï¼Œè¿™ç§æ–¹å¼ç¼ºç‚¹æ˜¾è€Œæ˜“è§ï¼Œå›¾æ ‡å¤šäº†ä¹‹åä¸æ–¹ä¾¿ç»´æŠ¤
å­—ä½“æ–‡ä»¶ é€šè¿‡font-face,æˆ‘ä»¬å¯ä»¥æŒ‡å®šä¸€ä¸ªç”¨äºæ˜¾ç¤ºæ–‡æœ¬çš„è‡ªå®šä¹‰å­—ä½“ï¼Œå­—ä½“æ–‡ä»¶å†…éƒ¨ç±»ä¼¼ä¸€ä¸ªsvgæˆ‘ä»¬å¯ä»¥åœ¨å­—ä½“æ–‡ä»¶é‡Œé¢éšä¾¿å®šä¹‰è¿™äº›å­—ç¬¦çš„å½¢çŠ¶ï¼Œ
é€šè¿‡å¯¹åº”å­—ä½“æ–‡ä»¶çš„å­—ä½“ç¼–ç æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¿™äº›å›¾æ ‡äº†,å¦‚ä¸‹é¢æ˜¯ä¸€ä¸ªcloseå›¾æ ‡
&amp;lt;i class=&amp;#34;iconfont&amp;#34;&amp;gt;&amp;amp;#xe64f;&amp;lt;/i&amp;gt; è¿™æ ·æœ‰ä¸ªæ˜æ˜¾çš„ç¼ºç‚¹å°±æ˜¯å›¾æ ‡ä¸ç›´è§‚ï¼Œæˆ‘ä»¬å¾ˆéš¾æ ¹æ®&amp;amp;#x33;çŸ¥é“å®ƒæ˜¯ä»€ä¹ˆå›¾æ ‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æå‰å®šä¹‰å¥½å¯¹åº”å›¾æ ‡cssçš„::beforeçš„contentï¼Œå°†å…¶æ”¹é€ æˆè‡ªå®šä¹‰classå¼•ç”¨çš„æ–¹å¼
.icon-close:before{ content: &amp;#34;\e64f&amp;#34; } ç„¶åæˆ‘ä»¬åœ¨é¡µé¢ä¸­å¯ä»¥è¿™æ ·ä½¿ç”¨
&amp;lt;span class=&amp;#34;iconfont icon-close&amp;#34;&amp;gt;&amp;lt;/span&amp;gt; å› ä¸ºæ˜¯å­—ä½“æ ¼å¼æ‰€ä»¥è¿™ç§æ–¹å¼ä½¿ç”¨å›¾æ ‡æœ‰ä»¥ä¸‹ç‰¹ç‚¹
å…¼å®¹æ€§æœ€å¥½ï¼Œæ”¯æŒie6+ï¼ŒåŠæ‰€æœ‰ç°ä»£æµè§ˆå™¨ã€‚ æ”¯æŒæŒ‰å­—ä½“çš„æ–¹å¼å»åŠ¨æ€è°ƒæ•´å›¾æ ‡å¤§å°ï¼Œé¢œè‰²ç­‰ç­‰ã€‚ ä¸æ”¯æŒå¤šè‰²ã€‚ symbol å¼•ç”¨ symbol å…ƒç´ ç”¨æ¥å®šä¹‰ä¸€ä¸ªå›¾å½¢æ¨¡æ¿å¯¹è±¡ï¼Œå®ƒå¯ä»¥ç”¨ä¸€ä¸ªuseå…ƒç´ å®ä¾‹åŒ–ã€‚ä¸€ä¸ªsymbolå…ƒç´ æœ¬èº«æ˜¯ä¸å‘ˆç°çš„ã€‚åªæœ‰symbolå…ƒç´ çš„å®ä¾‹ï¼ˆäº¦å³ï¼Œä¸€ä¸ªå¼•ç”¨äº†symbolçš„ useå…ƒç´ ï¼‰æ‰èƒ½å‘ˆç°ï¼Œå¦‚
&amp;lt;svg&amp;gt; &amp;lt;!-- symbol definition NEVER draw --&amp;gt; &amp;lt;symbol id=&amp;#34;sym01&amp;#34; viewBox=&amp;#34;0 0 150 110&amp;#34;&amp;gt; &amp;lt;circle cx=&amp;#34;50&amp;#34; cy=&amp;#34;50&amp;#34; r=&amp;#34;40&amp;#34; stroke-width=&amp;#34;8&amp;#34; stroke=&amp;#34;red&amp;#34; fill=&amp;#34;red&amp;#34; /&amp;gt; &amp;lt;circle cx=&amp;#34;90&amp;#34; cy=&amp;#34;60&amp;#34; r=&amp;#34;40&amp;#34; stroke-width=&amp;#34;8&amp;#34; stroke=&amp;#34;green&amp;#34; fill=&amp;#34;white&amp;#34; /&amp;gt; &amp;lt;/symbol&amp;gt; &amp;lt;!-- actual drawing by &amp;#34;use&amp;#34; element --&amp;gt; &amp;lt;use xlink:href=&amp;#34;#sym01&amp;#34; x=&amp;#34;0&amp;#34; y=&amp;#34;0&amp;#34; width=&amp;#34;100&amp;#34; height=&amp;#34;50&amp;#34; /&amp;gt; &amp;lt;use xlink:href=&amp;#34;#sym01&amp;#34; x=&amp;#34;0&amp;#34; y=&amp;#34;50&amp;#34; width=&amp;#34;75&amp;#34; height=&amp;#34;38&amp;#34; /&amp;gt; &amp;lt;use xlink:href=&amp;#34;#sym01&amp;#34; x=&amp;#34;0&amp;#34; y=&amp;#34;100&amp;#34; width=&amp;#34;50&amp;#34; height=&amp;#34;25&amp;#34; /&amp;gt; &amp;lt;/svg&amp;gt; symbolçš„ä½œç”¨åŸŸæ˜¯å…¨å±€çš„æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨svgä¸­å•ç‹¬ä½¿ç”¨å¦‚</description></item><item><title>â¤ï¸ å®è´</title><link>https://chenkai.life/life/my_girlfriend.md/</link><pubDate>Fri, 13 Aug 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/life/my_girlfriend.md/</guid><description>æ„Ÿè°¢æˆ‘çš„æ†¨æ†¨,åœ¨æˆ‘æ„Ÿå†’çš„æ—¶å€™ç»†å¿ƒåœ°ç…§é¡¾æˆ‘ã€‚
ä¸€ä¸ªäººèµ°çš„å¿«ï¼Œä¸¤ä¸ªäººèµ°çš„è¿œ, â¤ï¸æˆ‘æƒ³å’Œä½ èµ°ä¸€è¾ˆå­â¤ï¸
â”â•—Â·â˜†Â°âˆ´ï¼ â•­âˆâ•®â”â”“â•”â”“ç¬â˜† I â•‘â”ƒâ•”â”â•¦â•¦â”³â•æ„›â•± â•‘â•šâ”›â”£â•â•¦â”³â•— â”ƒâ•šâ”«â•‘â”ƒâ”ƒâ”ƒâ•©â”«ä¼± â”—â•—â”â•£â”ƒâ”ƒâ•‘â”ƒ â•šâ”â•©â•â”»â”â•©â”â•ã€€â”—â•â”—â•â”»â•â”› ã€‚Â° â˜†ï¼ï¼Â·Â°âˆ´Â°ï¼â˜†Â°-âˆ´Â°â˜…ï¼</description></item><item><title>npm</title><link>https://chenkai.life/tools/npm/</link><pubDate>Thu, 12 Aug 2021 13:51:48 +0800</pubDate><guid>https://chenkai.life/tools/npm/</guid><description>npm é…ç½® ä¿®æ”¹é…ç½®æ–‡ä»¶ npmé…ç½®æ–‡ä»¶åœ°å€~/.npmrcï¼Œnpm config ls -l,npm config editå‘½ä»¤;
npmçš„å…¨å±€nodeåŒ…åœ¨å“ªé‡Œï¼Ÿ å°±æ˜¯é‚£äº›é€šè¿‡npm install xxx -gæˆ–è€…cnpm install xxx -gæˆ–è€…yarn global add xxxå®‰è£…çš„xxxæ–‡ä»¶ï¼Œåˆ°åº•å®‰è£…åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿè¿™ä¸ªå…¶å®ä¹ŸæŒºå¥½æ‰¾çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹å…¶åŸºç¡€è·¯å¾„ã€‚
npm config get prefix npm root -g é»˜è®¤çš„å…¨å±€å®‰è£…åŒ…ä½ç½®ï¼š winç³»ç»Ÿä¸‹è·¯å¾„æ˜¯ï¼š%APPDATA%/npm/node_modules/ macç³»ç»Ÿä¸‹è·¯å¾„æ˜¯ï¼š/usr/local/lib/node_modules/
npm æ¸…ç©ºç¼“å­˜ npm cache clean -
è®¾ç½®npmæº
npm config set registry http://registry.npmjs.org/ npm config set registry https://registry.npm.taobao.org/ //ä¸´æ—¶ä½¿ç”¨ npm i -g express --registry https://registry.npm.taobao.org æ›´æ–°npm npm install --global npm npm å‘å¸ƒåŒ… # ç™»é™† npm login --registry http://registry.</description></item><item><title>nodeå¤ç”¨åŸå§‹æ¥å£ä¸‹è½½è¡¨æ ¼</title><link>https://chenkai.life/nodejs/node_download_biaoge_sheji/</link><pubDate>Wed, 11 Aug 2021 11:12:19 +0800</pubDate><guid>https://chenkai.life/nodejs/node_download_biaoge_sheji/</guid><description>æˆ‘ä»¬åœ¨åšåå°å¼€å‘æ—¶å¯èƒ½æœ‰å¾ˆå¤šæ¥å£çš„æ•°æ®éœ€è¦ä¸‹è½½ä¸‹æ¥,å¦‚æœä»å¤´å¼€å‘æ— ç–‘ä¼šæœ‰å¾ˆå¤šé‡å¤ä»£ç å¦‚å‚æ•°æ ¡éªŒã€æƒé™éªŒè¯ç­‰ï¼Œæ¥ä¸‹æ¥æˆ‘è°ˆè°ˆæˆ‘æ˜¯å¦‚ä½•åˆ©ç”¨ç°æœ‰çš„nodeæ¥å£ä¸‹è½½è¡¨æ ¼
jsonæ•°ç»„è½¬è¡¨æ ¼ ä¸€èˆ¬æˆ‘ä»¬çš„æ¥å£è¿”å›çš„æ˜¯jsonæ•°ç»„,æˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°åªéœ€è¦æŠŠè¿”å›æ•°æ®çš„jsonè½¬ä¸ºè¡¨æ ¼ä¸‹è½½å°±å¯ä»¥äº†å…¶ä»–é€»è¾‘éƒ½æ˜¯ä¸€æ ·çš„ï¼Œnodeæœ‰å¾ˆå¤šç°æˆçš„åº“å¯ä»¥å¤„ç†å¦‚xlsx
function frows2XlsxBufferile(formatData) { const ws = xlsx.utils.json_to_sheet(formatData); const wb = xlsx.utils.book_new(); xlsx.utils.book_append_sheet(wb, ws, &amp;#39;SheetJS&amp;#39;); return xlsx.write(wb, { type: &amp;#39;buffer&amp;#39;, bookType: &amp;#39;xlsx&amp;#39; }); } åœ¨ctxä¸Šä¸‹æ–‡æ·»åŠ ä¸‹è½½æ–‡ä»¶çš„æ–¹æ³• é»˜è®¤æƒ…å†µä¸‹è¿”å›çš„æ˜¯æ–‡æœ¬æ•°æ®è¿™é‡Œéœ€è¦å¤„ç†,æˆ‘è¿™é‡Œéœ€è¦åœ¨headerä¸­å£°æ˜è¿”å›çš„å†…å®¹æ˜¯ä¸€ä¸ªéœ€è¦ä¸‹è½½çš„æ–‡ä»¶
function file(name, data) { // https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Disposition // è¯´æ˜æµè§ˆå™¨åº”è¯¥å°†å†…å®¹ä¸‹è½½åˆ°æœ¬åœ°ï¼›filename çš„å€¼é¢„å¡«ä¸ºä¸‹è½½åçš„æ–‡ä»¶å this.response.set(&amp;#39;Content-disposition&amp;#39;, `attachment;filename=&amp;#34;${name}&amp;#34;`); // https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Type // è¯´æ˜è¿”å›çš„æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æµæ•°æ® this.response.set(&amp;#39;Content-Type&amp;#39;, &amp;#39;application/octet-stream&amp;#39;); return this.response.body = data; } è¿”å›è¡¨æ ¼ æˆ‘ä»¬å°†ä¸Šé¢å°è£…ä¸‹ï¼Œæ–¹ä¾¿è°ƒç”¨,
async download() { const { ctx } = this; const result = await this.</description></item><item><title>å¸¸ç”¨çš„ä¸€äº›cssæ ·å¼</title><link>https://chenkai.life/web/css_useful_style/</link><pubDate>Fri, 06 Aug 2021 15:06:32 +0800</pubDate><guid>https://chenkai.life/web/css_useful_style/</guid><description>å­—ä½“ æ–‡å­—è¶…å‡ºåçœç•¥
white-space: nowrap; overflow: hidden; text-overflow: ellipsis; ä¸­æ–‡ç®€&amp;gt;ç¹è½¬æ¢
font-variant-east-asian: traditional;</description></item><item><title>è®°å½•ä¸€äº›npmåº“å’Œåº”ç”¨</title><link>https://chenkai.life/posts/npm_packages/</link><pubDate>Mon, 02 Aug 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/posts/npm_packages/</guid><description>è®°å½•ä¸€äº›npmåº“
npmå·¥å…·åº“ nodeppt: markdown ç”Ÿæˆweb ppt
artillery: è´Ÿè½½æ¥å£æµ‹è¯•
jsdoc,esdoc,documentation:æ„å»ºjså¸®åŠ©æ–‡æ¡£
standard-version:ä½¿ç”¨semverå’Œå¸¸è§„æäº¤æ¶ˆæ¯è‡ªåŠ¨è¿›è¡Œç‰ˆæœ¬æ§åˆ¶å’ŒCHANGELOGç”Ÿæˆ
Marked:markdownè§£ææˆhtml
markdown-it: markdownè§£ææˆhtml
dockerode: Dockerè¿œç¨‹APIæ¨¡å—
nodemon: æ–‡ä»¶æ›´æ”¹æ—¶é‡æ–°å¯åŠ¨nodeæœåŠ¡
cypress: ç«¯åˆ°ç«¯æµ‹è¯•æ¡†æ¶
eslint:eslintæ˜¯ä¸€ä¸ªjavascriptä»£ç æ£€æµ‹å·¥å…·
ngrok: å†…ç½‘ç©¿é€å·¥å…·
vconsole å¯ä»¥ç”¨äºæ‰‹æœºç«¯è°ƒè¯•æŸ¥çœ‹æ§åˆ¶å°ã€ç½‘ç»œè¯·æ±‚ã€å­˜å‚¨ç­‰ä¿¡æ¯
axios: åŸºäºPromiseçš„HTTPå®¢æˆ·ç«¯ï¼Œç”¨äºæµè§ˆå™¨å’Œnode.js
ws: ç®€å•æ˜“ç”¨ï¼Œä¸ºNode.jså¼€è¾Ÿäº†å¿«é€Ÿä¸”ç»è¿‡å…¨é¢æµ‹è¯•çš„Websocketå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨
nuxtjs: ä¸€ä¸ªåŸºäº Vue.js çš„æœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨æ¡†æ¶
fake-progress: ä¸€ä¸ªç”Ÿæˆå‡è¿›åº¦çš„åº“
diff.js: ä¸€ä¸ªJavaScriptæ–‡æœ¬diffå®ç°
GraphQL.js:GraphQLçš„JavaScriptå‚è€ƒå®ç°ï¼ŒGraphQLæ˜¯Facebookåˆ›å»ºçš„APIçš„æŸ¥è¯¢è¯­è¨€ã€‚
JSONStreamï¼šæµè¯»å–josnè§£æ
http-proxy-middleware:node.jsä»£ç†ä¸­é—´ä»¶ï¼Œç”¨äºè¿æ¥ï¼Œè¡¨è¾¾å’Œæµè§ˆå™¨åŒæ­¥
iconv-lite: æ–‡ä»¶ç¼–ç è½¬æ¢
workerpool: workerpoolæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥åˆ›å»ºå·¥ä½œæ± ï¼Œä»¥åŠ¨æ€å¸è½½è®¡ç®—å¹¶ç®¡ç†ä¸“ç”¨å·¥ä½œæ± ,runs on node.js, Chrome, Firefox, Opera, Safari, and IE10+.
graphql: apiæŸ¥è¯¢æ•°æ®è¯­è¨€
apollo-server: å°è£…çš„graphql
@koa/router: ç”±koa-routerä¿®æ”¹è€Œæ¥
js-yaml: jsè§£æyaml
fast-xml-parser: Validate XML or Parse XML to JS/JSON very fast without C/C++ based libraries</description></item><item><title>git</title><link>https://chenkai.life/tools/git/</link><pubDate>Fri, 23 Jul 2021 15:48:36 +0800</pubDate><guid>https://chenkai.life/tools/git/</guid><description>æ›´æ–°git yum
#å®‰è£…æº yum install http://opensource.wandisco.com/centos/7/git/x86_64/wandisco-git-release-7-2.noarch.rpm #å®‰è£…git yum install git #æ›´æ–°git yum update git sourceTreeä¿®æ”¹å¤§å°å†™ sourceTreeå¯¹æ–‡ä»¶åç§°çš„å¤§å°å†™ä¸æ•æ„Ÿï¼Œå½“ä½ ä¿®æ”¹æ–‡ä»¶åç§°çš„å¤§å°å†™è¿›è¡Œæäº¤æ—¶ï¼Œå®ƒå¹¶ä¸èƒ½è¯†åˆ«,
git mv work.js Work.js sourceTreeå›æ»šåˆ°å†å²èŠ‚ç‚¹ ç‚¹å‡»è¦å›æ»šçš„å†å²èŠ‚ç‚¹ï¼Œé‡ç½®åˆ°å†å²èŠ‚ç‚¹ï¼Œé€‰æ‹©ç¡¬åˆå¹¶ï¼› ç‚¹å‡»å½“å‰èŠ‚ç‚¹ï¼Œé‡ç½®åˆ°å½“å‰èŠ‚ç‚¹ï¼Œé€‰æ‹©è½¯åˆå¹¶ï¼› æäº¤ä¿®æ”¹å†…å®¹ï¼› git reset --hard e377f60e28c8b84158 git push -f origin develop gitå›æ»š //äº§çœ‹gitæäº¤çš„id git log //æŸ¥çœ‹å½“å‰åˆ†æ”¯ git status //æœ¬åœ°é‡ç½®åˆ°å½“å‰åˆ†æ”¯ git reset --hard 7c1eb09abaf873483359883175e31e979d216db0 //æ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ git push -f gitæäº¤è§„èŒƒ featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰ fixï¼šä¿®è¡¥bug docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰ styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰ refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰ testï¼šå¢åŠ æµ‹è¯• choreï¼šä¿®æ”¹æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ï¼Œæ·»åŠ ä¾èµ–åº“ã€å·¥å…·ç­‰ perf: ä»£ç é‡æ„ã€‚æ²¡æœ‰æ–°åŠŸèƒ½æˆ–ä¿®å¤bugï¼Œä¼˜åŒ–ç›¸å…³ï¼Œæå‡æ€§èƒ½ä½“éªŒ revery å›æ»šä¸Šä¸€ä¸ªç‰ˆæœ¬ &amp;mdash;å†™ä»£ç &amp;mdash;</description></item><item><title>nodeè°ƒç”¨ç³»ç»Ÿå‘½ä»¤</title><link>https://chenkai.life/nodejs/node_run_command/</link><pubDate>Thu, 15 Jul 2021 11:28:21 +0800</pubDate><guid>https://chenkai.life/nodejs/node_run_command/</guid><description>const exec = require(&amp;#39;util&amp;#39;).promisify(require(&amp;#39;child_process&amp;#39;).exec); async function run(command) { const { stdout, stderr } = await exec(command); if (stderr) { return { code:1, data:stderr }; } if (stdout) { return { code:0, data:stdout }; } } (async ()=&amp;gt;{ let result = await run(&amp;#39;cd ../ &amp;amp;&amp;amp; ls&amp;#39;); let result2 = await run(&amp;#39;wc -l index.js&amp;#39;); console.log(result) console.log(result2) })()</description></item><item><title>Git å­æ¨¡å—</title><link>https://chenkai.life/tools/git_submodule/</link><pubDate>Wed, 14 Jul 2021 18:10:58 +0800</pubDate><guid>https://chenkai.life/tools/git_submodule/</guid><description>è½¬è½½è‡ªhttps://www.atlassian.com/git/tutorials/git-submodule
Gitå­æ¨¡å—(git submodule)å…è®¸æ‚¨å°†gitå­˜å‚¨åº“ä½œä¸ºå¦ä¸€ä¸ªgitå­˜å‚¨åº“çš„å­ç›®å½•ã€‚ Gitå­æ¨¡å—åªæ˜¯å¯¹ç‰¹å®šæ—¶é—´å¿«ç…§ä¸­å¦ä¸€ä¸ªå­˜å‚¨åº“çš„å¼•ç”¨ã€‚ Gitå­æ¨¡å—ä½¿Gitå­˜å‚¨åº“èƒ½å¤Ÿåˆå¹¶å’Œè·Ÿè¸ªå¤–éƒ¨ä»£ç çš„ç‰ˆæœ¬å†å²è®°å½•ã€‚
å¦‚æœæ‚¨éœ€è¦å¯¹å¤–éƒ¨ä¾èµ–é¡¹è¿›è¡Œä¸¥æ ¼çš„ç‰ˆæœ¬ç®¡ç†ï¼Œé‚£ä¹ˆä½¿ç”¨ git å­æ¨¡å—æ˜¯æœ‰æ„ä¹‰çš„ã€‚
ä»€ä¹ˆæ˜¯ Gitå­æ¨¡å— é€šå¸¸ï¼Œä»£ç å­˜å‚¨åº“å°†ä¾èµ–äºå¤–éƒ¨ä»£ç ã€‚å¯ä»¥é€šè¿‡å‡ ç§ä¸åŒçš„æ–¹å¼åˆå¹¶æ­¤å¤–éƒ¨ä»£ç ã€‚å¤–éƒ¨ä»£ç å¯ä»¥ç›´æ¥å¤åˆ¶ç²˜è´´åˆ°ä¸»å­˜å‚¨åº“ä¸­ã€‚è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯ä¼šä¸¢å¤±å¯¹å¤–éƒ¨å­˜å‚¨åº“çš„ä»»ä½•ä¸Šæ¸¸æ›´æ”¹ã€‚åˆå¹¶å¤–éƒ¨ä»£ç çš„å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨è¯­è¨€çš„åŒ…ç®¡ç†ç³»ç»Ÿï¼Œå¦‚ Ruby Gems æˆ– NPMã€‚è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯éœ€è¦åœ¨éƒ¨ç½²æºä»£ç çš„æ‰€æœ‰ä½ç½®è¿›è¡Œå®‰è£…å’Œç‰ˆæœ¬ç®¡ç†ã€‚è¿™ä¸¤ç§å»ºè®®çš„åˆå¹¶æ–¹æ³•éƒ½ä¸èƒ½è·Ÿè¸ªå¯¹å¤–éƒ¨å­˜å‚¨åº“çš„ç¼–è¾‘å’Œæ›´æ”¹ã€‚
git å­æ¨¡å—æ˜¯å®¿ä¸» git å­˜å‚¨åº“ä¸­çš„ä¸€æ¡è®°å½•ï¼Œå®ƒæŒ‡å‘å¦ä¸€ä¸ªå¤–éƒ¨å­˜å‚¨åº“ä¸­çš„ç‰¹å®šæäº¤ã€‚å­æ¨¡å—éå¸¸é™æ€ï¼Œåªè·Ÿè¸ªç‰¹å®šçš„æäº¤ã€‚å­æ¨¡å—ä¸è·Ÿè¸ª git refs æˆ–åˆ†æ”¯ï¼Œå¹¶ä¸”ä¸ä¼šåœ¨ä¸»æœºå­˜å‚¨åº“æ›´æ–°æ—¶è‡ªåŠ¨æ›´æ–°ã€‚å°†å­æ¨¡å—æ·»åŠ åˆ°å­˜å‚¨åº“æ—¶ï¼Œå°†åˆ›å»ºä¸€ä¸ªæ–°çš„ .gitmodules æ–‡ä»¶ã€‚ .gitmodules æ–‡ä»¶åŒ…å«æœ‰å…³å­æ¨¡å—é¡¹ç›®çš„ URL å’Œæœ¬åœ°ç›®å½•ä¹‹é—´æ˜ å°„çš„å…ƒæ•°æ®ã€‚å¦‚æœä¸»æœºå­˜å‚¨åº“æœ‰å¤šä¸ªå­æ¨¡å—ï¼Œåˆ™ .gitmodules æ–‡ä»¶å°†ä¸ºæ¯ä¸ªå­æ¨¡å—æä¾›ä¸€ä¸ªæ¡ç›®.
Add git submodule The git submodule add is used to add a new submodule to an existing repository. The following is an example that creates an empty repo and explores git submodules.</description></item><item><title>node httpè¯·æ±‚è§£æ</title><link>https://chenkai.life/nodejs/node-http_analys/</link><pubDate>Sat, 10 Jul 2021 11:03:22 +0800</pubDate><guid>https://chenkai.life/nodejs/node-http_analys/</guid><description>æœ¬æŒ‡å—çš„å®—æ—¨å°†è®©ä½ å¯¹ HTTP ä¼ è¾“å¤„ç†æœ‰ä¸€ä¸ªæ¸…æ™°å®Œæ•´çš„äº†è§£ã€‚åœ¨ä¸è€ƒè™‘ç‰¹å®šç¼–ç¨‹è¯­è¨€åŠå¼€å‘ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬å‡è®¾ä½ å·²ç»çŸ¥é“åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ HTTP æ˜¯å¦‚ä½•è¿›è¡Œå·¥ä½œçš„ã€‚æˆ‘ä»¬åŒæ ·å‡å®šä½ ç†Ÿæ‚‰ Node.js çš„ EventEmitters å’Œ Streamsã€‚å½“ç„¶ï¼Œå¦‚æœä½ ç¡®å®ä¸äº†è§£å®ƒä»¬ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ æŠŠä»¥ä¸Šåˆ—å‡ºçš„å†…å®¹å¿«é€Ÿè€Œå®Œæ•´åœ°é˜…è¯»ä¸€éã€‚
åˆ›å»ºä¸€ä¸ªåå°æœåŠ¡ ä»»ä½•ç½‘ç»œæœåŠ¡åº”ç”¨ç¨‹åºæ€»æ˜¯è¦å…ˆåˆ›å»ºä¸€ä¸ªæœåŠ¡å¯¹è±¡ã€‚è¿™åœ¨ Node.js ä¸­é€šå¸¸é€šè¿‡ createServer æ–¹æ³•ã€‚
const http = require(&amp;#39;http&amp;#39;); const server = http.createServer((request, response) =&amp;gt; { // magic happens here! }); æ¯å½“æœ‰ HTTP è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨æ—¶ï¼ŒcreateServer ä¸­ä¼ å…¥çš„å‡½æ•°å°±è¢«è‡ªåŠ¨æ‰§è¡Œã€‚æ‰€ä»¥è¿™ä¸ªå‡½æ•°ä¹Ÿè¢«ç§°ä¸ºæ˜¯è¯·æ±‚å¤„ç†å‡½æ•°ã€‚å®é™…ä¸Šï¼Œç”± createServer æ„é€ å‡½æ•°è¿”å›çš„ Server å¯¹è±¡æ˜¯ä¸€ä¸ª EventEmitterï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä»…æ˜¯å¯¹åˆ›å»º server å’Œå¯¹å®ƒæ·»åŠ ç›‘å¬äº‹ä»¶è¿›è¡Œäº†ç®€åŒ–å¤„ç†ã€‚
const server = http.createServer(); server.on(&amp;#39;request&amp;#39;, (request, response) =&amp;gt; { // the same kind of magic happens here! }); å½“ä¸€ä¸ª HTTP åˆ°è¾¾æœåŠ¡ç«¯ï¼Œnode è°ƒç”¨ request å¤„ç†ç¨‹åºï¼Œå¹¶äº§ç”Ÿä¸€äº›å”¾æ‰‹å¯å¾—çš„å¯¹è±¡ç”¨ä»¥å¤„ç†ä¼ è¾“ï¼Œè¿™äº›å¯¹è±¡å°±æ˜¯ request å’Œ responseã€‚æˆ‘ä»¬é©¬ä¸Šä¼šè®²åˆ°ã€‚</description></item><item><title>centoså®‰è£…å¸¸ç”¨çš„è½¯ä»¶</title><link>https://chenkai.life/posts/yum_install_-software/</link><pubDate>Fri, 09 Jul 2021 16:21:38 +0800</pubDate><guid>https://chenkai.life/posts/yum_install_-software/</guid><description>å®‰è£…pg å‚è€ƒå®˜ç½‘;
Install the repository RPM: yum install https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm Install the client packages: yum install postgresql11 Optionally install the server packages: yum install postgresql11-server Optionally initialize the database and enable automatic start: /usr/pgsql-11/bin/postgresql-11-setup initdb systemctl enable postgresql-11 systemctl stop postgresql-11 systemctl start postgresql-11 systemctl restart postgresql-11 systemctl status postgresql-11 ä¿®æ”¹é…ç½®å…è®¸å¤–éƒ¨ipè®¿é—®æ•°æ®åº“ ä¿®æ”¹/var/lib/pgsql/11/data/postgresql.conf #listen_addresses = 'localhost' # what IP address(es) to listen on; æ”¹ä¸º listen_addresses = '*' ä¿®æ”¹/var/lib/pgsql/11/data/pg_hba.</description></item><item><title>koaä¸­é—´ä»¶æºç è§£æ</title><link>https://chenkai.life/nodejs/koa_middleware_analys/</link><pubDate>Fri, 09 Jul 2021 16:21:38 +0800</pubDate><guid>https://chenkai.life/nodejs/koa_middleware_analys/</guid><description>ä¸­é—´ä»¶æ˜¯koaçš„æ ¸å¿ƒï¼Œkoaçš„ä¸­é—´ä»¶æœºåˆ¶æ˜¯ä¸€ä¸ªå‰¥æ´‹è‘±å¼çš„æ¨¡å‹ï¼Œå¤šä¸ªä¸­é—´ä»¶é€šè¿‡useæ”¾è¿›ä¸€ä¸ªæ•°ç»„é˜Ÿåˆ—ç„¶åä»å¤–å±‚å¼€å§‹æ‰§è¡Œï¼Œé‡åˆ°nextåè¿›å…¥é˜Ÿåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ï¼Œæ‰€æœ‰ä¸­é—´ä»¶æ‰§è¡Œå®Œåå¼€å§‹å›å¸§ï¼Œæ‰§è¡Œé˜Ÿåˆ—ä¸­ä¹‹å‰ä¸­é—´ä»¶ä¸­æœªæ‰§è¡Œçš„ä»£ç éƒ¨åˆ†ã€‚
æºç  koaåœ¨koa-composeä¸­å®ç°äº†ä¸­é—´ä»¶éƒ¨åˆ†ï¼Œ
function compose (middleware) { // composeé¦–å…ˆä¼šå¯¹middlewareè¿›è¡Œå‚æ•°æ£€éªŒï¼Œmiddlewareå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°æ•°ç»„ï¼Œ if (!Array.isArray(middleware)) throw new TypeError(&amp;#39;Middleware stack must be an array!&amp;#39;) for (const fn of middleware) { if (typeof fn !== &amp;#39;function&amp;#39;) throw new TypeError(&amp;#39;Middleware must be composed of functions!&amp;#39;) } /** * @param {Object} context * @return {Promise} * @api public */ return function (context, next) { // last called middleware # let index = -1 return dispatch(0) async function dispatch (i) { // å¤šæ¬¡è°ƒç”¨nextå‡½æ•°ä¼šå¯¼è‡´1 &amp;lt;= index if (i &amp;lt;= index) return Promise.</description></item><item><title>nodeä¸­çš„å¤šè¿›ç¨‹</title><link>https://chenkai.life/nodejs/node_child_process/</link><pubDate>Fri, 09 Jul 2021 16:21:38 +0800</pubDate><guid>https://chenkai.life/nodejs/node_child_process/</guid><description>javascriptæ˜¯å•çº¿ç¨‹çš„å¹¶ä¸”åªåœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­è·‘ï¼Œ
child_process child_process æ¨¡å—æä¾›äº†è¡ç”Ÿå­è¿›ç¨‹çš„èƒ½åŠ›ï¼Œæ­¤åŠŸèƒ½ä¸»è¦ç”± child_process.spawn() å‡½æ•°æä¾›ï¼š
const { spawn } = require(&amp;#39;child_process&amp;#39;); const ls = spawn(&amp;#39;ls&amp;#39;, [&amp;#39;-lh&amp;#39;, &amp;#39;/usr&amp;#39;]); ls.stdout.on(&amp;#39;data&amp;#39;, (data) =&amp;gt; { console.log(`stdout: ${data}`); }); ls.stderr.on(&amp;#39;data&amp;#39;, (data) =&amp;gt; { console.error(`stderr: ${data}`); }); ls.on(&amp;#39;close&amp;#39;, (code) =&amp;gt; { console.log(`å­è¿›ç¨‹é€€å‡ºï¼Œä½¿ç”¨é€€å‡ºç  ${code}`); }); child_process.spawn() æ–¹æ³•å¼‚æ­¥åœ°è¡ç”Ÿå­è¿›ç¨‹ï¼Œä¸”ä¸é˜»å¡ Node.js äº‹ä»¶å¾ªç¯ã€‚ child_process.spawnSync() å‡½æ•°åˆ™ä»¥åŒæ­¥çš„æ–¹å¼æä¾›äº†ç­‰æ•ˆçš„åŠŸèƒ½ï¼Œä½†ä¼šé˜»å¡äº‹ä»¶å¾ªç¯ç›´åˆ°è¡ç”Ÿçš„è¿›ç¨‹é€€å‡ºæˆ–ç»ˆæ­¢ã€‚ä¸ºæ–¹ä¾¿èµ·è§ï¼Œ child_process æ¨¡å—æä¾›äº† child_process.spawn() å’Œ child_process.spawnSync() çš„ä¸€äº›åŒæ­¥å’Œå¼‚æ­¥çš„æ›¿ä»£æ–¹æ³•ã€‚ è¿™äº›æ›¿ä»£æ–¹æ³•ä¸­çš„æ¯ä¸€ä¸ªéƒ½æ˜¯åŸºäº child_process.spawn() æˆ– child_process.spawnSync() å®ç°çš„ã€‚
[child_process.spawn()]: æ–¹æ³•ä½¿ç”¨ç»™å®šçš„ command è¡ç”Ÿä¸€ä¸ªæ–°è¿›ç¨‹ï¼Œå¹¶å¸¦ä¸Š args ä¸­çš„å‘½ä»¤è¡Œå‚æ•°ã€‚ å¦‚æœçœç•¥ argsï¼Œåˆ™å…¶é»˜è®¤ä¸ºä¸€ä¸ªç©ºæ•°ç»„ã€‚ [child_process.exec()]: è¡ç”Ÿä¸€ä¸ª shell ç„¶ååœ¨è¯¥ shell ä¸­æ‰§è¡Œ commandï¼Œå¹¶ç¼“å†²ä»»ä½•äº§ç”Ÿçš„è¾“å‡ºã€‚ [child_process.</description></item><item><title>æ‰¹é‡è¿è¡Œnodeç¨‹åº</title><link>https://chenkai.life/nodejs/run_multy_node_on_shell/</link><pubDate>Fri, 09 Jul 2021 16:21:38 +0800</pubDate><guid>https://chenkai.life/nodejs/run_multy_node_on_shell/</guid><description>æ¯æ¬¡å¼€æœºéƒ½éœ€è¦æ‰‹åŠ¨æ‰§è¡Œä¸€éæ‰€æœ‰nodeç¨‹åº,å¾ˆæ˜¯éº»çƒ¦ï¼Œäºæ˜¯æ‰¾äº†ä¸€ä¸ªæ–¹æ³•å¯ä»¥ç”¨è„šæœ¬çš„å½¢å¼æ‰¹é‡æ‰“å¼€ç»ˆç«¯tabé¡µï¼Œå¹¶æ‰§è¡Œnodeç¨‹åº
ttab ttabæ˜¯ä¸€ç§macOSï¼ˆOS Xï¼‰ CLIï¼Œç”¨äºä»¥ç¼–ç¨‹æ–¹å¼åœ¨æ ‡å‡†ç»ˆç«¯åº”ç”¨ç¨‹åºä¸­æ‰“å¼€æ–°çš„ç»ˆç«¯é€‰é¡¹å¡/çª—å£Terminalï¼Œå…·æœ‰æ‰§è¡Œå‘½ä»¤å’Œ/æˆ–ç‰¹å®šæ ‡é¢˜å’Œç‰¹å®šæ˜¾ç¤ºè®¾ç½®ã€‚
npm install ttab ttab help ttab --help Opens a new terminal tab or window in OS X's Terminal application or iTerm2. ttab [-w] [-s &amp;lt;settings&amp;gt;] [-t &amp;lt;title&amp;gt;] [-q] [-g|-G] [-d &amp;lt;dir&amp;gt;] [&amp;lt;cmd&amp;gt; ...] -w open new tab in new terminal window -s &amp;lt;settings&amp;gt; assign a settings set (profile) -t &amp;lt;title&amp;gt; specify title for new tab -q clear the new tab's screen -g create tab in background (don't activate Terminal/iTerm) -G create tab in background and don't activate new tab -d &amp;lt;dir&amp;gt; specify working directory; -d '' disables inheriting the current dir.</description></item><item><title>æ£€æµ‹nodeç¨‹åºè‡ªåŠ¨é‡å¯</title><link>https://chenkai.life/nodejs/node_auto_reatart_when_change_nodemon/</link><pubDate>Fri, 09 Jul 2021 16:21:38 +0800</pubDate><guid>https://chenkai.life/nodejs/node_auto_reatart_when_change_nodemon/</guid><description>nodemonæ˜¯ä¸€ç§å·¥å…·ï¼Œé€šè¿‡åœ¨æ£€æµ‹åˆ°ç›®å½•ä¸­çš„æ–‡ä»¶æ›´æ”¹æ—¶è‡ªåŠ¨é‡æ–°å¯åŠ¨èŠ‚ç‚¹åº”ç”¨ç¨‹åºæ¥å¸®åŠ©å¼€å‘åŸºäºnode.jsçš„åº”ç”¨ç¨‹åº
nodemonå°†å…¨å±€å®‰è£…åˆ°æ‚¨çš„ç³»ç»Ÿè·¯å¾„ npm install -g nodemon nodemonåŒ…è£…æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œå› æ­¤æ‚¨å¯ä»¥ä¼ é€’é€šå¸¸ä¼ é€’ç»™åº”ç”¨ç¨‹åºçš„æ‰€æœ‰å‚æ•° nodemon [your node app] æŸ¥çœ‹å¸®åŠ© nodemon -h é…ç½®æ–‡ä»¶ nodemonæ”¯æŒæœ¬åœ°å’Œå…¨å±€é…ç½®æ–‡ä»¶ã€‚è¿™äº›é€šå¸¸æ˜¯å‘½åçš„nodemon.json,å¯ä»¥ä½äºå½“å‰å·¥ä½œç›®å½•æˆ–ä¸»ç›®å½•ä¸­ã€‚å¯ä»¥ä½¿ç”¨è¯¥&amp;ndash;config é€‰é¡¹æŒ‡å®šå¤‡ç”¨æœ¬åœ°é…ç½®æ–‡ä»¶ã€‚
{ &amp;quot;verbose&amp;quot;: true, &amp;quot;ignore&amp;quot;: [&amp;quot;*.test.js&amp;quot;, &amp;quot;fixtures/*&amp;quot;], &amp;quot;execMap&amp;quot;: { &amp;quot;rb&amp;quot;: &amp;quot;ruby&amp;quot;, &amp;quot;pde&amp;quot;: &amp;quot;processing --sketch={{pwd}} --run&amp;quot; } } nodemonæ”¯æŒä½¿ç”¨package.jsoné…ç½®,ä»¥ä¸é…ç½®æ–‡ä»¶ç›¸åŒçš„æ ¼å¼æŒ‡å®šé…ç½®ï¼Œä½†nodemonConfigåœ¨package.jsonæ–‡ä»¶ä¸­
{ &amp;quot;name&amp;quot;: &amp;quot;nodemon&amp;quot;, &amp;quot;homepage&amp;quot;: &amp;quot;http://nodemon.io&amp;quot;, &amp;quot;...&amp;quot;: &amp;quot;... other standard package.json values&amp;quot;, &amp;quot;nodemonConfig&amp;quot;: { &amp;quot;ignore&amp;quot;: [&amp;quot;test/*&amp;quot;, &amp;quot;docs/*&amp;quot;], &amp;quot;delay&amp;quot;: &amp;quot;2500&amp;quot; } } å¿½ç•¥æŒ‡å®šæ–‡ä»¶ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ‚¨å°†è¦å¿½ç•¥æŸäº›ç‰¹å®šæ–‡ä»¶ï¼Œç›®å½•æˆ–æ–‡ä»¶æ¨¡å¼ï¼Œä»¥é˜²æ­¢nodemonè¿‡æ—©åœ°é‡æ–°å¯åŠ¨æ‚¨çš„åº”ç”¨ç¨‹åºã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œnodemonä¼šå¿½ç•¥.</description></item><item><title>çºªå½•ä¸€äº›å¸¸ç”¨ç½‘ç«™</title><link>https://chenkai.life/hide/some_web/</link><pubDate>Fri, 09 Jul 2021 16:21:38 +0800</pubDate><guid>https://chenkai.life/hide/some_web/</guid><description>ç™¾åº¦æŠ€æœ¯å›¢é˜Ÿ1
ç™¾åº¦æŠ€æœ¯å›¢é˜Ÿ2
ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ
IBM
Stack Overflow
å›¾åƒè½¬ascii
vueé£æ ¼æŒ‡å—
tc39:javascriptè§„èŒƒ
javaScript æ•™ç¨‹</description></item><item><title>axiosæ ¸å¿ƒæºç è§£è¯»</title><link>https://chenkai.life/javascript/axios_analyse/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/javascript/axios_analyse/</guid><description>è½¬è½½è‡ªaxios æ ¸å¿ƒæºç è§£è¯»
ä»‹ç»axios ä¸€ç›´åœ¨ä½¿ç”¨axiosåº“ï¼Œåœ¨äº«å—å®ƒå¸¦æ¥çš„ä¾¿åˆ©çš„åŒæ—¶ï¼Œæ€»æ„Ÿè§‰ä¸è¯»è¯»å®ƒçš„æºç æœ‰ç‚¹å¯¹ä¸èµ·å®ƒï¼Œåˆšå¥½ç½‘ä¸Šä»‹ç»axiosæºç çš„æ–‡ç« è¾ƒå°‘ï¼Œæ‰€ä»¥å†™ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œæƒå½“æŠ›ç –å¼•ç‰ã€‚
axiosæ˜¯åŒæ„çš„JavaScriptçš„å¼‚æ­¥è¯·æ±‚åº“ï¼Œå®ƒå¯ä»¥åœ¨æµè§ˆå™¨ç«¯å’ŒNodeJSç¯å¢ƒé‡Œä½¿ç”¨ã€‚
VueJSçš„ä½œè€…å°¤å¤§ä¹Ÿæ¨èè¿™ä¸ªå·¥å…·ï¼Œå®ƒé™¤äº†å¼‚æ­¥è¯·æ±‚ç½‘ç»œèµ„æºåŠŸèƒ½ï¼Œè¿˜æœ‰å¦‚ä¸‹åŠŸèƒ½ï¼š
æä¾›ä»£ç†åŠŸèƒ½ æä¾›äº†æ‹¦æˆªå™¨ï¼ˆç±»ä¼¼ä¸­é—´ä»¶ï¼‰ï¼Œå¯ä»¥æ³¨å†Œåœ¨è¯·æ±‚å‘å‡ºå»ä¹‹å‰å’Œæ”¶åˆ°å“åº”ä¹‹åçš„æ“ä½œ å¯ä»¥è·å–ä¸Šä¼ è¿›åº¦å’Œä¸‹è½½è¿›åº¦ æä¾›çš„adapteré€‰é¡¹å¯ä»¥æ¨¡æ‹Ÿå“åº”æ•°æ® è‡ªå®šä¹‰å¼•èµ·æŠ¥é”™çš„å“åº”ç èŒƒå›´ æä¾›äº†å–æ¶ˆè¯·æ±‚çš„åŠŸèƒ½ axiosçš„GitHubåœ°å€ã€‚
é‚£ä¹ˆï¼Œå®ƒæ˜¯æ€ä¹ˆåŠåˆ°çš„å‘¢ï¼Ÿ é¦–å…ˆè¯´è¯´ä¸ºä»€ä¹ˆå®ƒå¯ä»¥åœ¨æµè§ˆå™¨ç«¯å’ŒNodeJSç¯å¢ƒä¸­ä½¿ç”¨ åœ¨axiosä¸­ï¼Œä½¿ç”¨é€‚é…å™¨è®¾è®¡æ¨¡å¼æ¥å±è”½å¹³å°çš„å·®å¼‚æ€§ï¼Œè®©ä½¿ç”¨è€…å¯ä»¥åœ¨æµè§ˆå™¨ç«¯å’ŒNodeJSç¯å¢ƒä¸­ä½¿ç”¨åŒä¸€å¥—APIå‘èµ·httpè¯·æ±‚ã€‚
axiosçš„é»˜è®¤é…ç½®é‡Œçš„adapteræ˜¯é€šè¿‡getDefaultAdapter()æ–¹æ³•æ¥è·å–çš„ï¼Œå®ƒçš„é€»è¾‘å¦‚ä¸‹ï¼š
function getDefaultAdapter() { var adapter; // Only Node.JS has a process variable that is of [[Class]] process if (typeof process !== &amp;#39;undefined&amp;#39; &amp;amp;&amp;amp; Object.prototype.toString.call(process) === &amp;#39;[object process]&amp;#39;) { // For node use HTTP adapter adapter = require(&amp;#39;./adapters/http&amp;#39;); } else if (typeof XMLHttpRequest !</description></item><item><title>Base64åŸç†åŠå®ç°</title><link>https://chenkai.life/posts/base64_yuanli_and_shijian/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/posts/base64_yuanli_and_shijian/</guid><description>base64 Base64æ˜¯ç”¨64ä¸ªå­—ç¬¦æ¥è¡¨ç¤ºæ•°æ®çš„æ–¹æ³•ã€‚Base64è¦æ±‚æŠŠæ¯ä¸‰ä¸ª8Bitçš„å­—èŠ‚è½¬æ¢ä¸ºå››ä¸ª6Bitçš„å­—èŠ‚ï¼Œç„¶åæŠŠ6Bitå†æ·»ä¸¤ä½é«˜ä½0ï¼Œç»„æˆå››ä¸ª8Bitçš„å­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè½¬æ¢åçš„å­—ç¬¦ä¸²ç†è®ºä¸Šå°†è¦æ¯”åŸæ¥çš„é•¿1/3ã€‚å¦‚æœè¦è½¬ç æ•°æ®å­—èŠ‚ä¸æ˜¯3çš„å€æ•°ï¼Œæœ€åä¸€ç»„å¡«å……1åˆ°2ä¸ª0å­—èŠ‚ï¼Œå¹¶åœ¨æœ€åç¼–ç å®Œæˆååœ¨ç»“å°¾æ·»åŠ 1åˆ°2ä¸ª=å·ã€‚ è½¬æ¢åï¼Œæˆ‘ä»¬æ¯ä¸ªå­—èŠ‚èŒƒå›´ä¸º[00000000-00111111],æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ª64ç è¡¨æ¥å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„å­—ç¬¦ä¸²ï¼ˆä¹Ÿå°±æ˜¯æœ€ç»ˆçš„Base64ç¼–ç ï¼‰æ ‡å‡†çš„Base64ç”¨[A-Z,a-z,0-9,+,/]64ä¸ªå­—ç¬¦ç¼–ç ã€‚
ç¼–ç  æ·±å…¥äº†è§£base64å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ç¼–ç ã€‚ç¼–ç æ˜¯ä¿¡æ¯ä»ä¸€ç§å½¢å¼æˆ–æ ¼å¼è½¬æ¢ä¸ºå¦ä¸€ç§å½¢å¼çš„è¿‡ç¨‹ã€‚è®¡ç®—æœºä¸­ï¼Œæ‰€æœ‰çš„æ•°æ®åœ¨å­˜å‚¨å’Œè¿ç®—æ—¶éƒ½ä½¿ç”¨äºŒè¿›åˆ¶ç¤ºï¼Œnä½äºŒè¿›åˆ¶ç»„åˆæˆ2çš„næ¬¡æ–¹ä¸ªä¸åŒçš„ä¿¡æ¯ï¼Œç»™æ¯ä¸ªä¿¡æ¯è§„å®šä¸€ä¸ªå…·ä½“ç ç»„ï¼Œè¿™ç§è¿‡ç¨‹å«ç¼–ç ã€‚è€Œå…·ä½“ç”¨å“ªäº›äºŒè¿›åˆ¶æ•°å­—è¡¨ç¤ºå“ªä¸ªç¬¦å·ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥çº¦å®šè‡ªå·±çš„ä¸€å¥—ç¼–ç ã€‚
å¦‚å¸¸ç”¨çš„ASCIIæ˜¯ç”±ç¾å›½å›½å®¶æ ‡å‡†å­¦ä¼šåˆ¶å®šçš„ä¸€ç§å•å­—èŠ‚å­—ç¬¦ç¼–ç ï¼Œæ ‡å‡†ASCIIç ä½¿ç”¨7ä½äºŒè¿›åˆ¶æ•°ï¼ˆå‰©ä¸‹çš„1ä½äºŒè¿›åˆ¶ä¸º0ï¼‰æ¥è¡¨ç¤ºæ‰€æœ‰çš„å¤§å†™å’Œå°å†™å­—æ¯ï¼Œæ•°å­—0åˆ°9ã€æ ‡ç‚¹ç¬¦å·ã€‚åœ¨æœ‰çš„è¯­è¨€ä¸­128ä¸ªç¬¦å·æ˜¯ä¸å¤Ÿçš„ï¼Œæœ‰äº›ç¼–ç æ–¹æ¡ˆåˆ©ç”¨å­—èŠ‚ä¸­é—²ç½®çš„æœ€é«˜ä½ç¼–å…¥æ–°çš„ç¬¦å·ï¼Œæœ‰çš„åˆ©ç”¨ä¸¤ä¸ªï¼ˆGBKç­‰ï¼‰æˆ–æ›´å¤šå­—èŠ‚ï¼ˆutf-32ç­‰ï¼‰è¡¨ç¤ºä¸€ä¸ªç¬¦å·ï¼ˆæ±‰å­—ï¼‰
Base64ç¼–ç  base64ç¼–ç è¿‡ç¨‹ï¼š
asciiç s133å¯¹åº”çš„ç¼–ç 115 49 51 51 åœ¨å†…å­˜2è¿›åˆ¶è¡¨ç¤ºï¼š 01110011 00110001 00110011 00110011 æ¯ä¸‰ç»„åˆ†ä¸º6Bitå››ç»„ 011100 110011 000100 110011 001100 110000 000000 000000 é«˜ä½è¡¥0å¾—åˆ° 00011100 00110011 00000100 00110011 00001100 00110000 00000000 00000000 å¯¹åº”åè¿›åˆ¶ 28 51 4 51 12 48 0 0 æŸ¥å¯¹ç…§è¡¨ ç”Ÿæˆbase64ç czEzMw== base64è§£ç è¿‡ç¨‹ï¼š
base64ç¼–ç è¿‡ç¨‹é€†å‘å³ä¸ºè§£ç 
javascriptä»£ç å®ç° Base64 = { _table: [ &amp;#39;A&amp;#39;, &amp;#39;B&amp;#39;, &amp;#39;C&amp;#39;, &amp;#39;D&amp;#39;, &amp;#39;E&amp;#39;, &amp;#39;F&amp;#39;, &amp;#39;G&amp;#39;, &amp;#39;H&amp;#39;, &amp;#39;I&amp;#39;, &amp;#39;J&amp;#39;, &amp;#39;K&amp;#39;, &amp;#39;L&amp;#39;, &amp;#39;M&amp;#39;, &amp;#39;N&amp;#39;, &amp;#39;O&amp;#39;, &amp;#39;P&amp;#39;, &amp;#39;Q&amp;#39;, &amp;#39;R&amp;#39;, &amp;#39;S&amp;#39;, &amp;#39;T&amp;#39;, &amp;#39;U&amp;#39;, &amp;#39;V&amp;#39;, &amp;#39;W&amp;#39;, &amp;#39;X&amp;#39;, &amp;#39;Y&amp;#39;, &amp;#39;Z&amp;#39;, &amp;#39;a&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;c&amp;#39;, &amp;#39;d&amp;#39;, &amp;#39;e&amp;#39;, &amp;#39;f&amp;#39;, &amp;#39;g&amp;#39;, &amp;#39;h&amp;#39;, &amp;#39;i&amp;#39;, &amp;#39;j&amp;#39;, &amp;#39;k&amp;#39;, &amp;#39;l&amp;#39;, &amp;#39;m&amp;#39;, &amp;#39;n&amp;#39;, &amp;#39;o&amp;#39;, &amp;#39;p&amp;#39;, &amp;#39;q&amp;#39;, &amp;#39;r&amp;#39;, &amp;#39;s&amp;#39;, &amp;#39;t&amp;#39;, &amp;#39;u&amp;#39;, &amp;#39;v&amp;#39;, &amp;#39;w&amp;#39;, &amp;#39;x&amp;#39;, &amp;#39;y&amp;#39;, &amp;#39;z&amp;#39;, &amp;#39;0&amp;#39;, &amp;#39;1&amp;#39;, &amp;#39;2&amp;#39;, &amp;#39;3&amp;#39;, &amp;#39;4&amp;#39;, &amp;#39;5&amp;#39;, &amp;#39;6&amp;#39;, &amp;#39;7&amp;#39;, &amp;#39;8&amp;#39;, &amp;#39;9&amp;#39;, &amp;#39;+&amp;#39;, &amp;#39;/&amp;#39; ], _getReg: function () { return RegExp(`^[${this.</description></item><item><title>brew</title><link>https://chenkai.life/tools/brew/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/tools/brew/</guid><description>åˆ‡æ¢åˆ°å›½å†…æº ## æ›¿æ¢brew.git: cd &amp;quot;$(brew --repo)&amp;quot; ## ä¸­å›½ç§‘å¤§: git remote set-url origin https://mirrors.ustc.edu.cn/brew.git ## æ¸…åå¤§å­¦: git remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git ## æ›¿æ¢homebrew-core.git: cd &amp;quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&amp;quot; ## ä¸­å›½ç§‘å¤§: git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git ## æ¸…åå¤§å­¦: git remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git ## æ›¿æ¢homebrew-bottles: ## ä¸­å›½ç§‘å¤§: echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles' &amp;gt;&amp;gt; ~/.bash_profile source ~/.bash_profile ## æ¸…åå¤§å­¦: echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles' &amp;gt;&amp;gt; ~/.bash_profile source ~/.bash_profile ## åº”ç”¨ç”Ÿæ•ˆ: brew update åˆ‡æ¢åˆ°å®˜æ–¹æº ## é‡ç½®brew.</description></item><item><title>csså…ƒç´ é€‰æ‹©å™¨</title><link>https://chenkai.life/web/css_select/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/web/css_select/</guid><description>CSS é€‰æ‹©å™¨è§„å®šäº† CSS è§„åˆ™ä¼šåº”ç”¨åˆ°å“ªäº›å…ƒç´ ä¸Šã€‚
åŸºæœ¬é€‰æ‹©å™¨ èŠ‚ç‚¹é€‰æ‹© CSS ç±»å‹é€‰æ‹©å™¨æŒ‰èŠ‚ç‚¹åç§°åŒ¹é…å…ƒç´ ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒé€‰æ‹©æ–‡æ¡£ä¸­ç»™å®šç±»å‹çš„æ‰€æœ‰å…ƒç´ ã€‚
/* All &amp;lt;a&amp;gt; elements. */ a { color: red; } ç±»é€‰æ‹© è¯¥CSS ç±»é€‰æ‹©åŒ¹é…æ ¹æ®ä»–ä»¬çš„å†…å®¹å…ƒç´ classå±æ€§ã€‚
/* All elements with class=&amp;#34;spacious&amp;#34; */ .spacious { margin: 2em; } /* All &amp;lt;li&amp;gt; elements with class=&amp;#34;spacious&amp;#34; */ li.spacious { margin: 2em; } /* All &amp;lt;li&amp;gt; elements with a class list that includes both &amp;#34;spacious&amp;#34; and &amp;#34;elegant&amp;#34; */ /* For example, class=&amp;#34;elegant retro spacious&amp;#34; */ li.</description></item><item><title>csså…³äºæµ®åŠ¨çš„çŸ¥è¯†</title><link>https://chenkai.life/web/css_float/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/web/css_float/</guid><description>float CSSå±æ€§æŒ‡å®šä¸€ä¸ªå…ƒç´ åº”æ²¿å…¶å®¹å™¨çš„å·¦ä¾§æˆ–å³ä¾§æ”¾ç½®ï¼Œå…è®¸æ–‡æœ¬å’Œå†…è”å…ƒç´ ç¯ç»•å®ƒã€‚ å½“ä¸€ä¸ªå…ƒç´ æµ®åŠ¨ä¹‹åï¼Œå®ƒä¼šè¢«ç§»å‡ºæ­£å¸¸çš„æ–‡æ¡£æµï¼Œç„¶åå‘å·¦æˆ–è€…å‘å³å¹³ç§»ï¼Œä¸€ç›´å¹³ç§»ç›´åˆ°ç¢°åˆ°äº†æ‰€å¤„çš„å®¹å™¨çš„è¾¹æ¡†ï¼Œæˆ–è€…ç¢°åˆ°å¦å¤–ä¸€ä¸ªæµ®åŠ¨çš„å…ƒç´ ã€‚
floatåŸå§‹ç”¨æ³• floatæœ¬æ„æ˜¯ä¸ºäº†å…è®¸æ–‡æœ¬å’Œå†…è”å…ƒç´ ç¯å®ƒå¦‚ï¼ˆæ–‡å­—ç¯ç»•å›¾ç‰‡ï¼‰,å°±åƒä¸‹é¢ä¸€æ ·
.float { float: left; width: 200px; height: 200px; background-color: red; } &amp;lt;div class=&amp;#34;wrapper&amp;#34;&amp;gt; &amp;lt;div class=&amp;#34;float&amp;#34;&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div&amp;gt; floatæœ¬æ„æ˜¯ä¸ºäº†å…è®¸æ–‡æœ¬å’Œå†…è”å…ƒç´ ç¯å®ƒ; floatæœ¬æ„æ˜¯ä¸ºäº†å…è®¸æ–‡æœ¬å’Œå†…è”å…ƒç´ ç¯å®ƒ; floatæœ¬æ„æ˜¯ä¸ºäº†å…è®¸æ–‡æœ¬å’Œå†…è”å…ƒç´ ç¯å®ƒ; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; æ»¥ç”¨float å¸¦æ¥çš„é—®é¢˜ æˆ‘ä»¬ä½¿ç”¨floatæµ®åŠ¨åšäº†å¾ˆå¤šå…¶æœ¬èŒå·¥ä½œä»¥å¤–çš„äº‹æƒ…ï¼Œä½¿ç”¨floatè¿›è¡Œåˆ†æ å¸ƒå±€ã€åˆ—è¡¨æ’åˆ—ï¼Œä½†æ˜¯å¦‚æœä¸€ä¸ªå…ƒç´ é‡Œåªæœ‰æµ®åŠ¨å…ƒç´ ï¼Œé‚£å®ƒçš„é«˜åº¦ä¼šæ˜¯0ã€‚å¦‚æœä½ æƒ³è¦å®ƒè‡ªé€‚åº”å³åŒ…å«æ‰€æœ‰æµ®åŠ¨å…ƒç´ ï¼Œé‚£ä½ éœ€è¦æ¸…é™¤å®ƒçš„å­å…ƒç´ ã€‚
æ¸…é™¤æµ®åŠ¨çš„å‡ ç§åŠæ³• ::afterä¼ªå…ƒç´  è¿™ç§æ–¹å¼ä¸ä¼šå½±å“ä»»ä½•å…¶ä»–æ ·å¼ï¼Œé€šç”¨æ€§å¼ºï¼Œè¦†ç›–é¢å¹¿ï¼Œæ¨èä½¿ç”¨
#container::after { content: &amp;#34;&amp;#34;; display: block; clear: both; } ç±»ä¼¼çš„å¯ä»¥åœ¨å…ƒç´ åé¢åŠ ä¸€ä¸ª&amp;lt;div style=&amp;quot;clear:both;&amp;quot; &amp;gt;&amp;lt;/div&amp;gt;ç©ºå…ƒç´ 
å…¶ä»–æ¸…é™¤æµ®åŠ¨æ–¹æ³• IEä¸‹æ¸…é™¤æµ®åŠ¨å‡†åˆ™å¾ˆç®€å•ï¼Œä½¿å…ƒç´ haslayoutå°±å¯ä»¥äº†ã€‚å¦‚å®½åº¦å€¼ï¼Œé«˜åº¦å€¼ï¼Œç»å¯¹å®šä½ï¼Œzoomï¼Œæµ®åŠ¨æœ¬èº«éƒ½å¯ä»¥è®©å…ƒç´ haslayoutã€‚æ˜¾ç„¶ï¼Œé¦–é€‰zoom:1;ä¸ä¼šå¹²æ‰°ä»»ä½•æ ·å¼ã€‚éIEæµè§ˆå™¨å¸¸ç”¨çš„æ˜¯overflowå±æ€§
containerä¹Ÿæµ®åŠ¨,è¿™ç§æ–¹å¼æ²»æ ‡ä¸æ²»æœ¬æ€»ä¸èƒ½ä¸€ç›´æµ®åŠ¨åˆ°root
#container{ float:left; } ä½¿ç”¨position: absolute</description></item><item><title>defineProperty</title><link>https://chenkai.life/javascript/js_defineproperty/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/javascript/js_defineproperty/</guid><description>Object.defineProperty() æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œ å¹¶è¿”å›è¿™ä¸ªå¯¹è±¡ã€‚
Object.defineProperty(obj, prop, descriptor) obj:è¦åœ¨å…¶ä¸Šå®šä¹‰å±æ€§çš„å¯¹è±¡ã€‚ prop:è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„åç§°ã€‚ descriptor:å°†è¢«å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦ã€‚ æè¿°ç¬¦å¯ä»¥æœ‰ä»¥ä¸‹å±æ€§ï¼š
configurableï¼šå½“ä¸”ä»…å½“è¯¥å±æ€§çš„ configurable ä¸º true æ—¶ï¼Œè¯¥å±æ€§æè¿°ç¬¦æ‰èƒ½å¤Ÿè¢«æ”¹å˜ï¼ŒåŒæ—¶è¯¥å±æ€§ä¹Ÿèƒ½ä»å¯¹åº”çš„å¯¹è±¡ä¸Šè¢«åˆ é™¤ã€‚é»˜è®¤ä¸º false enumerableï¼š å½“ä¸”ä»…å½“è¯¥å±æ€§çš„enumerableä¸ºtrueæ—¶ï¼Œè¯¥å±æ€§æ‰èƒ½å¤Ÿå‡ºç°åœ¨å¯¹è±¡çš„æšä¸¾å±æ€§ä¸­ï¼Œdefaultï¼šfalse valueï¼š è¯¥å±æ€§å¯¹åº”çš„å€¼ã€‚å¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„ JavaScript å€¼ï¼ˆæ•°å€¼ï¼Œå¯¹è±¡ï¼Œå‡½æ•°ç­‰ï¼‰ã€‚é»˜è®¤ä¸º undefined writableï¼š å½“ä¸”ä»…å½“è¯¥å±æ€§çš„writableä¸ºtrueæ—¶ï¼Œvalueæ‰èƒ½è¢«èµ‹å€¼è¿ç®—ç¬¦æ”¹å˜ã€‚é»˜è®¤ä¸º falseã€‚ getï¼š ä¸€ä¸ªç»™å±æ€§æä¾› getter çš„æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰ getter åˆ™ä¸º undefinedã€‚å½“è®¿é—®è¯¥å±æ€§æ—¶ï¼Œè¯¥æ–¹æ³•ä¼šè¢«æ‰§è¡Œï¼Œæ–¹æ³•æ‰§è¡Œæ—¶æ²¡æœ‰å‚æ•°ä¼ å…¥ï¼Œä½†æ˜¯ä¼šä¼ å…¥thiså¯¹è±¡ï¼ˆç”±äºç»§æ‰¿å…³ç³»ï¼Œè¿™é‡Œçš„thiså¹¶ä¸ä¸€å®šæ˜¯å®šä¹‰è¯¥å±æ€§çš„å¯¹è±¡ setï¼š ä¸€ä¸ªç»™å±æ€§æä¾› setter çš„æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰ setter åˆ™ä¸º undefinedã€‚å½“å±æ€§å€¼ä¿®æ”¹æ—¶ï¼Œè§¦å‘æ‰§è¡Œè¯¥æ–¹æ³•ã€‚è¯¥æ–¹æ³•å°†æ¥å—å”¯ä¸€å‚æ•°ï¼Œå³è¯¥å±æ€§æ–°çš„å‚æ•°å€¼ã€‚ @return:ä¼ é€’ç»™å‡½æ•°çš„å¯¹è±¡ã€‚
example // æ•°ç»„æ‹¦æˆª /** * * @param {array} data */ function observe(data) { if (!Array.isArray(data)) { return; } // å–å‡ºæ‰€æœ‰æ•°ç»„éå† data.forEach(function(val,index) { Object.defineProperty(data, index, { enumerable: true, // å¯æšä¸¾ configurable: false, // ä¸èƒ½å†define get: function() { return val; }, set: function(newVal) { console.</description></item><item><title>docker</title><link>https://chenkai.life/tools/docker/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/tools/docker/</guid><description>å®‰è£…/å¸è½½docker å®‰è£…è¿‡ç¨‹å‚è€ƒå®˜ç½‘;
yum update ## ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥è®¾ç½®çš„å­˜å‚¨åº“ sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo sudo yum install docker-ce docker-ce-cli containerd.io sudo systemctl start docker å¸è½½ sudo yum -y remove docker-ee ## åˆ é™¤æ‰€æœ‰å›¾åƒï¼Œå®¹å™¨å’Œå· sudo rm -rf /var/lib/docker ## åˆ é™¤å…¶ä»–ä¸Dockerç›¸å…³çš„èµ„æº $ sudo rm -rf /run/docker $ sudo rm -rf /var/run/docker $ sudo rm -rf /etc/docker å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ docekerç‰ˆæœ¬å’Œç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬ä¸å…¼å®¹ å‡çº§ç³»ç»Ÿå†…æ ¸æˆ–è€…é™ä½dockerç‰ˆæœ¬ yumå®‰è£…å¤±è´¥ ## è§£å†³ä¾èµ–å†²çª package-cleanup --cleandupes æ‰¾ä¸åˆ°å®‰è£…åŒ… æ·»åŠ è®¾ç½®çš„å­˜å‚¨åº“ å®¹å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç† docker start :å¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå·²ç»è¢«åœæ­¢çš„å®¹å™¨ docker stop :åœæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ docker restart :é‡å¯å®¹å™¨ docker-compose æ–‡ä»¶å¯åŠ¨é•œåƒ docker-compose up -d redis åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨ä½†ä¸å¯åŠ¨ï¼Œç”¨æ³•åŒdocker run ä½¿ç”¨dockeré•œåƒnginx:lateståˆ›å»ºä¸€ä¸ªå®¹å™¨,å¹¶å°†å®¹å™¨å‘½åä¸ºmyrunoob docker create --name myrunoob nginx:latest åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤ ä½¿ç”¨dockeré•œåƒnginx:latestä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,å¹¶å°†å®¹å™¨å‘½åä¸ºmynginxã€‚ docker run --name mynginx -d nginx:latest ä½¿ç”¨é•œåƒnginx:latestä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,å¹¶å°†å®¹å™¨çš„80ç«¯å£æ˜ å°„åˆ°ä¸»æœºéšæœºç«¯å£ã€‚ docker run -P -d nginx:latest ä½¿ç”¨é•œåƒ nginx:latestï¼Œä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,å°†ä¸»æœºçš„ 80 ç«¯å£æ˜ å°„åˆ° å®¹å™¨çš„ 80 ç«¯å£,ä¸»æœºçš„ç›®å½• /data æ˜ å°„åˆ°å®¹å™¨çš„ /dataã€‚ docker run -p 80:80 -v /data:/data -d nginx:latest é•œåƒå®¹å™¨ç®¡ç† ç»™imageæ‰“æ ‡ç­¾ docker tag e9cb35287c01 geohey-nlpa-platform:gd ä¿å­˜ä¸ºæœ¬åœ°æ–‡ä»¶ docker save -o geohey-nlpa-platform.</description></item><item><title>DOMä¸­çš„event</title><link>https://chenkai.life/web/dom_event/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/web/dom_event/</guid><description>event Event æ¥å£è¡¨ç¤ºåœ¨ DOM ä¸­å‘ç”Ÿçš„ä»»ä½•äº‹ä»¶; ä¸€äº›æ˜¯ç”¨æˆ·ç”Ÿæˆçš„ï¼ˆä¾‹å¦‚é¼ æ ‡æˆ–é”®ç›˜äº‹ä»¶ï¼‰ï¼Œè€Œå…¶ä»–ç”± API ç”Ÿæˆï¼ˆä¾‹å¦‚æŒ‡ç¤ºåŠ¨ç”»å·²ç»å®Œæˆè¿è¡Œçš„äº‹ä»¶ï¼Œè§†é¢‘å·²è¢«æš‚åœç­‰ç­‰ã€‚äº‹ä»¶é€šå¸¸ç”±å¤–éƒ¨æºè§¦å‘ï¼ŒåŒæ ·ä¹Ÿä¼šä»¥ç¼–ç¨‹æ–¹å¼è§¦å‘ï¼Œä¾‹å¦‚æ‰§è¡Œä¸€ä¸ª element çš„ä¸€ä¸ª HTMLElement.click( ) æ–¹æ³•ï¼Œæˆ–é€šè¿‡å®šä¹‰äº‹ä»¶ï¼Œç„¶åä½¿ç”¨ EventTarget.dispatchEvent() å°†å…¶æ´¾å‘åˆ°ä¸€ä¸ªæŒ‡å®šçš„ç›®æ ‡ã€‚æœ‰è®¸å¤šç±»å‹çš„äº‹ä»¶ï¼Œå…¶ä¸­ä¸€äº›ä½¿ç”¨åŸºäºä¸»è¦äº‹ä»¶æ¥å£çš„å…¶ä»–æ¥å£ã€‚äº‹ä»¶æœ¬èº«åŒ…å«æ‰€æœ‰äº‹ä»¶é€šç”¨çš„å±æ€§å’Œæ–¹æ³•ã€‚ äº‹ä»¶å¤„ç†å‡½æ•°å¯ä»¥é™„åŠ åœ¨å„ç§å¯¹è±¡ä¸Šï¼ŒåŒ…æ‹¬ DOMå…ƒç´ ,window,documentå¯¹è±¡. ç­‰
æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥ä¸ºDOMå…ƒç´ æ³¨å†Œäº‹ä»¶å¤„ç†å‡½æ•°
EventTarget.addEventListener // Assuming myButton is a button element myButton.addEventListener(&amp;#39;click&amp;#39;, function(){alert(&amp;#39;Hello world&amp;#39;);}, false); HTML å±æ€§ &amp;lt;button onclick=&amp;#34;alert(&amp;#39;Hello world!&amp;#39;)&amp;#34;&amp;gt; DOM å…ƒç´ å±æ€§ è¯¥å‡½æ•°åœ¨å®šä¹‰æ—¶ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ª event å½¢å¼çš„å‚æ•°ã€‚ åœ¨HTML è§„èŒƒä¸­ï¼Œå…¶è¿”å›å€¼ä¼šä»¥ä¸€ç§ç‰¹æ®Šçš„æ–¹å¼è¢«å¤„ç†ã€‚
// Assuming myButton is a button element myButton.onclick = function(event){alert('Hello world');}; åˆ›å»ºè‡ªå®šä¹‰äº‹ä»¶ å¯ä»¥ä½¿ç”¨äº‹ä»¶æ„é€ å‡½æ•°åˆ›å»ºäº‹ä»¶
var event = new Event(&amp;#39;build&amp;#39;); let eventEle = document.</description></item><item><title>eggjs</title><link>https://chenkai.life/nodejs/eggjs/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/nodejs/eggjs/</guid><description>eggåˆå§‹åŒ–è®¾ç½® const dir = path.join(app.baseDir, '/app/model/'); app.loader.loadToContext(dir, 'model'); //åªæ‰§è¡Œä¸€æ¬¡ app.once('server', async (server) =&amp;gt; { //è®¾ç½®ä¸€ä¸ªç©ºçš„ä¸Šä¸‹æ–‡ const ctx = app.createAnonymousContext(); //è·å–è®¾ç½® var settings = await ctx.model.setting.getAll(); });</description></item><item><title>Flexå¼¹æ€§å¸ƒå±€</title><link>https://chenkai.life/web/css_flex/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/web/css_flex/</guid><description>&lt;h2 id="å¼¹æ€§å¸ƒå±€">
å¼¹æ€§å¸ƒå±€
&lt;a class="heading-link" href="#%e5%bc%b9%e6%80%a7%e5%b8%83%e5%b1%80">
&lt;i class="fa fa-link" aria-hidden="true">&lt;/i>
&lt;/a>
&lt;/h2>
&lt;h3 id="ä¸€å¼¹æ€§å¸ƒå±€æ˜¯ä»€ä¹ˆ">
ä¸€.å¼¹æ€§å¸ƒå±€æ˜¯ä»€ä¹ˆï¼Ÿ
&lt;a class="heading-link" href="#%e4%b8%80%e5%bc%b9%e6%80%a7%e5%b8%83%e5%b1%80%e6%98%af%e4%bb%80%e4%b9%88">
&lt;i class="fa fa-link" aria-hidden="true">&lt;/i>
&lt;/a>
&lt;/h3>
&lt;p>ä»»ä½•ä¸€ä¸ªå®¹å™¨éƒ½å¯ä»¥æŒ‡å®šä¸º Flex å¸ƒå±€&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-css" data-lang="css">.&lt;span style="color:#a6e22e">box&lt;/span>{
&lt;span style="color:#66d9ef">display&lt;/span>: &lt;span style="color:#66d9ef">flex&lt;/span>;
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¡Œå†…å…ƒç´ ä¹Ÿå¯ä»¥ä½¿ç”¨ Flex å¸ƒå±€ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-css" data-lang="css">.&lt;span style="color:#a6e22e">box&lt;/span>{
&lt;span style="color:#66d9ef">display&lt;/span>: &lt;span style="color:#66d9ef">inline&lt;/span>&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#66d9ef">flex&lt;/span>;
}
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>gdalå‘½ä»¤</title><link>https://chenkai.life/tools/gdal/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/tools/gdal/</guid><description>ç±»å‹è½¬æ¢ æ ¼å¼ogr2ogr -f &amp;quot;fileType&amp;quot; fileName sourceFile
æ•°æ®åº“&amp;gt;geojson
ogr2ogr -f &amp;quot;GeoJSON&amp;quot; cn_polygon.geojson PG:&amp;quot;host=localhost dbname=postgres user=postgres password=password&amp;quot; -sql &amp;quot;select * from planet_osm_polygon limit 30000&amp;quot; geojson&amp;gt;shp
ogr2ogr -f &amp;quot;ESRI Shapefile&amp;quot; test.shp china_diaoyudao.geojson.json æ•°æ®å…¥åº“ geojson&amp;gt;postgre
/usr/local/Cellar/gdal2/2.3.2_1/bin/ogr2ogr -dim XY -gt 65536 -skipfailures -progress --config OGR_FORCE_ASCII NO --config PG_USE_COPY YES -overwrite -f PostgreSQL PG:&amp;quot;host=localhost port=5432 dbname=g-default user=projx password=sss&amp;quot; -lco FID=_id -lco GEOMETRY_NAME=the_geom -nln ${è¡¨å} &amp;quot;${æ–‡ä»¶å}&amp;quot; csv&amp;gt;postgre
/usr/local/Cellar/gdal2/2.3.2_1/bin/ogr2ogr -dim XY -gt 65536 -skipfailures --config PG_USE_COPY YES -overwrite -oo AUTODETECT_TYPE=YES -f PostgreSQL PG:&amp;quot;host=localhost port=5432 dbname=g-default user=projx password=sss&amp;quot; -lco FID=_id -nln ${start.</description></item><item><title>getå’Œset</title><link>https://chenkai.life/javascript/js_get_and_set/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/javascript/js_get_and_set/</guid><description>ä½ å¯ä»¥åœ¨æ”¯æŒæ·»åŠ æ–°å±æ€§çš„ä»»ä½•æ ‡å‡†çš„å†…ç½®å¯¹è±¡æˆ–ç”¨æˆ·å®šä¹‰çš„å¯¹è±¡å†…å®šä¹‰getter(è®¿é—®æ–¹æ³•)å’Œsetter(è®¾ç½®æ–¹æ³•)ã€‚ä½¿ç”¨å¯¹è±¡å­—é¢é‡è¯­æ³•å®šä¹‰getterså’Œsettersæ–¹æ³•ã€‚
get getè¯­æ³•å°†å¯¹è±¡å±æ€§ç»‘å®šåˆ°æŸ¥è¯¢è¯¥å±æ€§æ—¶å°†è¢«è°ƒç”¨çš„å‡½æ•°,æœ‰æ—¶éœ€è¦å…è®¸è®¿é—®è¿”å›åŠ¨æ€è®¡ç®—å€¼çš„å±æ€§ï¼Œæˆ–è€…ä½ å¯èƒ½éœ€è¦åæ˜ å†…éƒ¨å˜é‡çš„çŠ¶æ€ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨æ˜¾å¼æ–¹æ³•è°ƒç”¨ã€‚åœ¨JavaScriptä¸­ï¼Œå¯ä»¥ä½¿ç”¨ getter æ¥å®ç°ã€‚è™½ç„¶å¯ä»¥ä½¿ç”¨ getter å’Œ setter æ¥åˆ›å»ºä¸€ä¸ªä¼ªå±æ€§ç±»å‹ï¼Œä½†æ˜¯ä¸å¯èƒ½åŒæ—¶å°†ä¸€ä¸ª getter ç»‘å®šåˆ°ä¸€ä¸ªå±æ€§å¹¶ä¸”è¯¥å±æ€§å®é™…ä¸Šå…·æœ‰ä¸€ä¸ªå€¼
ä½¿ç”¨getè¯­æ³•æ—¶åº”æ³¨æ„ä»¥ä¸‹é—®é¢˜ï¼š
å¯ä»¥ä½¿ç”¨æ•°å€¼æˆ–å­—ç¬¦ä¸²ä½œä¸ºæ ‡è¯†ï¼› å¿…é¡»ä¸å¸¦å‚æ•°ï¼› å®ƒä¸èƒ½ä¸å¦ä¸€ä¸ª get æˆ–å…·æœ‰ç›¸åŒå±æ€§çš„æ•°æ®æ¡ç›®åŒæ—¶å‡ºç°åœ¨ä¸€ä¸ªå¯¹è±¡å­—é¢é‡ä¸­ï¼ˆä¸å…è®¸ä½¿ç”¨ { get x() { }, get x() { } } å’Œ { x: &amp;hellip;, get x() { } }ï¼‰ã€‚ å¯é€šè¿‡ delete æ“ä½œç¬¦åˆ é™¤ getterã€‚ åœ¨æ–°å¯¹è±¡åˆå§‹åŒ–æ—¶å®šä¹‰ä¸€ä¸ªgetter è¿™ä¼šä¸ºobjåˆ›å»ºä¸€ä¸ªä¼ªå±æ€§latestï¼Œå®ƒä¼šè¿”å›logæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ,æ³¨æ„ï¼Œå°è¯•ä¸ºlateståˆ†é…ä¸€ä¸ªå€¼ä¸ä¼šæ”¹å˜å®ƒã€‚
var obj = { log: [&amp;#39;a&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;c&amp;#39;], get latest() { if (this.log.length == 0) { return undefined; } return this.</description></item><item><title>globè¡¨è¾¾å¼</title><link>https://chenkai.life/posts/glob_expression/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/posts/glob_expression/</guid><description>globè¡¨è¾¾å¼æ˜¯åŒ¹é…æ–‡ä»¶è·¯å¾„çš„è¡¨è¾¾å¼ã€‚
globè¡¨è¾¾å¼è§„åˆ™ Matches 0 or more characters in a single path portion ? Matches 1 character [&amp;hellip;] Matches a range of characters, similar to a RegExp range. If the first character of the range is ! or + ^ then it matches any character not in the range. !(pattern|pattern|pattern) Matches anything that does not match any of the patterns provided. ?(pattern|pattern|pattern) Matches zero or one occurrence of the patterns provided.</description></item><item><title>HTTP API è®¤è¯æˆæƒæœ¯</title><link>https://chenkai.life/posts/http-api-renzhengshouquan/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/posts/http-api-renzhengshouquan/</guid><description>è½¬è½½è‡ªhttps://coolshell.cn/articles/19395.html#coolshell-2
æˆ‘ä»¬çŸ¥é“ï¼ŒHTTPæ˜¯æ— çŠ¶æ€çš„ï¼Œæ‰€ä»¥ï¼Œå½“æˆ‘ä»¬éœ€è¦è·å¾—ç”¨æˆ·æ˜¯å¦åœ¨ç™»å½•çš„çŠ¶æ€æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œç”¨æˆ·çš„ç™»å½•æˆåŠŸåï¼ŒæœåŠ¡å™¨ä¼šå‘ä¸€ä¸ªç™»å½•å‡­è¯ï¼ˆåˆè¢«å«ä½œTokenï¼‰ï¼Œå°±åƒä½ å»è®¿é—®æŸä¸ªå…¬å¸ï¼Œåœ¨å‰å°è¢«è®¤è¯è¿‡åˆæ³•åï¼Œè¿™ä¸ªå…¬å¸çš„å‰å°ä¼šç»™ä½ çš„ä¸€ä¸ªè®¿å®¢å¡ä¸€æ ·ï¼Œä¹‹åï¼Œä½ åœ¨è¿™ä¸ªå…¬å¸å†…å»åˆ°å“ªéƒ½ç”¨è¿™ä¸ªè®¿å®¢å¡æ¥å¼€é—¨ï¼Œè€Œä¸å†æ ¡éªŒä½ æ˜¯å“ªä¸€ä¸ªäººã€‚åœ¨è®¡ç®—æœºçš„ä¸–ç•Œé‡Œï¼Œè¿™ä¸ªç™»å½•å‡­è¯çš„ç›¸å…³æ•°æ®ä¼šæ”¾åœ¨ä¸¤ç§åœ°æ–¹ï¼Œä¸€ä¸ªåœ°æ–¹åœ¨ç”¨æˆ·ç«¯ï¼Œä»¥Cookieçš„æ–¹å¼ï¼ˆä¸€èˆ¬ä¸ä¼šæ”¾åœ¨æµè§ˆå™¨çš„Local Storageï¼Œå› ä¸ºè¿™å¾ˆå®¹æ˜“å‡ºç°ç™»å½•å‡­è¯è¢«XSSæ”»å‡»ï¼‰ï¼Œå¦ä¸€ä¸ªåœ°æ–¹æ˜¯æ”¾åœ¨æœåŠ¡å™¨ç«¯ï¼Œåˆå«Sessionçš„æ–¹å¼ï¼ˆSessonIDå­˜äºCookieï¼‰ã€‚
ä½†æ˜¯ï¼Œè¿™ä¸ªä¸–ç•Œè¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œé™¤äº†ç”¨æˆ·è®¿é—®ï¼Œè¿˜æœ‰ç”¨æˆ·å§”æ‰˜çš„ç¬¬ä¸‰æ–¹çš„åº”ç”¨ï¼Œè¿˜æœ‰ä¼ä¸šå’Œä¼ä¸šé—´çš„è°ƒç”¨ï¼Œè¿™é‡Œï¼Œæˆ‘æƒ³æŠŠä¸šå†…å¸¸ç”¨çš„ä¸€äº› APIè®¤è¯æŠ€æœ¯ç›¸å¯¹ç³»ç»Ÿåœ°æ€»ç»“å½’çº³ä¸€ä¸‹ï¼Œè¿™æ ·å¯ä»¥è®©å¤§å®¶æ›´ä¸ºå…¨é¢çš„äº†è§£è¿™äº›æŠ€æœ¯ã€‚æ³¨æ„ï¼Œè¿™æ˜¯ä¸€ç¯‡é•¿æ–‡ï¼
æœ¬ç¯‡æ–‡ç« ä¼šè¦†ç›–å¦‚ä¸‹æŠ€æœ¯ï¼š
HTTP Basic Digest Access App Secret Key + HMAC JWT â€“ JSON Web Tokens OAuth 1.0 â€“ 3 legged &amp;amp; 2 legged OAuth 2.0 â€“ Authentication Code &amp;amp; Client Credential ç›®å½•
HTTP BasicDigest AccessApp Secret Key + HMACJWT â€“ JSON Web TokensOAuth 1.0OAuth 2.0Authorization Code FlowClient Credential Flowå°ç»“ä¸¤ä¸ªæ¦‚å¿µå’Œä¸‰ä¸ªæœ¯è¯­æ˜ç™½ä¸€äº›åˆè¡·ç›¸å…³çš„æ³¨æ„äº‹é¡¹
HTTP Basic HTTP Basic æ˜¯ä¸€ä¸ªéå¸¸ä¼ ç»Ÿçš„APIè®¤è¯æŠ€æœ¯ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„æŠ€æœ¯ã€‚è¿™ä¸ªæŠ€æœ¯ä¹Ÿå°±æ˜¯ä½¿ç”¨ usernameå’Œ password æ¥è¿›è¡Œç™»å½•ã€‚æ•´ä¸ªè¿‡ç¨‹è¢«å®šä¹‰åœ¨äº† RFC 2617 ä¸­ï¼Œä¹Ÿè¢«æè¿°åœ¨äº† Wikipedia: Basic Access Authentication è¯æ¡ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å‚çœ‹ MDN HTTP Authentication</description></item><item><title>HTTPçš„å‰ä¸–ä»Šç”Ÿ</title><link>https://chenkai.life/posts/http/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/posts/http/</guid><description>è½¬è½½è‡ªhttps://coolshell.cn/articles/19840.html
HTTP (Hypertext transfer protocol) ç¿»è¯‘æˆä¸­æ–‡æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜¯äº’è”ç½‘ä¸Šé‡è¦çš„ä¸€ä¸ªåè®®ï¼Œç”±æ¬§æ´²æ ¸å­ç ”ç©¶å§”å‘˜ä¼šCERNçš„è‹±å›½å·¥ç¨‹å¸ˆ Tim Berners-Lee vå‘æ˜çš„ï¼ŒåŒæ—¶ï¼Œä»–ä¹Ÿæ˜¯WWWçš„å‘æ˜äººï¼Œæœ€åˆçš„ä¸»è¦æ˜¯ç”¨äºä¼ é€’é€šè¿‡HTMLå°è£…è¿‡çš„æ•°æ®ã€‚åœ¨1991å¹´å‘å¸ƒäº†HTTP 0.9ç‰ˆï¼Œåœ¨1996å¹´å‘å¸ƒ1.0ç‰ˆï¼Œ1997å¹´æ˜¯1.1ç‰ˆï¼Œ1.1ç‰ˆä¹Ÿæ˜¯åˆ°ä»Šå¤©ä¸ºæ­¢ä¼ è¾“æœ€å¹¿æ³›çš„ç‰ˆæœ¬ï¼ˆåˆå§‹RFC 2068 åœ¨1997å¹´å‘å¸ƒï¼Œ ç„¶ååœ¨1999å¹´è¢« RFC 2616 å–ä»£ï¼Œå†åœ¨2014å¹´è¢« RFC 7230 /7231/7232/7233/7234/7235å–ä»£ï¼‰ï¼Œ2015å¹´å‘å¸ƒäº†2.0ç‰ˆï¼Œå…¶æå¤§çš„ä¼˜åŒ–äº†HTTP/1.1çš„æ€§èƒ½å’Œå®‰å…¨æ€§ï¼Œè€Œ2018å¹´å‘å¸ƒçš„3.0ç‰ˆï¼Œç»§ç»­ä¼˜åŒ–HTTP/2ï¼Œæ¿€è¿›åœ°ä½¿ç”¨UDPå–ä»£TCPåè®®ï¼Œç›®å‰ï¼ŒHTTP/3 åœ¨2019å¹´9æœˆ26æ—¥ è¢« Chromeï¼ŒFirefoxï¼Œå’ŒCloudflareæ”¯æŒï¼Œæ‰€ä»¥æˆ‘æƒ³å†™ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œç®€å•åœ°è¯´ä¸€ä¸‹HTTPçš„å‰ä¸–ä»Šç”Ÿï¼Œè®©å¤§å®¶å­¦åˆ°ä¸€äº›çŸ¥è¯†ï¼Œå¹¶å¸Œæœ›å¯ä»¥åœ¨æ¨åŠ¨ä¸€ä¸‹HTTPæ ‡å‡†åè®®çš„å‘å±•ã€‚
HTTP 0.9 / 1.0 0.9å’Œ1.0è¿™ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå°±æ˜¯æœ€ä¼ ç»Ÿçš„ request â€“ responseçš„æ¨¡å¼äº†ï¼ŒHTTP 0.9ç‰ˆæœ¬çš„åè®®ç®€å•åˆ°æç‚¹ï¼Œè¯·æ±‚æ—¶ï¼Œä¸æ”¯æŒè¯·æ±‚å¤´ï¼Œåªæ”¯æŒ GET æ–¹æ³•ï¼Œæ²¡äº†ã€‚HTTP 1.0 æ‰©å±•äº†0.9ç‰ˆï¼Œå…¶ä¸­ä¸»è¦å¢åŠ äº†å‡ ä¸ªå˜åŒ–ï¼š
åœ¨è¯·æ±‚ä¸­åŠ å…¥äº†HTTPç‰ˆæœ¬å·ï¼Œå¦‚ï¼šGET /coolshell/index.html HTTP/1.0 HTTP å¼€å§‹æœ‰ headeräº†ï¼Œä¸ç®¡æ˜¯requestè¿˜æ˜¯response éƒ½æœ‰headeräº†ã€‚ å¢åŠ äº†HTTP Status Code æ ‡è¯†ç›¸å…³çš„çŠ¶æ€ç ã€‚ è¿˜æœ‰ Content-Type å¯ä»¥ä¼ è¾“å…¶å®ƒçš„æ–‡ä»¶äº†ã€‚ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒHTTP 1.0 å¼€å§‹è®©è¿™ä¸ªåè®®å˜å¾—å¾ˆæ–‡æ˜äº†ï¼Œä¸€ç§å·¥ç¨‹æ–‡æ˜ã€‚å› ä¸ºï¼š
ä¸€ä¸ªåè®®æœ‰æ²¡æœ‰ç‰ˆæœ¬ç®¡ç†ï¼Œæ˜¯ä¸€ä¸ªå·¥ç¨‹åŒ–çš„è±¡å¾ã€‚ headeræ˜¯åè®®å¯ä»¥è¯´æ˜¯æŠŠå…ƒæ•°æ®å’Œä¸šåŠ¡æ•°æ®è§£è€¦ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯æ§åˆ¶é€»è¾‘å’Œä¸šåŠ¡é€»è¾‘çš„åˆ†ç¦»ã€‚ Status Code çš„å‡ºç°å¯ä»¥è®©è¯·æ±‚åŒæ–¹ä»¥åŠç¬¬ä¸‰æ–¹çš„ç›‘æ§æˆ–ç®¡ç†ç¨‹åºæœ‰äº†ç»Ÿä¸€çš„è®¤è¯†ã€‚æœ€å…³é”®æ˜¯è¿˜æ˜¯æ§åˆ¶é”™è¯¯å’Œä¸šåŠ¡é”™è¯¯çš„åˆ†ç¦»ã€‚ ï¼ˆæ³¨ï¼šå›½å†…å¾ˆå¤šå…¬å¸HTTPæ— è®ºå¯¹é”™åªè¿”å›200ï¼Œè¿™ç§æŠŠHTTP Status Code å…¨éƒ¨æŠ¹æ‰å®Œå…¨æ˜¯ä¸€ç§å·¥ç¨‹ç•Œçš„å€’é€€ï¼‰</description></item><item><title>Jenkins</title><link>https://chenkai.life/tools/jenkins/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/tools/jenkins/</guid><description>é»˜è®¤ç”¨æˆ·åï¼šadmin,æŸ¥çœ‹å¯†ç ï¼šsudo vi /Users/Shared/Jenkins/Home/secrets/initialAdminPassword
å®‰è£…åŒ…å®‰è£…çš„Jenkins ä¿®æ”¹é»˜è®¤ç«¯å£çš„æ–¹æ³•ï¼š
å…ˆå…³é—­jenkins ; å‘½ä»¤è¡Œä¸‹ä¿®æ”¹ç«¯å£ï¼šsudo defaults write /Library/Preferences/org.jenkins-ci httpPort 7071 å¯åŠ¨jenkins é™„ï¼š
å¯åŠ¨jenkinsï¼š sudo launchctl load /Library/LaunchDaemons/org.jenkins-ci.plist åœæ­¢jenkinsï¼šsudo launchctl unload /Library/LaunchDaemons/org.jenkins-ci.plist
ç”¨brewå®‰è£…çš„çš„Jenkins ä¿®æ”¹é»˜è®¤ç«¯å£çš„æ–¹æ³•ï¼š
æ‰“å¼€æ–‡ä»¶ vi /usr/local/opt/jenkins/homebrew.mxcl.jenkins.plist ä¿®æ”¹é»˜è®¤ç«¯å£å· å¯åŠ¨jenkinsï¼š brew services start jenkins åœæ­¢jenkinsï¼šbrew services stop jenkins é‡å¯Jenkinsï¼šbrew services restart jenkins æ›´æ–°ï¼šåˆ‡æ¢åˆ°ç›®å½•cd ~/.jenkinsï¼Œç„¶åç”¨æœ€æ–°ä¸‹è½½çš„waråŒ…æ›¿æ¢æ–‡ä»¶å¤¹ä¸­çš„war</description></item><item><title>jsonwebtoken</title><link>https://chenkai.life/nodejs/jsonwebtoken/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/nodejs/jsonwebtoken/</guid><description>ä»€ä¹ˆæ˜¯JSON Web Tokenï¼Ÿ JSON Web Tokenï¼ˆJWTï¼‰æ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼ˆRFC 7519ï¼‰ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§ç´§å‡‘ä¸”ç‹¬ç«‹çš„æ–¹å¼ï¼Œç”¨äºåœ¨å„æ–¹ä¹‹é—´ç”¨SONå¯¹è±¡å®‰å…¨åœ°ä¼ è¾“ä¿¡æ¯ã€‚æ­¤ä¿¡æ¯å¯ä»¥é€šè¿‡æ•°å­—ç­¾åè¿›è¡ŒéªŒè¯å’Œä¿¡ä»»ã€‚ JWTå¯ä»¥ä½¿ç”¨åŠ å¯†ç®—æ³•ï¼ˆä½¿ç”¨HMACç®—æ³•ï¼‰æˆ–ä½¿ç”¨RSAæˆ–ECDSAçš„å…¬é’¥/ç§é’¥å¯¹è¿›è¡Œç­¾åã€‚
ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨JSON Webä»¤ç‰Œ ä»¥ä¸‹æ˜¯JSON Webä»¤ç‰Œæœ‰ç”¨çš„ä¸€äº›åœºæ™¯ï¼š
æˆæƒï¼šè¿™æ˜¯ä½¿ç”¨JWTçš„æœ€å¸¸è§æ–¹æ¡ˆã€‚ä¸€æ—¦ç”¨æˆ·ç™»å½•ï¼Œæ¯ä¸ªåç»­è¯·æ±‚å°†åŒ…æ‹¬JWTï¼Œå…è®¸ç”¨æˆ·è®¿é—®è¯¥ä»¤ç‰Œå…è®¸çš„è·¯ç”±ï¼ŒæœåŠ¡å’Œèµ„æºã€‚ Single Sign Onæ˜¯ä¸€ç§ç°åœ¨å¹¿æ³›ä½¿ç”¨JWTçš„åŠŸèƒ½ï¼Œå› ä¸ºå®ƒçš„å¼€é”€å¾ˆå°ï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨ä¸åŒçš„åŸŸä¸­è½»æ¾ä½¿ç”¨ã€‚
ä¿¡æ¯äº¤æ¢ï¼šJSON Webä»¤ç‰Œæ˜¯åœ¨å„æ–¹ä¹‹é—´å®‰å…¨ä¼ è¾“ä¿¡æ¯çš„å¥½æ–¹æ³•ã€‚å› ä¸ºJWTå¯ä»¥ç­¾å - ä¾‹å¦‚ï¼Œä½¿ç”¨å…¬é’¥/ç§é’¥å¯¹ - æ‚¨å¯ä»¥ç¡®å®šå‘ä»¶äººæ˜¯ä»–ä»¬æ‰€è¯´çš„äººã€‚æ­¤å¤–ï¼Œç”±äºä½¿ç”¨æ ‡å¤´å’Œæœ‰æ•ˆè´Ÿè½½è®¡ç®—ç­¾åï¼Œæ‚¨è¿˜å¯ä»¥éªŒè¯å†…å®¹æ˜¯å¦æœªè¢«ç¯¡æ”¹ã€‚
JSON Webä»¤ç‰Œç»“æ„ JSON Web Tokensç”±.åˆ†éš”çš„ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼Œå®ƒä»¬æ˜¯ï¼š
å¤´ æœ‰æ•ˆè½½è· ç­¾å å› æ­¤ï¼ŒJWTé€šå¸¸å¦‚xxxxx.yyyyy.zzzzzæ‰€ç¤º. å¤´ æ ‡å¤´é€šå¸¸ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä»¤ç‰Œçš„ç±»å‹ï¼Œå³JWTï¼Œä»¥åŠæ­£åœ¨ä½¿ç”¨çš„ç­¾åç®—æ³•ï¼Œä¾‹å¦‚HMAC SHA256æˆ–RSAã€‚
{ &amp;quot;alg&amp;quot;: &amp;quot;HS256&amp;quot;, &amp;quot;typ&amp;quot;: &amp;quot;JWT&amp;quot; } ç„¶åï¼Œè¿™ä¸ªJSONè¢«ç¼–ç ä¸ºBase64Urlï¼Œå½¢æˆJWTçš„ç¬¬ä¸€éƒ¨åˆ†ã€‚
æœ‰æ•ˆè½½è· ä»¤ç‰Œçš„ç¬¬äºŒéƒ¨åˆ†æ˜¯æœ‰æ•ˆè´Ÿè½½ï¼Œå…¶ä¸­åŒ…å«å£°æ˜ã€‚å£°æ˜æ˜¯å…³äºå®ä½“ï¼ˆé€šå¸¸æ˜¯ç”¨æˆ·ï¼‰å’Œå…¶ä»–æ•°æ®çš„å£°æ˜ã€‚æœ‰ä¸‰ç§ç±»å‹:registeredã€publicã€private claims.
registeredï¼šè¿™äº›æ˜¯ä¸€ç»„é¢„å®šä¹‰å£°æ˜ï¼Œä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œä½†å»ºè®®ä½¿ç”¨ï¼Œä»¥æä¾›ä¸€ç»„æœ‰ç”¨çš„ï¼Œå¯äº’æ“ä½œçš„å£°æ˜ã€‚å…¶ä¸­ä¸€äº›æ˜¯ï¼š issï¼ˆå‘è¡Œäººï¼‰ï¼Œ expï¼ˆåˆ°æœŸæ—¶é—´ï¼‰ï¼Œsubï¼ˆä¸»é¢˜ï¼‰ï¼Œ audï¼ˆè§‚ä¼—ï¼‰ç­‰ã€‚ publicï¼šè¿™äº›å¯ä»¥ç”±ä½¿ç”¨JWTçš„äººéšæ„å®šä¹‰ã€‚ä½†ä¸ºé¿å…å†²çªï¼Œåº”åœ¨ IANA JSON Webä»¤ç‰Œæ³¨å†Œè¡¨ä¸­å®šä¹‰å®ƒä»¬ï¼Œæˆ–è€…å°† å…¶å®šä¹‰ä¸ºåŒ…å«é˜²å†²çªå‘½åç©ºé—´çš„URIã€‚ private claimsï¼š è¿™æ˜¯åˆ›å»ºå…±äº«ä½¿ç”¨å®ƒä»¬åŒæ„å¹¶æ—¢ä¸æ˜¯å½“äº‹äººä¹‹é—´çš„ä¿¡æ¯è‡ªå®šä¹‰å£°æ˜æ³¨å†Œæˆ–å…¬ä¼—çš„æƒåˆ©è¦æ±‚ ç„¶åï¼Œæœ‰æ•ˆè´Ÿè½½ç»è¿‡Base64Urlç¼–ç ï¼Œå½¢æˆJSON Webä»¤ç‰Œçš„ç¬¬äºŒéƒ¨åˆ†ã€‚</description></item><item><title>jsä¸­çš„this</title><link>https://chenkai.life/javascript/js_this/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/javascript/js_this/</guid><description>jsä¸­thisæŒ‡å½“å‰æ‰§è¡Œä»£ç çš„ç¯å¢ƒå¯¹è±¡ï¼Œthisä¸èƒ½åœ¨æ‰§è¡ŒæœŸé—´è¢«èµ‹å€¼å¦‚this = nullï¼Œåœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå‡½æ•°çš„è°ƒç”¨æ–¹å¼å†³å®šäº†thisçš„å€¼
å…¨å±€ç¯å¢ƒ æµè§ˆå™¨ä¸­ï¼Œæ— è®ºæ˜¯å¦åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåœ¨å…¨å±€æ‰§è¡Œç¯å¢ƒä¸­ï¼ˆåœ¨ä»»ä½•å‡½æ•°ä½“å¤–éƒ¨ï¼‰this éƒ½æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚
// åœ¨æµè§ˆå™¨ä¸­, window å¯¹è±¡åŒæ—¶ä¹Ÿæ˜¯å…¨å±€å¯¹è±¡ï¼š console.log(this === window); // true a = 37; console.log(window.a); // 37 this.b = &amp;#34;MDN&amp;#34;; console.log(window.b) // &amp;#34;MDN&amp;#34; console.log(b) // &amp;#34;MDN&amp;#34; nodeç¯å¢ƒä¸­thisæ˜¯ä¸€ä¸ªç©ºå¯¹è±¡
console.log(this) // {} å‡½æ•°ï¼ˆè¿è¡Œå†…ï¼‰ç¯å¢ƒ åœ¨å‡½æ•°å†…éƒ¨ï¼Œthisçš„å€¼å–å†³äºå‡½æ•°è¢«è°ƒç”¨çš„æ–¹å¼
å› ä¸ºä¸‹é¢çš„ä»£ç ä¸åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¸” this çš„å€¼ä¸æ˜¯ç”±è¯¥è°ƒç”¨è®¾ç½®çš„ï¼Œæ‰€ä»¥ this çš„å€¼é»˜è®¤æŒ‡å‘å…¨å±€å¯¹è±¡
function f1(){ return this; } //åœ¨æµè§ˆå™¨ä¸­ï¼š f1() === window; //åœ¨æµè§ˆå™¨ä¸­ï¼Œå…¨å±€å¯¹è±¡æ˜¯window //åœ¨Nodeä¸­ï¼š f1() === global; ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¦‚æœ this æ²¡æœ‰è¢«æ‰§è¡Œç¯å¢ƒï¼ˆexecution contextï¼‰å®šä¹‰ï¼Œé‚£å®ƒå°†ä¿æŒä¸º undefined
&amp;#34;use strict&amp;#34;; // è¿™é‡Œæ˜¯ä¸¥æ ¼æ¨¡å¼ function f2(){ return this; } f2() === undefined; // true window.</description></item><item><title>jsçš„Classçš„ç»§æ‰¿</title><link>https://chenkai.life/javascript/js_class/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/javascript/js_class/</guid><description>è½¬è½½è‡ªhttps://es6.ruanyifeng.com/#docs/class-extends
ç®€ä»‹ Class å¯ä»¥é€šè¿‡extendså…³é”®å­—å®ç°ç»§æ‰¿ï¼Œè¿™æ¯” ES5 çš„é€šè¿‡ä¿®æ”¹åŸå‹é“¾å®ç°ç»§æ‰¿ï¼Œè¦æ¸…æ™°å’Œæ–¹ä¾¿å¾ˆå¤šã€‚
class Point { } class ColorPoint extends Point { } ä¸Šé¢ä»£ç å®šä¹‰äº†ä¸€ä¸ªColorPointç±»ï¼Œè¯¥ç±»é€šè¿‡extendså…³é”®å­—ï¼Œç»§æ‰¿äº†Pointç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚ä½†æ˜¯ç”±äºæ²¡æœ‰éƒ¨ç½²ä»»ä½•ä»£ç ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªç±»å®Œå…¨ä¸€æ ·ï¼Œç­‰äºå¤åˆ¶äº†ä¸€ä¸ªPointç±»ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬åœ¨ColorPointå†…éƒ¨åŠ ä¸Šä»£ç ã€‚
class ColorPoint extends Point { constructor(x, y, color) { super(x, y); // è°ƒç”¨çˆ¶ç±»çš„constructor(x, y) this.color = color; } toString() { return this.color + &amp;#39; &amp;#39; + super.toString(); // è°ƒç”¨çˆ¶ç±»çš„toString() } } ä¸Šé¢ä»£ç ä¸­ï¼Œconstructoræ–¹æ³•å’ŒtoStringæ–¹æ³•ä¹‹ä¸­ï¼Œéƒ½å‡ºç°äº†superå…³é”®å­—ï¼Œå®ƒåœ¨è¿™é‡Œè¡¨ç¤ºçˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œç”¨æ¥æ–°å»ºçˆ¶ç±»çš„thiså¯¹è±¡ã€‚
å­ç±»å¿…é¡»åœ¨constructoræ–¹æ³•ä¸­è°ƒç”¨superæ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®ä¾‹æ—¶ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»è‡ªå·±çš„thiså¯¹è±¡ï¼Œå¿…é¡»å…ˆé€šè¿‡çˆ¶ç±»çš„æ„é€ å‡½æ•°å®Œæˆå¡‘é€ ï¼Œå¾—åˆ°ä¸çˆ¶ç±»åŒæ ·çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œç„¶åå†å¯¹å…¶è¿›è¡ŒåŠ å·¥ï¼ŒåŠ ä¸Šå­ç±»è‡ªå·±çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ã€‚å¦‚æœä¸è°ƒç”¨superæ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°thiså¯¹è±¡ã€‚
class Point { /* ... */ } class ColorPoint extends Point { constructor() { } } let cp = new ColorPoint(); // ReferenceError ä¸Šé¢ä»£ç ä¸­ï¼ŒColorPointç»§æ‰¿äº†çˆ¶ç±»Pointï¼Œä½†æ˜¯å®ƒçš„æ„é€ å‡½æ•°æ²¡æœ‰è°ƒç”¨superæ–¹æ³•ï¼Œå¯¼è‡´æ–°å»ºå®ä¾‹æ—¶æŠ¥é”™ã€‚</description></item><item><title>jsçš„prototype</title><link>https://chenkai.life/javascript/js_prototype/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/javascript/js_prototype/</guid><description>ä»€ä¹ˆæ˜¯åŸå‹é“¾ é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“ä»€ä¹ˆæ˜¯åŸå‹ï¼Œåœ¨javascriptä¸­ï¼Œå‡½æ•°å¯ä»¥æœ‰å±æ€§ã€‚ æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§å«ä½œåŸå‹ï¼ˆprototypeï¼‰,æˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€äº›å±æ€§åˆ°åŸå‹ä¸Šé¢,ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ new è¿ç®—ç¬¦æ¥åœ¨ç°åœ¨çš„è¿™ä¸ªåŸå‹åŸºç¡€ä¹‹ä¸Šï¼Œåˆ›å»ºä¸€ä¸ªçš„å®ä¾‹ã€‚æ¯ä¸ªå®ä¾‹å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç§æœ‰å±æ€§ï¼ˆç§°ä¹‹ä¸º proto ï¼‰æŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼ˆprototype ï¼‰. å½“è¯•å›¾è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå®ƒä¸ä»…ä»…åœ¨è¯¥å¯¹è±¡ä¸Šæœå¯»ï¼Œè¿˜ä¼šæœå¯»è¯¥å¯¹è±¡çš„åŸå‹ï¼Œä»¥åŠè¯¥å¯¹è±¡çš„åŸå‹çš„åŸå‹ï¼Œä¾æ¬¡å±‚å±‚å‘ä¸Šæœç´¢ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåå­—åŒ¹é…çš„å±æ€§æˆ–åˆ°è¾¾åŸå‹é“¾çš„æœ«å°¾ã€‚
å¦‚ä½•åˆ©ç”¨åŸå‹é“¾å®ç°ç»§æ‰¿ å‡è®¾è¿™é‡Œæœ‰ä¸¤ä¸ªç±»
// äº¤é€šå·¥å…· function Transportation(name){ this.name = name; // è¯¥å±æ€§æ²¡æœ‰å®šä¹‰åˆ°åŸå‹é“¾ä¸Š,å¯ä»¥é€šè¿‡Object.keysè·å– this.say = function(){ console.log(`Transportationï¼š ${this.name}æ˜¯äº¤é€šå·¥å…·`); } } Object.assign(Transportation.prototype,{ move : function (){ console.log(`Transportation: ${this.name}ä¼šç§»åŠ¨`); }, }); // æ±½è½¦ function Car(name){ // è°ƒç”¨Transportationæ„é€ å‡½æ•°ï¼Œç»‘å®šthiså˜é‡ æˆ‘ä»¬ä¹Ÿå¯ä»¥ // this.name = name; Transportation.call(this, name); } æ­¤æ—¶Carçš„åŸå‹æ˜¯
new Car() ----&amp;gt; Car.prototype ----&amp;gt; Object.prototype ----&amp;gt; null è¦å®ç°ç»§æ‰¿æˆ‘ä»¬éœ€è¦å°†è¯¥å¯¹è±¡çš„åŸå‹æŒ‡å‘è¦ç»§æ‰¿å¯¹è±¡çš„åŸå‹ï¼Œå¦‚
new Car() ----&amp;gt; Car.</description></item><item><title>jsçš„è¿­ä»£å™¨</title><link>https://chenkai.life/javascript/js_iterator/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/javascript/js_iterator/</guid><description>ä»€ä¹ˆæ˜¯è¿­ä»£å™¨ ECMAScript 2015çš„å‡ ä¸ªè¡¥å……ï¼Œå¹¶ä¸æ˜¯æ–°çš„å†…ç½®å®ç°æˆ–è¯­æ³•ï¼Œè€Œæ˜¯åè®®ã€‚è¿™äº›åè®®å¯ä»¥è¢«ä»»ä½•éµå¾ªæŸäº›çº¦å®šçš„å¯¹è±¡æ¥å®ç°ã€‚æœ‰ä¸¤ä¸ªåè®®ï¼šå¯è¿­ä»£åè®®å’Œè¿­ä»£å™¨åè®®ã€‚ JavaScript æä¾›äº†è®¸å¤šè¿­ä»£é›†åˆçš„æ–¹æ³•ï¼Œä»ç®€å•çš„ for å¾ªç¯åˆ° map() å’Œ filter()ï¼Œè¿­ä»£å™¨å’Œç”Ÿæˆå™¨å°†è¿­ä»£çš„æ¦‚å¿µç›´æ¥å¸¦å…¥æ ¸å¿ƒè¯­è¨€ï¼Œå¹¶æä¾›äº†ä¸€ç§æœºåˆ¶æ¥è‡ªå®šä¹‰ for&amp;hellip;of å¾ªç¯çš„è¡Œä¸º
var myIterator = { next: function() { // ... }, [Symbol.iterator]: function() { return this } } å¯è¿­ä»£åè®® ä¸ºäº†å˜æˆå¯è¿­ä»£å¯¹è±¡ï¼Œ ä¸€ä¸ªå¯¹è±¡å¿…é¡»å®ç° @@iterator æ–¹æ³•, æ„æ€æ˜¯è¿™ä¸ªå¯¹è±¡ï¼ˆæˆ–è€…å®ƒåŸå‹é“¾ prototype chain ä¸Šçš„æŸä¸ªå¯¹è±¡ï¼‰å¿…é¡»æœ‰ä¸€ä¸ªåå­—æ˜¯ Symbol.iterator çš„å±æ€§:
[Symbol.iterator] è¿”å›ä¸€ä¸ªå¯¹è±¡çš„æ— å‚å‡½æ•°ï¼Œè¢«è¿”å›å¯¹è±¡ç¬¦åˆè¿­ä»£å™¨åè®®ã€‚
å½“ä¸€ä¸ªå¯¹è±¡éœ€è¦è¢«è¿­ä»£çš„æ—¶å€™ï¼ˆæ¯”å¦‚å¼€å§‹ç”¨äºä¸€ä¸ªfor..ofå¾ªç¯ä¸­ï¼‰ï¼Œå®ƒçš„@@iteratoræ–¹æ³•è¢«è°ƒç”¨å¹¶ä¸”æ— å‚æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªç”¨äºåœ¨è¿­ä»£ä¸­è·å¾—å€¼çš„è¿­ä»£å™¨ã€‚
class people{ constructor(index){ this.index = index; } next(){ this.index++; return{ done: this.index &amp;gt; 10, value: this.index } } [Symbol.</description></item><item><title>jsèŠèŠJSçš„äºŒè¿›åˆ¶å®¶æ—ï¼šBlobã€ArrayBufferå’ŒBuffer</title><link>https://chenkai.life/javascript/js_binary_blob_arraybuffer_buffer/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/javascript/js_binary_blob_arraybuffer_buffer/</guid><description>è½¬è½½è‡ªçŸ¥ä¹-å¤–å©†çš„å½­æ¹–æ¹¾
å‰ç«¯è¾ƒå°‘æ¶‰åŠå¯¹äºŒè¿›åˆ¶æ•°æ®çš„å¤„ç†ï¼Œä½†å³ä¾¿å¦‚æ­¤ï¼Œæˆ‘ä»¬å¶å°”æ€»èƒ½åœ¨è§’è½é‡Œçœ‹è§å®ƒä»¬çš„èº«å½±ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥èŠä¸€èŠJSçš„äºŒè¿›åˆ¶å®¶æ—ï¼šBlobã€ArrayBufferå’ŒBufferï¼ˆBufferç”±Node.jsæä¾›ï¼‰
æ¦‚è¿° Blob: å‰ç«¯çš„ä¸€ä¸ªä¸“é—¨ç”¨äºæ”¯æŒæ–‡ä»¶æ“ä½œçš„äºŒè¿›åˆ¶å¯¹è±¡ ArrayBufferï¼šå‰ç«¯çš„ä¸€ä¸ªé€šç”¨çš„äºŒè¿›åˆ¶ç¼“å†²åŒºï¼Œç±»ä¼¼æ•°ç»„ï¼Œä½†åœ¨APIå’Œç‰¹æ€§ä¸Šå´æœ‰è¯¸å¤šä¸åŒ Bufferï¼šNode.jsæä¾›çš„ä¸€ä¸ªäºŒè¿›åˆ¶ç¼“å†²åŒºï¼Œå¸¸ç”¨æ¥å¤„ç†I/Oæ“ä½œ è¿™ç¯‡æ–‡ç« çš„å†…å®¹ä¸»è¦å°±èŠä¸€èŠè¿™ä¸€å®¶å­çš„äººé™…å…³ç³»å±•å¼€ã€‚
å¤æ‚çš„äººé™…å…³ç³»ç½‘.jpg
ä¸‹é¢å°±æ¥ä¸€ä¸€ä»‹ç»
Blob æˆ‘ä»¬é¦–å…ˆæ¥ä»‹ç»Blobï¼ŒBlobæ˜¯ç”¨æ¥æ”¯æŒæ–‡ä»¶æ“ä½œçš„ã€‚ç®€å•çš„è¯´ï¼šåœ¨JSä¸­ï¼Œæœ‰ä¸¤ä¸ªæ„é€ å‡½æ•° File å’Œ Blob, è€ŒFileç»§æ‰¿äº†æ‰€æœ‰Blobçš„å±æ€§ã€‚
æ‰€ä»¥åœ¨æˆ‘ä»¬çœ‹æ¥ï¼ŒFileå¯¹è±¡å¯ä»¥çœ‹ä½œä¸€ç§ç‰¹æ®Šçš„Blobå¯¹è±¡ã€‚
åœ¨å‰ç«¯å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬åœ¨å“ªäº›æ“ä½œä¸­å¯ä»¥è·å¾—Fileå¯¹è±¡å‘¢ï¼Ÿ è¯·çœ‹ï¼š
ï¼ˆå¤‡æ³¨ï¼šç›®å‰ File APIè§„èŒƒçš„çŠ¶æ€ä¸ºWorking Draftï¼‰
æˆ‘ä»¬ä¸Šé¢è¯´äº†ï¼ŒFileå¯¹è±¡æ˜¯ä¸€ç§ç‰¹æ®Šçš„Blobå¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒè‡ªç„¶å°±å¯ä»¥ç›´æ¥è°ƒç”¨Blobå¯¹è±¡çš„æ–¹æ³•ã€‚è®©æˆ‘ä»¬çœ‹ä¸€çœ‹Blobå…·ä½“æœ‰å“ªäº›æ–¹æ³•ï¼Œä»¥åŠèƒ½å¤Ÿç”¨å®ƒä»¬å®ç°å“ªäº›åŠŸèƒ½
Blobå®æˆ˜ é€šè¿‡window.URL.createObjectURLæ–¹æ³•å¯ä»¥æŠŠä¸€ä¸ªblobè½¬åŒ–ä¸ºä¸€ä¸ªBlob URLï¼Œå¹¶ä¸”ç”¨åšæ–‡ä»¶ä¸‹è½½æˆ–è€…å›¾ç‰‡æ˜¾ç¤ºçš„é“¾æ¥ã€‚
Blob URLæ‰€å®ç°çš„ä¸‹è½½æˆ–è€…æ˜¾ç¤ºç­‰åŠŸèƒ½ï¼Œä»…ä»…å¯ä»¥åœ¨å•ä¸ªæµè§ˆå™¨å†…éƒ¨è¿›è¡Œã€‚è€Œä¸èƒ½åœ¨æœåŠ¡å™¨ä¸Šè¿›è¡Œå­˜å‚¨ï¼Œäº¦æˆ–è€…è¯´å®ƒæ²¡æœ‰åœ¨æœåŠ¡å™¨ç«¯å­˜å‚¨çš„æ„ä¹‰ã€‚
ä¸‹é¢æ˜¯ä¸€ä¸ªBlobçš„ä¾‹å­ï¼Œå¯ä»¥çœ‹åˆ°å®ƒå¾ˆçŸ­
blob:d3958f5c-0777-0845-9dcf-2cb28783acaf å’Œå†—é•¿çš„Base64æ ¼å¼çš„Data URLç›¸æ¯”ï¼ŒBlob URLçš„é•¿åº¦æ˜¾ç„¶ä¸èƒ½å¤Ÿå­˜å‚¨è¶³å¤Ÿçš„ä¿¡æ¯ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€å®ƒåªæ˜¯ç±»ä¼¼äºä¸€ä¸ªæµè§ˆå™¨å†…éƒ¨çš„â€œå¼•ç”¨â€œã€‚ä»è¿™ä¸ªè§’åº¦çœ‹ï¼ŒBlob URLæ˜¯ä¸€ä¸ªæµè§ˆå™¨è‡ªè¡Œåˆ¶å®šçš„ä¸€ä¸ªä¼ªåè®®
Blobå®ç°ä¸‹è½½æ–‡ä»¶
æˆ‘ä»¬å¯ä»¥é€šè¿‡window.URL.createObjectURLï¼Œæ¥æ”¶ä¸€ä¸ªBlobï¼ˆFileï¼‰å¯¹è±¡ï¼Œå°†å…¶è½¬åŒ–ä¸ºBlob URL,ç„¶åèµ‹ç»™ a.downloadå±æ€§ï¼Œç„¶ååœ¨é¡µé¢ä¸Šç‚¹å‡»è¿™ä¸ªé“¾æ¥å°±å¯ä»¥å®ç°ä¸‹è½½äº†
&amp;lt;!-- htmléƒ¨åˆ† --&amp;gt; &amp;lt;a id=&amp;#34;h&amp;#34;&amp;gt;ç‚¹æ­¤è¿›è¡Œä¸‹è½½&amp;lt;/a&amp;gt; &amp;lt;!-- jséƒ¨åˆ† --&amp;gt; &amp;lt;script&amp;gt; var blob = new Blob([&amp;#34;Hello World&amp;#34;]); var url = window.</description></item><item><title>kubectlå‘½ä»¤</title><link>https://chenkai.life/tools/kubectl/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/tools/kubectl/</guid><description>This page is an overview of the kubectl command.
Kubectl Autocomplete Kubectl Context and Configuration Apply Creating Objects Viewing, Finding Resources Updating Resources Patching Resources Editing Resources Scaling Resources Deleting Resources Interacting with running Pods Interacting with Nodes and Cluster What&amp;rsquo;s next kubectl - Cheat Sheet Kubectl Autocomplete BASH source &amp;lt;(kubectl completion bash) # setup autocomplete in bash into the current shell, bash-completion package should be installed first.</description></item><item><title>madlib</title><link>https://chenkai.life/tools/madlib/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/tools/madlib/</guid><description>Apache MADlibæ˜¯ä¸€ä¸ªåœ¨PostgreSQLã€Greenplumä¸­ä½¿ç”¨çš„,ç”¨äºå¯æ‰©å±•çš„æ•°æ®åº“å†…åˆ†æçš„å¼€æºåº“ã€‚å®ƒä¸ºç»“æ„åŒ–å’Œéç»“æ„åŒ–æ•°æ®æä¾›æ•°å­¦ï¼Œç»Ÿè®¡ï¼Œå›¾å½¢å’Œæœºå™¨å­¦ä¹ æ–¹æ³•çš„æ•°æ®å¹¶è¡Œå®ç°ã€‚
æˆ‘ä»¬å¯ä»¥ç”¨madlibåšä»€ä¹ˆï¼Ÿ åˆ†ç±» å½“æœŸæœ›çš„è¾“å‡ºæœ¬è´¨ä¸Šæ˜¯åˆ†ç±»æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ†ç±»æ–¹æ³•æ¥æ„å»ºæ¨¡å‹ï¼Œè¯¥æ¨¡å‹é¢„æµ‹æ–°ç»“æœå°†è½å…¥å“ªä¸ªä¸åŒç±»åˆ«ã€‚åˆ†ç±»çš„ç›®æ ‡æ˜¯èƒ½å¤Ÿä½¿ç”¨æ­£ç¡®çš„è®°å½•ç±»æ­£ç¡®æ ‡è®°ä¼ å…¥è®°å½•ã€‚
ç¤ºä¾‹ï¼šå¦‚æœæˆ‘ä»¬çš„æ•°æ®æè¿°äº†å„ç§äººå£ç»Ÿè®¡æ•°æ®å’Œç”³è¯·è´·æ¬¾çš„ä¸ªäººçš„å…¶ä»–ç‰¹å¾ï¼Œå¹¶ä¸”æˆ‘ä»¬æœ‰å†å²æ•°æ®ï¼Œå…¶ä¸­åŒ…æ‹¬è¿‡å»è´·æ¬¾è¿çº¦çš„æƒ…å†µï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ä¸ªæ¨¡å‹æ¥æè¿°ä¸€ç»„æ–°çš„äººå£ç»Ÿè®¡æ•°æ®çš„å¯èƒ½æ€§ ä¼šå¯¼è‡´è´·æ¬¾è¿çº¦ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç±»åˆ«æ˜¯â€œå°†é»˜è®¤â€æˆ–â€œä¸ä¼šé»˜è®¤â€ï¼Œè¿™æ˜¯ä¸¤ä¸ªä¸è¿ç»­çš„è¾“å‡ºç±»åˆ«ã€‚
å›å½’ å½“æœŸæœ›çš„è¾“å‡ºæœ¬è´¨ä¸Šæ˜¯è¿ç»­çš„æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨å›å½’æ–¹æ³•æ¥æ„å»ºé¢„æµ‹è¾“å‡ºå€¼çš„æ¨¡å‹ã€‚
ç¤ºä¾‹ï¼šå¦‚æœæˆ‘ä»¬æœ‰æè¿°æˆ¿åœ°äº§åˆ—è¡¨å±æ€§çš„æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ä¸ªæ¨¡å‹æ¥æ ¹æ®æˆ¿å±‹çš„å·²çŸ¥ç‰¹å¾é¢„æµ‹æˆ¿å±‹çš„é”€å”®ä»·å€¼ã€‚ è¿™æ˜¯ä¸€ä¸ªå›å½’é—®é¢˜ï¼Œå› ä¸ºè¾“å‡ºå“åº”æœ¬è´¨ä¸Šæ˜¯è¿ç»­çš„ï¼Œè€Œä¸æ˜¯åˆ†ç±»çš„ã€‚
æ·±åº¦å­¦ä¹  æ·±åº¦å­¦ä¹ æ˜¯ä¸€ç§æœºå™¨å­¦ä¹ ï¼Œå—å¤§è„‘ç”Ÿç‰©å­¦çš„å¯å‘ï¼Œä½¿ç”¨ä¸€ç±»ç§°ä¸ºäººå·¥ç¥ç»ç½‘ç»œçš„ç®—æ³•ã€‚ è¿™äº›ç½‘ç»œæœ‰æ•ˆåœ°è§£å†³äº†å„ç§å„æ ·çš„é—®é¢˜ï¼Œä¸»è¦æ˜¯åœ¨ç›‘ç£å­¦ä¹ é¢†åŸŸã€‚ GPUåŠ é€Ÿè¢«å¹¿æ³›ç”¨äºåŠ é€Ÿæ·±åº¦ç¥ç»ç½‘ç»œçš„è®­ç»ƒã€‚
ç¤ºä¾‹ï¼šå¦‚æœæˆ‘ä»¬æƒ³è¦å°†è¿›å…¥åŠå…¬å®¤å¤§å…çš„å‘˜å·¥çš„è§†é¢‘ä¸å¥¹çš„å›¾ç‰‡è¿›è¡ŒåŒ¹é…ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å·ç§¯ç¥ç»ç½‘ç»œæ¥å®Œæˆæ­¤æ“ä½œã€‚ è¿™å°†ä½¿å¥¹ä¸å¿…æ‹¿å‡ºå¥¹çš„å‘˜å·¥å¾½ç« å¹¶å°†å…¶åˆ·å…¥æœºå™¨ã€‚ å®ƒè¿˜å¯ä»¥å¸®åŠ©å‡å°‘æ—©ä¸Šèµ¶æ—¶é—´çš„å¤§å…æ’é˜Ÿã€‚
èšç±» åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°è¯•è¯†åˆ«æ•°æ®ç»„ï¼Œä½¿å¾—ä¸€ä¸ªç¾¤é›†ä¸­çš„é¡¹ç›®å½¼æ­¤æ›´ç›¸ä¼¼ï¼Œè€Œä¸æ˜¯ä»»ä½•å…¶ä»–ç¾¤é›†ä¸­çš„é¡¹ç›®ã€‚
ç¤ºä¾‹ï¼šåœ¨å®¢æˆ·ç»†åˆ†åˆ†æä¸­ï¼Œç›®æ ‡æ˜¯è¯†åˆ«ä»¥ç±»ä¼¼æ–¹å¼è¡Œäº‹çš„ç‰¹å®šå®¢æˆ·ç¾¤ï¼Œä»¥ä¾¿å¯ä»¥è®¾è®¡å„ç§è¥é”€æ´»åŠ¨ä»¥è¿›å…¥è¿™äº›å¸‚åœºã€‚ å½“é¢„å…ˆçŸ¥é“å®¢æˆ·ç¾¤æ—¶ï¼Œè¿™å°†æ˜¯ç›‘ç£çš„åˆ†ç±»ä»»åŠ¡ã€‚ å½“æˆ‘ä»¬è®©æ•°æ®æœ¬èº«è¯†åˆ«æ®µæ—¶ï¼Œè¿™å°±æˆäº†ä¸€ä¸ªèšç±»ä»»åŠ¡ã€‚
ä¸»é¢˜å»ºæ¨¡ ä¸»é¢˜å»ºæ¨¡ç±»ä¼¼äºèšç±»ï¼Œå› ä¸ºå®ƒå°è¯•è¯†åˆ«å½¼æ­¤ç›¸ä¼¼çš„æ–‡æ¡£é›†ç¾¤ï¼Œä½†å®ƒæ›´å…·ä½“åˆ°æ–‡æœ¬åŸŸï¼Œå®ƒä¹Ÿåœ¨å°è¯•è¯†åˆ«è¿™äº›æ–‡æ¡£çš„ä¸»è¦ä¸»é¢˜ã€‚
å…³è”è§„åˆ™æŒ–æ˜ ä¹Ÿç§°ä¸ºå¸‚åœºè´­ç‰©ç¯®åˆ†ææˆ–é¢‘ç¹é¡¹ç›®é›†æŒ–æ˜ï¼Œè¿™æ˜¯è¯•å›¾è¯†åˆ«å“ªäº›é¡¹ç›®å¾€å¾€æ¯”éšæœºæœºä¼šæŒ‡ç¤ºçš„æ›´é¢‘ç¹åœ°å‘ç”Ÿï¼Œè¡¨æ˜é¡¹ç›®ä¹‹é—´çš„æ½œåœ¨å…³ç³»ã€‚
ç¤ºä¾‹ï¼šåœ¨åœ¨çº¿Webå•†åº—ä¸­ï¼Œå…³è”è§„åˆ™æŒ–æ˜å¯ç”¨äºè¯†åˆ«å€¾å‘äºä¸€èµ·è´­ä¹°çš„äº§å“ã€‚ ç„¶åï¼Œè¿™å¯ä»¥ç”¨ä½œäº§å“æ¨èå¼•æ“çš„è¾“å…¥ï¼Œä»¥å»ºè®®å®¢æˆ·å¯èƒ½æ„Ÿå…´è¶£çš„é¡¹ç›®å¹¶æä¾›åŠ å”®æœºä¼šã€‚
æè¿°æ€§ç»Ÿè®¡ æè¿°æ€§ç»Ÿè®¡ä¸æä¾›æ¨¡å‹ï¼Œå› æ­¤ä¸è¢«è§†ä¸ºå­¦ä¹ æ–¹æ³•ã€‚ ä½†æ˜¯ï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©åˆ†æå¸ˆæä¾›ä¿¡æ¯ä»¥ç†è§£åŸºç¡€æ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥ä¸ºå¯èƒ½å½±å“æ•°æ®æ¨¡å‹é€‰æ‹©çš„æ•°æ®æä¾›æœ‰ä»·å€¼çš„è§è§£ã€‚
ç¤ºä¾‹ï¼šè®¡ç®—æ•°æ®é›†çš„æ¯ä¸ªå˜é‡ä¸­çš„æ•°æ®åˆ†å¸ƒå¯ä»¥å¸®åŠ©åˆ†æäººå‘˜äº†è§£å“ªäº›å˜é‡åº”è¯¥è¢«è§†ä¸ºåˆ†ç±»å˜é‡ï¼Œå“ªäº›å˜é‡åº”è¯¥è¢«è§†ä¸ºè¿ç»­å˜é‡ï¼ŒåŒ…æ‹¬å€¼æ‰€å±çš„åˆ†å¸ƒç±»å‹ã€‚
éªŒè¯ åœ¨ä¸äº†è§£è¯¥æ¨¡å‹çš„å‡†ç¡®æ€§çš„æƒ…å†µä¸‹ä½¿ç”¨æ¨¡å‹å¯èƒ½å¯¼è‡´ä¸è‰¯ç»“æœã€‚ å› æ­¤ï¼Œäº†è§£æ¨¡å‹çš„é”™è¯¯å¹¶è¯„ä¼°æ¨¡å‹çš„æµ‹è¯•æ•°æ®å‡†ç¡®æ€§éå¸¸é‡è¦ã€‚ ç»å¸¸åœ¨æ•°æ®åˆ†æä¸­ï¼Œè®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®ä¹‹é—´çš„åˆ†ç¦»ä»…ä»…æ˜¯ä¸ºäº†æä¾›æ¨¡å‹æœ‰æ•ˆæ€§çš„ç»Ÿè®¡æœ‰æ•ˆåˆ†æï¼Œå¹¶ä¸”è¯„ä¼°æ¨¡å‹ä¸è¿‡åº¦æ‹Ÿåˆè®­ç»ƒæ•°æ®ã€‚ è¿˜ç»å¸¸ä½¿ç”¨Nå€äº¤å‰éªŒè¯ã€‚
å®‰è£…madlib å®‰è£… src/bin/madpack -p postgres -c postgres/postgres@localhost:5432/postgres install</description></item><item><title>node Promise è½¬æ¢</title><link>https://chenkai.life/nodejs/node_promise/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/nodejs/node_promise/</guid><description>å¦‚æœä½ æ›¾ç»ä½¿ç”¨Javascriptï¼Œä½ å¿…é¡»æœ‰ç»éªŒçš„å›è°ƒã€‚Javascriptä»¥å…¶å†…ç½®çš„å¼‚æ­¥å“²å­¦è€Œé—»åã€‚ä»æ ‡å‡†å†…ç½®æ¨¡å—åˆ°å…¶ä»–æ¡†æ¶å’Œåº“ï¼Œå›è°ƒæ— å¤„ä¸åœ¨ã€‚è¿™å°±æ˜¯åœ¨Javascriptä¸­å®Œæˆå¼‚æ­¥ç¼–ç¨‹ã€‚ä½†æ˜¯å›è°ƒæœ‰ä¸€ä¸ªé»‘æš—çš„ä¸€é¢ã€‚è¿™å«Callback Hellsã€‚
å›è°ƒåœ°ç‹±çš„è§£å†³æ–¹æ¡ˆæ˜¯Promisesã€‚è€Œä¸æ˜¯é€šè¿‡å›è°ƒåŒæ­¥è¿”å›å€¼æˆ–ä¼ é€’ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥è¿”å›ä¸€ä¸ªPromiseï¼Œæˆ‘ä»¬å°†æ¥ä¼šè¿”å›ä¸€äº›å€¼æˆ–é”™è¯¯ã€‚ æœ‰è®¸å¤šåƒå¥½çš„åº“å¦‚Bluebirdå’ŒQå¯ä»¥ç”¨æ¥å¤„ç†Promiseã€‚ä½†æ˜¯å†…ç½®çš„æ¨¡å—å’Œå¾ˆå¤šå…¶ä»–åº“ä¸èƒ½ä½¿ç”¨Promisesã€‚è¿™äº›åº“èƒ½å¤Ÿå°†ä¼ ç»Ÿçš„å›è°ƒæ–¹æ³•è½¬æ¢ä¸ºPromiseï¼Œåœ¨Node v8ä¸­æˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨util.promisifyæ¥å¤„ç†å›è°ƒæ–¹æ³•ã€‚æ ¹æ®Node.jsçš„æ–‡æ¡£ï¼š util.promisify(original)
original Returns: const util = require(&amp;#39;util&amp;#39;); const fs = require(&amp;#39;fs&amp;#39;); const stat = util.promisify(fs.stat); stat(&amp;#39;.&amp;#39;).then((stats) =&amp;gt; { // Do something with `stats` }).catch((error) =&amp;gt; { // Handle the error. }); æˆ–è€… const util = require(&amp;#39;util&amp;#39;); const fs = require(&amp;#39;fs&amp;#39;); const stat = util.promisify(fs.stat); async function callStat() { const stats = await stat(&amp;#39;.&amp;#39;); console.log(`This directory is owned by ${stats.uid}`); } çœ‹ä¼ ç»Ÿçš„ä¾‹å­ï¼š</description></item><item><title>nodeäº‹ä»¶å¾ªç¯</title><link>https://chenkai.life/nodejs/node_event_loop/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/nodejs/node_event_loop/</guid><description>äº‹ä»¶å¾ªç¯ äº‹ä»¶å¾ªç¯æ˜¯ Node.js å¤„ç†éé˜»å¡ I/O æ“ä½œçš„æœºåˆ¶ï¼Œäº‹ä»¶å¾ªç¯ä½¿Node.jså¯ä»¥é€šè¿‡å°†æ“ä½œè½¬ç§»åˆ°ç³»ç»Ÿå†…æ ¸ä¸­æ¥æ‰§è¡Œéé˜»å¡I/Oæ“ä½œï¼Œç”±äºå¤§å¤šæ•°ç°ä»£å†…æ ¸éƒ½æ˜¯å¤šçº¿ç¨‹çš„ï¼Œå› æ­¤å®ƒä»¬å¯ä»¥å¤„ç†åœ¨åå°æ‰§è¡Œçš„å¤šä¸ªæ“ä½œã€‚å½“è¿™äº›æ“ä½œä¹‹ä¸€å®Œæˆæ—¶ï¼Œå†…æ ¸ä¼šå‘Šè¯‰Node.jsï¼Œå°†é€‚å½“çš„å›è°ƒæ·»åŠ åˆ°è½®è¯¢é˜Ÿåˆ—ä¸­ä»¥æœ€ç»ˆæ‰§è¡Œã€‚
äº‹ä»¶è½®è¯¢æœºåˆ¶è§£æ é¢çš„å›¾è¡¨å±•ç¤ºäº†äº‹ä»¶å¾ªç¯æ“ä½œé¡ºåºçš„ç®€åŒ–æ¦‚è§ˆ,æ¯ä¸ªæ¡†è¢«ç§°ä¸ºäº‹ä»¶å¾ªç¯æœºåˆ¶çš„ä¸€ä¸ªé˜¶æ®µã€‚æ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸€ä¸ªFIFOé˜Ÿåˆ—æ¥æ‰§è¡Œå›è°ƒã€‚å½“äº‹ä»¶å¾ªç¯è¿›å…¥ç»™å®šçš„é˜¶æ®µæ—¶ï¼Œå®ƒå°†æ‰§è¡Œç‰¹å®šäºè¯¥é˜¶æ®µçš„ä»»ä½•æ“ä½œï¼Œç„¶åæ‰§è¡Œè¯¥é˜¶æ®µé˜Ÿåˆ—ä¸­çš„å›è°ƒï¼Œç›´åˆ°é˜Ÿåˆ—ç”¨å°½æˆ–æœ€å¤§å›è°ƒæ•°å·²æ‰§è¡Œã€‚å½“è¯¥é˜Ÿåˆ—å·²ç”¨å°½æˆ–è¾¾åˆ°å›è°ƒé™åˆ¶ï¼Œäº‹ä»¶å¾ªç¯å°†ç§»åŠ¨åˆ°ä¸‹ä¸€é˜¶æ®µã€‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€&amp;gt;â”‚ timers â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ pending callbacks â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ idle, prepare â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ incoming: â”‚ â”‚ â”‚ poll â”‚&amp;lt;â”€â”€â”€â”€â”€â”¤ connections, â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ data, etc. â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ check â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”¤ close callbacks â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ é˜¶æ®µæ¦‚è¿°</description></item><item><title>nodeç¨‹åºæ”¾å…¥docker</title><link>https://chenkai.life/nodejs/node_docker/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/nodejs/node_docker/</guid><description>å‡†å¤‡demoç¨‹åº index.js &amp;#39;use strict&amp;#39;; const express = require(&amp;#39;express&amp;#39;); // Constants const PORT = 6677; const HOST = &amp;#39;0.0.0.0&amp;#39;; // App const app = express(); app.get(&amp;#39;/&amp;#39;, (req, res) =&amp;gt; { res.send(&amp;#39;&amp;lt;h1&amp;gt;Hello world&amp;lt;/h1&amp;gt;&amp;#39;); }); app.listen(PORT, HOST); console.log(`Running on http://${HOST}:${PORT}`); æ ¹ç›®å½•æ–°å»ºDockerfileæ–‡ä»¶ ## å®šä¹‰æˆ‘ä»¬éœ€è¦ä»å“ªä¸ªé•œåƒè¿›è¡Œæ„å»º FROM node:8 ## åœ¨é•œåƒä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å­˜æ”¾åº”ç”¨ç¨‹åºä»£ç ï¼Œè¿™å°†æ˜¯ä½ çš„åº”ç”¨ç¨‹åºå·¥ä½œç›®å½• WORKDIR /usr/src/app COPY package*.json ./ RUN npm install COPY . . EXPOSE 8080 CMD [ &amp;quot;node&amp;quot;, &amp;quot;index.js&amp;quot; ] .</description></item><item><title>pg åˆ†è¯</title><link>https://chenkai.life/database/pg_to_tsvector/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/database/pg_to_tsvector/</guid><description>åˆ†è¯ä¾‹å­ to_tsvector()ç”Ÿæˆçš„åˆ†è¯å¸¦æœ‰ä½ç½®ä¿¡æ¯ï¼Œtsvectoræ²¡æœ‰ä½ç½®ä¿¡æ¯
select to_tsvector(&amp;#39;é™ˆ é”´ A S F a a a 1 2 3 4&amp;#39;); select to_tsvector(&amp;#39;simple&amp;#39;, &amp;#39;é™ˆ é”´ ä¸€ä¸ª , A apple 12 F a a a 1 2 3 4&amp;#39;); select to_tsvector(&amp;#39;english&amp;#39;, &amp;#39;é™ˆ é”´ ä¸€ä¸ª , A apple 12 F a a a 1 2 3 4&amp;#39;); `&amp;#39;1&amp;#39;:8 &amp;#39;12&amp;#39;:3 &amp;#39;2&amp;#39;:9 &amp;#39;3&amp;#39;:10 &amp;#39;4&amp;#39;:11 &amp;#39;a&amp;#39;:1,5,6,7 &amp;#39;apple&amp;#39;:2 &amp;#39;f&amp;#39;:4` select &amp;#39;é™ˆ é”´ ä¸€ä¸ª , A apple 12 F a a a 1 2 3 4&amp;#39; :: tsvector; `&amp;#39;,&amp;#39; &amp;#39;1&amp;#39; &amp;#39;12&amp;#39; &amp;#39;2&amp;#39; &amp;#39;3&amp;#39; &amp;#39;4&amp;#39; &amp;#39;A&amp;#39; &amp;#39;F&amp;#39; &amp;#39;a&amp;#39; &amp;#39;apple&amp;#39; &amp;#39;ä¸€ä¸ª&amp;#39; &amp;#39;é”´&amp;#39; &amp;#39;é™ˆ&amp;#39;`</description></item><item><title>pgpool</title><link>https://chenkai.life/database/pgpool/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/database/pgpool/</guid><description>ä»€ä¹ˆæ˜¯pgpool pgpool-II æ˜¯ä¸€ä¸ªä½äº PostgreSQL æœåŠ¡å™¨å’Œ PostgreSQL æ•°æ®åº“å®¢æˆ·ç«¯ä¹‹é—´çš„ä¸­é—´ä»¶ï¼Œå®ƒæä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š
è¿æ¥æ±  pgpool-II ä¿æŒå·²ç»è¿æ¥åˆ° PostgreSQL æœåŠ¡å™¨çš„è¿æ¥ï¼Œå¹¶åœ¨ä½¿ç”¨ç›¸åŒå‚æ•°ï¼ˆä¾‹å¦‚ï¼šç”¨æˆ·åï¼Œæ•°æ®åº“ï¼Œåè®®ç‰ˆæœ¬ï¼‰è¿æ¥è¿›æ¥æ—¶é‡ç”¨å®ƒä»¬ã€‚å®ƒå‡å°‘äº†è¿æ¥å¼€é”€ï¼Œå¹¶å¢åŠ äº†ç³»ç»Ÿçš„æ€»ä½“ååé‡ã€‚ å¤åˆ¶ pgpool-II å¯ä»¥ç®¡ç†å¤šä¸ª PostgreSQL æœåŠ¡å™¨ã€‚æ¿€æ´»å¤åˆ¶åŠŸèƒ½å¹¶ä½¿åœ¨2å°æˆ–è€…æ›´å¤š PostgreSQL èŠ‚ç‚¹ä¸­å»ºç«‹ä¸€ä¸ªå®æ—¶å¤‡ä»½æˆä¸ºå¯èƒ½ï¼Œè¿™æ ·ï¼Œå¦‚æœå…¶ä¸­ä¸€å°èŠ‚ç‚¹å¤±æ•ˆï¼ŒæœåŠ¡å¯ä»¥ä¸è¢«ä¸­æ–­ç»§ç»­è¿è¡Œã€‚ è´Ÿè½½å‡è¡¡ å¦‚æœæ•°æ®åº“è¿›è¡Œäº†å¤åˆ¶ï¼Œåˆ™åœ¨ä»»ä½•ä¸€å°æœåŠ¡å™¨ä¸­æ‰§è¡Œä¸€ä¸ª SELECT æŸ¥è¯¢å°†è¿”å›ç›¸åŒçš„ç»“æœã€‚pgpool-II åˆ©ç”¨äº†å¤åˆ¶çš„åŠŸèƒ½ä»¥é™ä½æ¯å° PostgreSQL æœåŠ¡å™¨çš„è´Ÿè½½ã€‚å®ƒé€šè¿‡åˆ†å‘ SELECT æŸ¥è¯¢åˆ°æ‰€æœ‰å¯ç”¨çš„æœåŠ¡å™¨ä¸­ï¼Œå¢å¼ºäº†ç³»ç»Ÿçš„æ•´ä½“ååé‡ã€‚åœ¨ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œè¯»æ€§èƒ½åº”è¯¥å’Œ PostgreSQL æœåŠ¡å™¨çš„æ•°é‡æˆæ­£æ¯”ã€‚è´Ÿè½½å‡è¡¡åŠŸèƒ½åœ¨æœ‰å¤§é‡ç”¨æˆ·åŒæ—¶æ‰§è¡Œå¾ˆå¤šåªè¯»æŸ¥è¯¢çš„åœºæ™¯ä¸­å·¥ä½œçš„æ•ˆæœæœ€å¥½ã€‚ å¹¶è¡ŒæŸ¥è¯¢ ä½¿ç”¨å¹¶è¡ŒæŸ¥è¯¢æ—¶ï¼Œæ•°æ®å¯ä»¥è¢«åˆ†å‰²åˆ°å¤šå°æœåŠ¡å™¨ä¸Šï¼Œæ‰€ä»¥ä¸€ä¸ªæŸ¥è¯¢å¯ä»¥åœ¨å¤šå°æœåŠ¡å™¨ä¸ŠåŒæ—¶æ‰§è¡Œï¼Œä»¥å‡å°‘æ€»ä½“æ‰§è¡Œæ—¶é—´ã€‚å¹¶è¡ŒæŸ¥è¯¢åœ¨æŸ¥è¯¢å¤§è§„æ¨¡æ•°æ®çš„æ—¶å€™éå¸¸æœ‰æ•ˆã€‚ ç°æœ‰çš„æ•°æ®åº“åº”ç”¨ç¨‹åºåŸºæœ¬ä¸Šå¯ä»¥ä¸éœ€è¦ä¿®æ”¹å°±å¯ä»¥ä½¿ç”¨ pgpool-II start ## å®‰è£…pgpool-ii brew install pgpool-ii ## å®‰è£…æ‰©å±• create extension pgpool_recovery; ## If you are using PostgreSQL 9.4 or later, you can skip this section. create extension pgpool_regclass; ## ä¿®æ”¹é…ç½®æ–‡ä»¶ å¸¸ç”¨å‘½ä»¤ &amp;lt;!</description></item><item><title>pgä¸­ä¸ºå­˜å‚¨è¿‡ç¨‹æ·»åŠ è¿›åº¦</title><link>https://chenkai.life/database/pg_how_to_add_process_in_function/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/database/pg_how_to_add_process_in_function/</guid><description>æœ‰æ—¶æˆ‘ä»¬å¯èƒ½éœ€è¦çŸ¥é“é•¿æ—¶é—´è°ƒç”¨å­˜å‚¨è¿‡ç¨‹çš„è¿›åº¦ã€‚
é€šè¿‡å¤–éƒ¨è¡¨ é¦–å…ˆæˆ‘æƒ³åˆ°é€šè¿‡ä¿®æ”¹ä¸€å¼ å¤–éƒ¨è¡¨æ›´æ–°å­˜å‚¨è¿‡ç¨‹çš„è¿›åº¦ï¼Œåæ¥å‘ç°è¿™æ ·æ˜¯ä¸è¡Œçš„ã€‚å­˜å‚¨è¿‡ç¨‹æ‰§è¡Œä¸­å¯¹æ•°æ®åº“çš„æ”¹å˜åœ¨å¤–éƒ¨æ˜¯è·å–ä¸åˆ°çš„ï¼Œå®ƒåªæœ‰åœ¨æ‰§è¡Œå®Œæ¯•æäº¤åï¼Œæˆ‘ä»¬æ‰èƒ½è·å–ç»“æœï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼æˆ‘ä»¬è·å–åˆ°çš„è¿›åº¦å¯èƒ½å…¨éƒ½æ˜¯100%ã€‚
raise RAISEè¯­å¥å¯ä»¥åœ¨sqlè¿è¡Œè¿‡ç¨‹ä¸­å‘ç¨‹åºæŠ›å‡ºæ¶ˆæ¯æˆ–é”™è¯¯ï¼Œæ–‡æ¡£
ç”¨æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š sql
RAISE INFO &amp;#39;model_progress:%&amp;#39;,json_build_object(&amp;#39;job_uid&amp;#39;,job_uid,&amp;#39;job_progress&amp;#39;,progress); ç¨‹åºä¸­æˆ‘ä»¬è¿˜å¯ä»¥è·å–åˆ°å­˜å‚¨è¿‡ç¨‹æŠ›å‡ºçš„æ¶ˆæ¯ï¼šå¦‚nodeå®ç°æ‰€ç¤º
const pool = new Pg.Pool(Config.db); pool.on(&amp;#39;connect&amp;#39;, (cl) =&amp;gt; { cl.on(&amp;#39;notice&amp;#39;, (msg)=&amp;gt; { //è·å–sqlæŠ›å‡ºçš„ä¿¡æ¯ DbNoticeHandler.handle(msg); }); });</description></item><item><title>pgä¸­å¦‚ä½•å–æ¶ˆæ­£åœ¨æ‰§è¡Œçš„å­˜å‚¨è¿‡ç¨‹</title><link>https://chenkai.life/database/cancel_runing_function/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/database/cancel_runing_function/</guid><description>å¦‚æœå­˜å‚¨è¿‡ç¨‹æ‰§è¡Œè¿‡ç¨‹ï¼Œéœ€è¦æ·»åŠ å¯ä»¥å–æ¶ˆçš„åŠŸèƒ½ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸¤ä¸ªå‡½æ•°ã€‚
pg_backend_pid: æŸ¥è¯¢å½“å‰ä¼šè¯çš„æœåŠ¡å™¨è¿›ç¨‹çš„è¿›ç¨‹IDï¼Œ pg_cancel_backend(pid int): å–æ¶ˆåç«¯çš„å½“å‰æŸ¥è¯¢ã€‚å¦‚æœè°ƒç”¨è§’è‰²æ˜¯å…¶åç«¯è¢«å–æ¶ˆæˆ–å·²æˆäºˆè°ƒç”¨è§’è‰²çš„è§’è‰²çš„æˆå‘˜ï¼Œåˆ™ä¹Ÿå…è®¸è¿™æ ·åšpg_signal_backendï¼Œä½†æ˜¯åªæœ‰è¶…çº§ç”¨æˆ·å¯ä»¥å–æ¶ˆè¶…çº§ç”¨æˆ·åç«¯ã€‚ demo åœ¨å‡½æ•°ä¸­æŸ¥è¯¢å½“å‰çš„pid create or replace function pg_cancel_backend() returns void as $$ declare backend_pid bigint; begin --æŸ¥è¯¢å½“å‰pid backend_pid = pg_backend_pid(); loop raise notice &amp;#39;%&amp;#39;, format(&amp;#39;%1$s : backend_pid: %2$s&amp;#39;, now(),backend_pid); perform pg_sleep(2); end loop; end; $$ language plpgsql; -- 2019-07-25 03:47:30.783608+00 : backend_pid: 13677 æ ¹æ®pidå–æ¶ˆå½“å‰è¿›ç¨‹ select pg_cancel_backend(13677);</description></item><item><title>pgä¸­å¦‚ä½•æŸ¥è¯¢Geometryç±»å‹å­—æ®µçš„åæ ‡ç³»</title><link>https://chenkai.life/database/pg_get_geometry_type/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/database/pg_get_geometry_type/</guid><description>æŸ¥è¯¢åæ ‡ç³»çš„æ–¹å¼ å¦‚æ²¡æœ‰æ˜¾ç¤ºæŒ‡å®š geometry(${geometryType},3857)
-- æŸ¥è¯¢åˆ°çš„åæ ‡ç³»æ˜¯æ­£ç¡® select ST_SRID(the_geom_webmercator) from data.t_caa6d99c6eb14495b2238b4c0d56f051 -- æŸ¥è¯¢åˆ°çš„åæ ‡ç³»æ˜¯0 select Find_SRID(&amp;#39;data&amp;#39;,&amp;#39;t_bcccd400c5bc8025aa0eed5fd5816de5&amp;#39;,&amp;#39;the_geom_webmercator&amp;#39;); select * from geometry_columns where f_table_name = &amp;#39;t_bcccd400c5bc8025aa0eed5fd5816de5e&amp;#39;</description></item><item><title>pgä¸­å¯¹ä¸­æ–‡å­—æ®µçš„æ’åº</title><link>https://chenkai.life/database/pg_chinese_order/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/database/pg_chinese_order/</guid><description>PostgreSQLä¸­å¯¹å­—æ®µæ’åºæ—¶ä¸­æ–‡å¹¶ä¸ä¼šæŒ‰ç…§æ‹¼éŸ³æ’åºï¼Œåœ¨ä¸åŒçš„å­—ç¬¦é›†ä¸­ï¼Œæ±‰å­—çš„ç¼–ç å¯èƒ½ä¸ä¸€æ ·ï¼Œæ¯”å¦‚UTF8å’ŒGBKï¼Œå…¶ä¸­GBKå¤§è‡´æ˜¯æŒ‰æ‹¼éŸ³çš„é¡ºåºè¿›è¡Œç¼–ç çš„ï¼Œè€ŒUTF8åˆ™ä¸æ˜¯ã€‚æ‰€ä»¥å¦‚æœä½ çš„æ•°æ®åº“ä½¿ç”¨äº†UTF8ç¼–ç ï¼Œå¯¹ä¸­æ–‡å­—æ®µè¿›è¡Œæ’åºæ—¶ï¼Œå¾—åˆ°çš„å¹¶ä¸æ˜¯æŒ‰æ‹¼éŸ³æ’åºçš„ç»“æœã€‚ PostgreSQLä¸­ï¼Œä¸­æ–‡æŒ‰æ‹¼éŸ³æ’åºçš„ç¼–ç åŒ…æ‹¬GB18030, EUC_CN, GBK, BIG5, EUC_TW ç­‰ã€‚ä¸ºäº†å¾—åˆ°æ‹¼éŸ³æ’åºï¼Œå¯ä»¥ä½¿ç”¨ç¼–ç è½¬æ¢åçš„å€¼æ¥æ’åºï¼Œå¦‚convert_to(name,'GBK')ã€‚
å¯¹äºå¤šéŸ³å­—ã€ç”Ÿåƒ»å­—æ’åºç»“æœä¸å¤ªå‡†ç¡®ï¼šå¦‚æ ¹æ®æ±‰å­—å†…ç æ‰©å±•è§„èŒƒ(GBK) åœ¨GBKç¼–ç 10è¿›åˆ¶æ¿®ç¼–ç ä¸º58791ï¼Œæ€»ç¼–ç ä¸º55260,</description></item><item><title>pgä¸­çš„æ•°æ®åº“æ—¶åŒº</title><link>https://chenkai.life/database/pg_timezone/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/database/pg_timezone/</guid><description>åŸå›  ç³»ç»Ÿä¸»æœºä¸æ•°æ®åº“æ—¶é—´ä¸ä¸€è‡´ï¼› æ•°æ®åº“é…ç½®æ–‡ä»¶ä¸­timezoneä¸é•œåƒç³»ç»Ÿé‡Œé¢è®¾ç½®çš„æ—¶åŒºä¸ä¸€è‡´
è§£å†³åŠæ³• ä¿®æ”¹æ•°æ®åº“/var/lib/postgresql/data/postgresql.confä¸­çš„timezoneæˆ–è€…é•œåƒæ—¶åŒºä¿æŒä¸€è‡´åé‡å¯æ•°æ®åº“
timestamp with time zoneï¼Œå†…éƒ¨å­˜å‚¨çš„å€¼å§‹ç»ˆä¸ºUTCï¼ˆé€šç”¨åè°ƒæ—¶é—´ï¼Œä¼ ç»Ÿä¸Šç§°ä¸ºæ ¼æ—å¨æ²»æ ‡å‡†æ—¶é—´ï¼‰ã€‚å…·æœ‰æŒ‡å®šæ˜¾å¼æ—¶åŒºçš„è¾“å…¥å€¼å°†ä½¿ç”¨è¯¥æ—¶åŒºçš„é€‚å½“åç§»é‡è½¬æ¢ä¸ºUTCã€‚å¦‚æœè¾“å…¥å­—ç¬¦ä¸²ä¸­æœªæŒ‡å®šæ—¶åŒºï¼Œåˆ™å‡å®šå®ƒä½äºç³»ç»Ÿçš„timezoneå‚æ•°æŒ‡ç¤ºçš„æ—¶åŒºä¸­ï¼Œå¹¶ä½¿ç”¨åŒºåŸŸçš„åç§»é‡è½¬æ¢ä¸ºUTC ã€‚å½“ä¸€ä¸ªtimestamp with time zoneå€¼è¢«è¾“å‡ºï¼Œå®ƒæ€»æ˜¯ä»UTCè½¬æ¢æˆå½“å‰timezoneåŒºåŸŸï¼Œå¹¶ä½œä¸ºåœ¨è¯¥åŒºåŸŸä¸­çš„æœ¬åœ°æ—¶é—´æ˜¾ç¤ºã€‚
æ­¥éª¤ æŸ¥çœ‹æ•°æ®åº“æ—¶åŒº
show time zone; æŸ¥çœ‹ç³»ç»Ÿæ—¶é—´ä¸æ—¶åŒº
date Thu Nov 19 09:39:58 CST 2015 date -R Thu, 19 Nov 2015 09:40:33 +0800 è§†å›¾pg_timezone_namesä¿å­˜äº†æ‰€æœ‰å¯ä¾›é€‰æ‹©çš„æ—¶åŒº
select * from pg_timezone_names; æŸ¥çœ‹é…ç½®æ–‡ä»¶ä¸­æ—¶åŒºè®¾ç½®ï¼Œè¦æƒ³æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ­¤æ—¶éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶
[grep timezone postgresql.conf log_timezone = 'US/Pacific' timezone = 'US/Pacific' ä¿®æ”¹å®Œé…ç½®æ—¶é‡æ–°åŠ è½½
[postgres@rudy_01 ~]$ pg_ctl reload server signaled [postgres@rudy_01 ~]$ psql postgres=# show time zone; TimeZone</description></item><item><title>pgçš„æ•°æ®åº“é…ç½®</title><link>https://chenkai.life/database/pg_config/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/database/pg_config/</guid><description>configä¸€èˆ¬æ–‡ä»¶åœ¨æ•°æ®dataç›®å½•ä¸‹é¢å¦‚:/usr/local/var/postgresï¼Œå¦‚æœä½ å¿˜è®°äº†ç›®å½•åœ°å€å¯ä»¥SHOW data_directory;æŸ¥è¯¢å‡ºæ¥,æˆ–è€…
select setting from pg_settings where name = &amp;#39;config_file&amp;#39;; -- æŸ¥è¯¢é…ç½® table pg_hba_file_rules -- ä½¿é…ç½®ç”Ÿæ•ˆ SELECT pg_reload_conf(); pg_hba.confæ–‡ä»¶ä»‹ç»
pg_hba.confæ–‡ä»¶ å®¢æˆ·ç«¯è®¤è¯æ˜¯ç”±ä¸€ä¸ªé…ç½®æ–‡ä»¶(é€šå¸¸åä¸ºpg_hba.conf)æ§åˆ¶çš„ï¼Œ å®ƒå­˜æ”¾åœ¨æ•°æ®åº“é›†ç¾¤çš„æ•°æ®ç›®å½•é‡Œã€‚HBAçš„æ„æ€æ˜¯&amp;quot;host-based authentication&amp;rdquo;ï¼Œ ä¹Ÿå°±æ˜¯åŸºäºä¸»æœºçš„è®¤è¯ã€‚åœ¨initdbåˆå§‹åŒ–æ•°æ®ç›®å½•çš„æ—¶å€™ï¼Œ å®ƒä¼šå®‰è£…ä¸€ä¸ªç¼ºçœçš„pg_hba.confæ–‡ä»¶ã€‚ä¸è¿‡æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠè®¤è¯é…ç½®æ–‡ä»¶æ”¾åœ¨å…¶å®ƒåœ°æ–¹ï¼› å‚é˜…hba_fileé…ç½®å‚æ•°ã€‚ g_hba.confæ–‡ä»¶çš„å¸¸ç”¨æ ¼å¼æ˜¯ä¸€ç»„è®°å½•ï¼Œæ¯è¡Œä¸€æ¡ã€‚ç©ºç™½è¡Œå°†è¢«å¿½ç•¥ï¼Œ äº•å·#å¼€å¤´çš„æ³¨é‡Šä¹Ÿè¢«å¿½ç•¥ã€‚è®°å½•ä¸èƒ½è·¨è¡Œå­˜åœ¨ã€‚ ä¸€æ¡è®°å½•æ˜¯ç”±è‹¥å¹²ç”¨ç©ºæ ¼å’Œ/æˆ–åˆ¶è¡¨ç¬¦åˆ†éš”çš„å­—æ®µç»„æˆã€‚å¦‚æœå­—æ®µç”¨å¼•å·åŒ…å›´ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥åŒ…å«ç©ºç™½ã€‚ åœ¨æ•°æ®åº“ã€ç”¨æˆ·æˆ–åœ°å€æ–‡ä»¶ä¸­å¼•ç”¨ä¸€ä¸ªå…³é”®è¯ï¼ˆå¦‚ï¼Œall æˆ– replicationï¼‰ ä½¿è¿™ä¸ªè¯å¤±å»å®ƒçš„ç‰¹æ®Šå«ä¹‰ï¼Œåªæ˜¯ç”¨è¿™ä¸ªåå­—åŒ¹é…ä¸€ä¸ªæ•°æ®åº“ã€ç”¨æˆ·æˆ–ä¸»æœºã€‚
æ¯æ¡è®°å½•å£°æ˜ä¸€ç§è¿æ¥ç±»å‹ã€ä¸€ä¸ªå®¢æˆ·ç«¯ IP åœ°å€èŒƒå›´(å¦‚æœå’Œè¿æ¥ç±»å‹ç›¸å…³çš„è¯)ã€ ä¸€ä¸ªæ•°æ®åº“åã€ä¸€ä¸ªç”¨æˆ·åå­—ã€å¯¹åŒ¹é…è¿™äº›å‚æ•°çš„è¿æ¥ä½¿ç”¨çš„è®¤è¯æ–¹æ³•ã€‚ç¬¬ä¸€æ¡åŒ¹é…è¿æ¥ç±»å‹ã€ å®¢æˆ·ç«¯åœ°å€ã€è¿æ¥è¯·æ±‚çš„æ•°æ®åº“åå’Œç”¨æˆ·åçš„è®°å½•å°†ç”¨äºæ‰§è¡Œè®¤è¯ã€‚è¿™ä¸ªå¤„ç†è¿‡ç¨‹æ²¡æœ‰ &amp;ldquo;è·¨è¶Š&amp;quot;æˆ–è€…&amp;quot;å›å¤´&amp;quot;çš„è¯´æ³•ï¼šå¦‚æœé€‰æ‹©äº†ä¸€æ¡è®°å½•è€Œä¸”è®¤è¯å¤±è´¥ï¼Œ é‚£ä¹ˆå°†ä¸å†è€ƒè™‘åé¢çš„è®°å½•ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…çš„è®°å½•ï¼Œé‚£ä¹ˆè®¿é—®å°†è¢«æ‹’ç»ã€‚
æ¯æ¡è®°å½•å¯ä»¥æ˜¯ä¸‹é¢ä¸ƒç§æ ¼å¼ä¹‹ä¸€
local database user auth-method [auth-options] host database user address auth-method [auth-options] hostssl database user address auth-method [auth-options] hostnossl database user address auth-method [auth-options] host database user IP-address IP-mask auth-method [auth-options] hostssl database user IP-address IP-mask auth-method [auth-options] hostnossl database user IP-address IP-mask auth-method [auth-options] `` ## demo å…è®¸åœ¨æœ¬æœºä¸Šçš„ä»»ä½•ç”¨æˆ·ä½¿ç”¨ Unix åŸŸå¥—æ¥å­—(æœ¬åœ°è¿æ¥çš„ç¼ºçœ) ä»¥ä»»ä½•æ•°æ®åº“ç”¨æˆ·èº«ä»½è¿æ¥ä»»ä½•æ•°æ®åº“ TYPE DATABASE USER ADDRESS METHOD local all all trust</description></item><item><title>pgè§¦å‘å™¨</title><link>https://chenkai.life/database/pg_trigger/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/database/pg_trigger/</guid><description>è§¦å‘å™¨ ä¸€ä¸ªè§¦å‘å™¨å£°æ˜äº†å½“æ‰§è¡Œä¸€ç§ç‰¹å®šç±»å‹çš„æ“ä½œæ—¶æ•°æ®åº“åº”è¯¥è‡ªåŠ¨æ‰§è¡Œä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ã€‚è§¦å‘å™¨å¯ä»¥è¢«é™„åŠ åˆ°è¡¨ï¼ˆåˆ†åŒºçš„æˆ–è€…ä¸åˆ†åŒºçš„ï¼‰ã€è§†å›¾å’Œå¤–éƒ¨è¡¨ã€‚ åœ¨è¡¨å’Œå¤–éƒ¨è¡¨ä¸Šï¼Œè§¦å‘å™¨å¯ä»¥è¢«å®šä¹‰ä¸ºåœ¨ INSERTã€UPDATEæˆ– DELETEæ“ä½œä¹‹å‰æˆ–ä¹‹åè¢«æ‰§è¡Œï¼Œ å¯ä»¥ä¸ºæ¯ä¸ªSQLè¯­å¥è¢«æ‰§è¡Œä¸€æ¬¡æˆ–è€…ä¸ºæ¯ä¸ªä¿®æ”¹çš„è¡Œ è¢«æ‰§è¡Œä¸€æ¬¡ã€‚UPDATE è§¦å‘å™¨å¯ä»¥è¿›ä¸€æ­¥åœ°è®¾ç½®ä¸ºåªé’ˆå¯¹UPDATE è¯­å¥çš„SETå­å¥çš„ç‰¹å®šåˆ—å‡ºå‘ã€‚è§¦å‘å™¨ä¹Ÿå¯ä»¥è¢« TRUNCATEè¯­å¥è§¦å‘ã€‚å¦‚æœä¸€ä¸ªè§¦å‘å™¨äº‹ä»¶å‘ç”Ÿï¼Œ è§¦å‘å™¨å‡½æ•°ä¼šåœ¨é€‚å½“çš„äº‹ä»¶è¢«è°ƒç”¨æ¥å¤„ç†è¯¥äº‹ä»¶ã€‚
è§¦å‘å™¨å‡½æ•°å¿…é¡»åœ¨è§¦å‘å™¨æœ¬èº«è¢«åˆ›å»ºä¹‹å‰è¢«å®šä¹‰å¥½ã€‚è§¦å‘å™¨å‡½æ•°å¿…é¡»è¢«å®šä¹‰æˆä¸€ä¸ªæ²¡æœ‰å‚æ•°çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›ç±»å‹ä¸ºtriggerï¼ˆè§¦å‘å™¨å‡½æ•°é€šè¿‡ä¸€ä¸ªç‰¹æ®Šä¼ é€’çš„TriggerDataç»“æ„ä½œä¸ºå…¶è¾“å…¥ï¼Œè€Œä¸æ˜¯ä»¥æ™®é€šå‡½æ•°å‚æ•°çš„å½¢å¼ï¼‰ã€‚ ä¸€æ—¦ä¸€ä¸ªåˆé€‚çš„è§¦å‘å™¨å‡½æ•°è¢«åˆ›å»ºï¼Œå°±å¯ä»¥ä½¿ç”¨CREATE TRIGGERå»ºç«‹è§¦å‘å™¨ã€‚åŒä¸€ä¸ªè§¦å‘å™¨å‡½æ•°å¯ä»¥è¢«ç”¨äºå¤šä¸ªè§¦å‘å™¨ã€‚
è§¦å‘å™¨å‡½æ•°è§„åˆ™ å½“ä¸€ä¸ªPL/pgSQLå‡½æ•°å½“åšè§¦å‘å™¨è°ƒç”¨æ—¶ï¼Œåœ¨é¡¶å±‚å—ä¼šè‡ªåŠ¨åˆ›å»ºä¸€äº›ç‰¹æ®Šå˜é‡ã€‚å®ƒä»¬æ˜¯ï¼š
NEW æ•°æ®ç±»å‹æ˜¯RECORDï¼›è¯¥å˜é‡ä¸ºè¡Œçº§è§¦å‘å™¨ä¸­çš„INSERT/UPDATEæ“ä½œä¿æŒæ–°æ•°æ®è¡Œã€‚åœ¨è¯­å¥çº§åˆ«çš„è§¦å‘å™¨ä»¥åŠDELETEæ“ä½œï¼Œè¿™ä¸ªå˜é‡æ˜¯nullã€‚ OLD æ•°æ®ç±»å‹æ˜¯RECORDï¼›è¯¥å˜é‡ä¸ºè¡Œçº§è§¦å‘å™¨ä¸­çš„UPDATE/DELETEæ“ä½œä¿æŒæ–°æ•°æ®è¡Œã€‚åœ¨è¯­å¥çº§åˆ«çš„è§¦å‘å™¨ä»¥åŠINSERTæ“ä½œï¼Œè¿™ä¸ªå˜é‡æ˜¯nullã€‚ TG_NAME æ•°æ®ç±»å‹æ˜¯nameï¼›è¯¥å˜é‡åŒ…å«å®é™…è§¦å‘çš„è§¦å‘å™¨åã€‚ TG_WHEN æ•°æ®ç±»å‹æ˜¯textï¼›æ˜¯å€¼ä¸ºBEFOREã€AFTERæˆ–INSTEAD OFçš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå–å†³äºè§¦å‘å™¨çš„å®šä¹‰ã€‚ TG_LEVEL æ•°æ®ç±»å‹æ˜¯textï¼›æ˜¯å€¼ä¸ºROWæˆ–STATEMENTçš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå–å†³äºè§¦å‘å™¨çš„å®šä¹‰ã€‚ TG_OP æ•°æ®ç±»å‹æ˜¯textï¼›æ˜¯å€¼ä¸ºINSERTã€UPDATEã€DELETEæˆ–TRUNCATEçš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒè¯´æ˜è§¦å‘å™¨æ˜¯ä¸ºå“ªä¸ªæ“ä½œå¼•å‘ã€‚ TG_RELID æ•°æ®ç±»å‹æ˜¯oidï¼›æ˜¯å¯¼è‡´è§¦å‘å™¨è°ƒç”¨çš„è¡¨çš„å¯¹è±¡ IDã€‚ TG_RELNAME æ•°æ®ç±»å‹æ˜¯nameï¼›æ˜¯å¯¼è‡´è§¦å‘å™¨è°ƒç”¨çš„è¡¨çš„åç§°ã€‚ç°åœ¨å·²ç»è¢«åºŸå¼ƒï¼Œå¹¶ä¸”å¯èƒ½åœ¨æœªæ¥çš„ä¸€ä¸ªå‘è¡Œä¸­æ¶ˆå¤±ã€‚ä½¿ç”¨TG_TABLE_NAMEæ›¿ä»£ã€‚ TG_TABLE_NAME æ•°æ®ç±»å‹æ˜¯nameï¼›æ˜¯å¯¼è‡´è§¦å‘å™¨è°ƒç”¨çš„è¡¨çš„åç§°ã€‚ TG_TABLE_SCHEMA æ•°æ®ç±»å‹æ˜¯nameï¼›æ˜¯å¯¼è‡´è§¦å‘å™¨è°ƒç”¨çš„è¡¨æ‰€åœ¨çš„æ¨¡å¼åã€‚ TG_NARGS æ•°æ®ç±»å‹æ˜¯integerï¼›åœ¨CREATE TRIGGERè¯­å¥ä¸­ç»™è§¦å‘å™¨å‡½æ•°çš„å‚æ•°æ•°é‡ã€‚ TG_ARGV[] æ•°æ®ç±»å‹æ˜¯textæ•°ç»„ï¼›æ¥è‡ªCREATE TRIGGERè¯­å¥çš„å‚æ•°ã€‚ç´¢å¼•ä» 0 å¼€å§‹è®°æ•°ã€‚éæ³•ç´¢å¼•ï¼ˆå°äº 0 æˆ–è€…å¤§äºç­‰äºtg_nargsï¼‰ä¼šå¯¼è‡´è¿”å›ä¸€ä¸ªç©ºå€¼ã€‚ ä¸€ä¸ªè§¦å‘å™¨å‡½æ•°å¿…é¡»è¿”å›NULLæˆ–è€…æ˜¯ä¸€ä¸ªä¸è§¦å‘å™¨ä¸ºä¹‹å¼•å‘çš„è¡¨ç»“æ„å®Œå…¨ç›¸åŒçš„è®°å½•/è¡Œå€¼ã€‚ ä¸€ä¸ª PL/pgSQL è§¦å‘å™¨å‡½æ•° è§¦å‘å™¨å‡½æ•°è¯´æ˜æ–‡æ¡£
è¿™ä¸ªä¾‹å­è§¦å‘å™¨ä¿è¯ï¼šä»»ä½•æ—¶å€™ä¸€ä¸ªè¡Œåœ¨è¡¨ä¸­è¢«æ’å…¥æˆ–æ›´æ–°æ—¶ï¼Œå½“å‰ç”¨æˆ·åå’Œæ—¶é—´ä¹Ÿä¼šè¢«æ ‡è®°åœ¨è¯¥è¡Œä¸­ã€‚å¹¶ä¸”å®ƒä¼šæ£€æŸ¥ç»™å‡ºäº†ä¸€ä¸ªé›‡å‘˜çš„å§“åä»¥åŠè–ªæ°´æ˜¯ä¸€ä¸ªæ­£å€¼ã€‚
CREATE TABLE emp ( empname text, salary integer, last_date timestamp, last_user text ); CREATE FUNCTION emp_stamp() RETURNS trigger AS $emp_stamp$ BEGIN -- æ£€æŸ¥ç»™å‡ºäº† empname ä»¥åŠ salary IF NEW.</description></item><item><title>postgres æœ‰ç”¨çš„sql</title><link>https://chenkai.life/database/pg_useful_sql/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/database/pg_useful_sql/</guid><description>æ•°æ®åº“è¿ç§»å¤‡ä»½ å¤‡ä»½ï¼špg_dump -U postgres -d myDBname -f dump.sql è¿˜åŸï¼š
pg_dump -U postgres -d g-default -f g-default.sql
å¿½ç•¥æŸäº›schema psql -N data -N public_data -d g-default -U postgres -f g-default.sql
å°†mydbæ•°æ®åº“è½¬å‚¨åˆ°ä¸€ä¸ª SQL è„šæœ¬æ–‡ä»¶ï¼špg_dump mydb &amp;gt; db.sql å°†ä¸Šè¿°è„šæœ¬å¯¼å…¥ä¸€ä¸ª(æ–°å»ºçš„)æ•°æ®åº“newdbï¼špsql -d newdb -f db.sql
å°†æ•°æ®åº“è½¬å‚¨ä¸ºè‡ªå®šä¹‰æ ¼å¼çš„å½’æ¡£æ–‡ä»¶pg_dump -Fc mydb &amp;gt; db.dump å°†æ•°æ®åº“è½¬å‚¨ä¸ºç›®å½•æ ¼å¼å½’æ¡£ï¼špg_dump -Fd mydb -f dumpdir å°†æ•°æ®åº“è½¬å‚¨ä¸ºç›®å½•æ ¼å¼å½’æ¡£ï¼Œå¹¶è¡Œ5ä¸ªworkerå·¥ä½œï¼špg_dump -Fd mydb -j 5 -f dumpdir å°†å½’æ¡£æ–‡ä»¶å¯¼å…¥ä¸€ä¸ª(æ–°å»ºçš„)æ•°æ®åº“newdbï¼špg_restore -d newdb db.dump
è½¬å‚¨ä¸€ä¸ªåä¸ºmytabçš„è¡¨ï¼špg_dump -t mytab mydb &amp;gt; db.sql è½¬å‚¨detroitæ¨¡å¼ä¸­æ‰€æœ‰ä»¥empå¼€å¤´çš„è¡¨ï¼Œ ä½†æ˜¯ä¸åŒ…æ‹¬employee_logè¡¨ï¼špg_dump -t 'detroit.</description></item><item><title>postgresqlä¸­çš„sequence</title><link>https://chenkai.life/database/pg_sequence/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/database/pg_sequence/</guid><description>sequenceå·æ˜¯æ•°æ®åº“ç³»ç»ŸæŒ‰ç…§ä¸€å®šè§„åˆ™è‡ªå¢çš„æ•°å­—åºåˆ— sequenceæ“ä½œå‡½æ•°
Function Return Type Description currval(regclass) bigint Return value most recently obtained with nextval for specified sequence lastval() bigint Return value most recently obtained with nextval for any sequence nextval(regclass) bigint Advance sequence and return new value setval(regclass, bigint) bigint Set sequence&amp;#39;s current value setval(regclass, bigint, boolean) bigint Set sequence&amp;#39;s current value and is_called flag åˆ›å»ºsequence postgreæ–‡æ¡£
sequenceæ“ä½œå‡½æ•°å®šä¹‰
CREATE [ TEMPORARY | TEMP ] SEQUENCE [ IF NOT EXISTS ] name [ AS data_type ] [ INCREMENT [ BY ] increment ] [ MINVALUE minvalue | NO MINVALUE ] [ MAXVALUE maxvalue | NO MAXVALUE ] [ START [ WITH ] start ] [ CACHE cache ] [ [ NO ] CYCLE ] [ OWNED BY { table_name.</description></item><item><title>postgreä¸­çš„å¤åˆç±»å‹</title><link>https://chenkai.life/database/pg_composite_type/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/database/pg_composite_type/</guid><description>å£°æ˜å¤åˆç±»å‹ Composite Types:å¤åˆç±»å‹Composite Typesè¡¨ç¤ºè¡Œæˆ–è®°å½•çš„ç»“æ„; å®ƒæœ¬è´¨ä¸Šåªæ˜¯ä¸€ä¸ªå­—æ®µåç§°åŠå…¶æ•°æ®ç±»å‹ã€‚ PostgreSQLå…è®¸å¤åˆç±»å‹åƒç”¨ç®€å•ç±»å‹ç›¸åŒçš„æ–¹å¼ä½¿ç”¨ã€‚ ä¾‹å¦‚ï¼Œè¡¨çš„åˆ—å¯ä»¥å£°æ˜ä¸ºå¤åˆç±»å‹ã€‚ è¯­æ³•ä¸CREATE TABLEç›¸å½“ï¼Œåªæ˜¯å¯ä»¥æŒ‡å®šå­—æ®µåç§°å’Œç±»å‹; ç›®å‰ä¸èƒ½åŒ…å«ä»»ä½•çº¦æŸï¼ˆä¾‹å¦‚NOT NULLï¼‰ã€‚ è¯·æ³¨æ„ï¼ŒASå…³é”®å­—æ˜¯å¿…ä¸å¯å°‘çš„; æ²¡æœ‰å®ƒï¼Œç³»ç»Ÿä¼šè®¤ä¸ºæœ‰ä¸€ç§ä¸åŒçš„CREATE TYPEå‘½ä»¤ï¼Œä½ ä¼šå¾—åˆ°å¥‡æ€ªçš„è¯­æ³•é”™è¯¯ã€‚ ä»¥ä¸‹æ˜¯å®šä¹‰å¤åˆç±»å‹çš„ä¸¤ä¸ªç®€å•ç¤ºä¾‹ï¼š
CREATE TYPE complex AS ( r double precision, i double precision ); CREATE TYPE inventory_item AS ( name text, supplier_id integer, price numeric ); å®šä¹‰äº†ç±»å‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒä»¬ï¼š
CREATE TABLE on_hand ( item inventory_item, count integer ); INSERT INTO on_hand VALUES (ROW(&amp;#39;fuzzy dice&amp;#39;, 42, 1.99), 1000); CREATE FUNCTION price_extension(inventory_item, integer) RETURNS numeric AS &amp;#39;SELECT $1.price * $2&amp;#39; LANGUAGE SQL; SELECT price_extension(item, 10) FROM on_hand; æ¯å½“æ‚¨åˆ›å»ºè¡¨æ—¶ï¼Œä¹Ÿä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå¤åˆç±»å‹ï¼Œå…¶åç§°ä¸è¡¨çš„åç§°ç›¸åŒï¼Œä»¥è¡¨ç¤ºè¡¨çš„è¡Œç±»å‹ã€‚</description></item><item><title>redisçš„äº”ç§æ•°æ®ç»“æ„åŠå…¶ä½¿ç”¨åœºæ™¯</title><link>https://chenkai.life/posts/redis_use_scene/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/posts/redis_use_scene/</guid><description>from https://www.cnblogs.com/ottll/p/9470480.html
String å¸¸ç”¨å‘½ä»¤ï¼š
getã€setã€incrã€decrã€mgetç­‰
åº”ç”¨åœºæ™¯ï¼š
Stringæ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œæ™®é€šçš„key/valueéƒ½å¯ä»¥å½’ä¸ºæ­¤ç±»ï¼Œvalueå…¶å®ä¸ä»…æ˜¯Stringï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°å­—ã€‚
æ¯”å¦‚æƒ³çŸ¥é“ä»€ä¹ˆæ—¶å€™å°é”ä¸€ä¸ªIPåœ°å€(è®¿é—®è¶…è¿‡å‡ æ¬¡)ã€‚INCRBYå‘½ä»¤è®©è¿™äº›å˜å¾—å¾ˆå®¹æ˜“ï¼Œé€šè¿‡åŸå­é€’å¢ä¿æŒè®¡æ•°ã€‚
å®ç°æ–¹å¼ï¼š
m,decrç­‰æ“ä½œæ—¶ä¼šè½¬æˆæ•°å€¼å‹è¿›è¡Œè®¡ç®—ï¼Œæ­¤æ—¶redisObjectçš„encodingå­—æ®µä¸ºintã€‚
2.Hash
å¸¸ç”¨å‘½ä»¤ï¼š
hgetã€hsetã€hgetallç­‰
åº”ç”¨åœºæ™¯ï¼š
æ¯”å¦‚æˆ‘ä»¬è¦å­˜å‚¨ä¸€ä¸ªç”¨æˆ·çš„ä¿¡æ¯ï¼ŒåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š
ç”¨æˆ·IDï¼Œä¸ºæŸ¥æ‰¾çš„key
å­˜å‚¨çš„valueç”¨æˆ·å¯¹è±¡åŒ…å«å§“ånameï¼Œå¹´é¾„ageï¼Œç”Ÿæ—¥birthday ç­‰ä¿¡æ¯
å¦‚æœä»¥æ™®é€šçš„key/valueç»“æ„å­˜å‚¨ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§å­˜å‚¨æ–¹å¼ï¼š
ç¬¬ä¸€ç§æ–¹å¼å°†ç”¨æˆ·idä½œä¸ºkeyï¼Œå…¶ä»–ä¿¡æ¯å°è£…æˆå¯¹è±¡ä»¥åºåˆ—åŒ–çš„æ–¹å¼å­˜å‚¨ï¼Œå¦‚
set u001 &amp;ldquo;æä¸‰,18,20010101&amp;rdquo;
è¿™ç§æ–¹å¼çš„ç¼ºç‚¹ï¼Œå¢åŠ äº†åºåˆ—åŒ–/ååºåˆ—åŒ–çš„å¼€é”€ï¼›éœ€è¦ä¿®æ”¹å…¶ä¸­ä¸€é¡¹ä¿¡æ¯æ—¶ï¼Œéœ€è¦æŠŠæ•´ä¸ªå¯¹è±¡å–å›ï¼Œä¿®æ”¹æ“ä½œéœ€è¦å¯¹å¹¶å‘è¿›è¡Œä¿æŠ¤ï¼Œå¼•å…¥CASç­‰å¤æ‚é—®é¢˜ã€‚
ç¬¬äºŒç§æ–¹å¼æ˜¯è¿™ä¸ªç”¨æˆ·ä¿¡æ¯æœ‰å¤šå°‘æˆå‘˜å°±å­˜æˆå¤šå°‘ä¸ªkey-valueå¯¹ï¼Œç”¨ç”¨æˆ·id+å¯¹åº”å±æ€§åç§°ä½œä¸ºå”¯ä¸€çš„æ ‡è¯†æ¥å–å¾—å¯¹åº”å±æ€§çš„å€¼ï¼Œå¦‚ï¼š
mset user:001:name &amp;ldquo;æä¸‰ &amp;ldquo;user:001:age18 user:001:birthday &amp;ldquo;20010101&amp;rdquo;
è™½ç„¶çœå»äº†åºåˆ—åŒ–å¼€é”€å’Œå¹¶å‘é—®é¢˜ï¼Œä½†æ˜¯ç”¨æˆ·IDä¸ºé‡å¤å­˜å‚¨ï¼Œå¦‚æœå­˜åœ¨å¤§é‡è¿™æ ·çš„æ•°æ®ï¼Œå†…å­˜æµªè´¹è¾ƒå¤§ã€‚
redisæä¾›çš„hashå¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œredisçš„hashå®é™…æ˜¯å†…éƒ¨å­˜å‚¨çš„valueä¸ºä¸€ä¸ªHashMapï¼Œå¹¶ä¸”æä¾›äº†ç›´æ¥å­˜å–è¿™ä¸ªmapçš„æˆå‘˜æ¥å£ã€‚å¦‚
hmset user:001 name &amp;ldquo;æä¸‰&amp;rdquo; age 18 birthday &amp;ldquo;20010101&amp;rdquo;
ä¹Ÿå°±æ˜¯è¯´ï¼Œkeyä»ç„¶æ˜¯ç”¨æˆ·idï¼Œvalueæ˜¯ä¸€ä¸ªmapï¼Œè¿™ä¸ªmapçš„keyæ˜¯æˆå‘˜çš„å±æ€§åï¼Œvalueæ˜¯å±æ€§å€¼ã€‚
è¿™é‡ŒåŒæ—¶éœ€è¦æ³¨æ„ï¼ŒRedisæä¾›äº†æ¥å£(hgetall)å¯ä»¥ç›´æ¥å–åˆ°å…¨éƒ¨çš„å±æ€§æ•°æ®,ä½†æ˜¯å¦‚æœå†…éƒ¨Mapçš„æˆå‘˜å¾ˆå¤šï¼Œé‚£ä¹ˆæ¶‰åŠåˆ°éå†æ•´ä¸ªå†…éƒ¨Mapçš„æ“ä½œï¼Œç”±äºRediså•çº¿ç¨‹æ¨¡å‹çš„ç¼˜æ•…ï¼Œè¿™ä¸ªéå†æ“ä½œå¯èƒ½ä¼šæ¯”è¾ƒè€—æ—¶ï¼Œè€Œå¦å…¶å®ƒå®¢æˆ·ç«¯çš„è¯·æ±‚å®Œå…¨ä¸å“åº”ï¼Œè¿™ç‚¹éœ€è¦æ ¼å¤–æ³¨æ„ã€‚
å®ç°æ–¹å¼ï¼š
Redisçš„Hashå¯¹åº”çš„Valueå†…éƒ¨å®é™…å°±æ˜¯ä¸€ä¸ªHashMapï¼Œå®é™…æœ‰ä¸¤ç§ä¸åŒçš„å®ç°ï¼Œå¦‚æœæˆå‘˜è¾ƒå°‘æ—¶ï¼ŒRedisä¸ºäº†èŠ‚çœå†…å­˜ä¼šé‡‡ç”¨ç±»ä¼¼ä¸€ç»´æ•°ç»„æ–¹å¼å­˜å‚¨ï¼Œå¯¹åº”çš„value RedisObjectçš„encodingä¸ºzipmapï¼Œå½“æˆå‘˜æ•°é‡å¢å¤§æ—¶ä¼šè‡ªåŠ¨è½¬æˆçœŸæ­£çš„HashMapï¼Œæ­¤æ—¶encodingä¸ºhtã€‚
3.List
å¸¸ç”¨å‘½ä»¤ï¼š
lpush,rpush,lpop,rpop,lrange,BLPOP(é˜»å¡ç‰ˆ)ç­‰ã€‚
åº”ç”¨åœºæ™¯ï¼š
æœ€æ–°æ¶ˆæ¯æ’è¡Œã€‚
æ¶ˆæ¯é˜Ÿåˆ—ã€‚åˆ©ç”¨Listsçš„pushçš„æ“ä½œï¼Œå°†ä»»åŠ¡å­˜å‚¨åœ¨listä¸­ï¼Œç„¶åå·¥ä½œçº¿ç¨‹å†ç”¨popæ“ä½œå°†ä»»åŠ¡å–å‡ºè¿›è¡Œæ‰§è¡Œã€‚
å®ç°æ–¹å¼ï¼š
redis listçš„å®ç°æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œå¯ä»¥æ”¯æŒåå‘æŸ¥æ‰¾å’Œéå†ï¼Œæ›´æ–¹ä¾¿æ“ä½œï¼Œä¸è¿‡å¸¦æ¥äº†éƒ¨åˆ†é¢å¤–çš„å†…å­˜å¼€é”€ï¼Œrediså†…éƒ¨çš„å¾ˆå¤šå®ç°ï¼ŒåŒ…æ‹¬å‘é€ç¼“å†²é˜Ÿåˆ—ç­‰ä¹Ÿéƒ½ç”¨çš„æ˜¯è¿™ä¸ªæ•°æ®ç»“æ„ã€‚
Set å¸¸ç”¨å‘½ä»¤ï¼š
sadd,srem,spop,sdiff ,smembers,sunion ç­‰ã€‚
åº”ç”¨åœºæ™¯ï¼š
setç±»ä¼¼listï¼Œç‰¹æ®Šä¹‹å¤„æ˜¯setå¯ä»¥è‡ªåŠ¨æ’é‡ã€‚
setè¿˜æä¾›äº†æŸä¸ªæˆå‘˜æ˜¯å¦åœ¨ä¸€ä¸ªsetå†…çš„æ¥å£ï¼Œè¿™ä¸ªä¹Ÿæ˜¯listæ²¡æœ‰çš„ã€‚
æ¯”å¦‚åœ¨å¾®åšåº”ç”¨ä¸­ï¼Œæ¯ä¸ªäººçš„å¥½å‹å­˜åœ¨ä¸€ä¸ªé›†åˆï¼ˆsetï¼‰ä¸­ï¼Œè¿™æ ·æ±‚ä¸¤ä¸ªäººçš„å…±åŒå¥½å‹çš„æ“ä½œï¼Œå¯èƒ½å°±åªéœ€è¦ç”¨æ±‚äº¤é›†å‘½ä»¤å³å¯ã€‚
Redisè¿˜ä¸ºé›†åˆæä¾›äº†æ±‚äº¤é›†ã€å¹¶é›†ã€å·®é›†ç­‰æ“ä½œã€‚
å®ç°æ–¹å¼ï¼š
setå†…éƒ¨å®ç°æ˜¯ä¸€ä¸ªvalueæ°¸è¿œä¸ºnullçš„HashMapï¼Œå®é™…å°±æ˜¯é€šè¿‡hashçš„æ–¹å¼å¿«é€Ÿæ’é‡çš„ã€‚</description></item><item><title>Reflectå’ŒProxy</title><link>https://chenkai.life/javascript/js_reflect_and_proxy/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/javascript/js_reflect_and_proxy/</guid><description>Proxy Proxy å¯ä»¥ç†è§£æˆï¼Œåœ¨ç›®æ ‡å¯¹è±¡ä¹‹å‰æ¶è®¾ä¸€å±‚â€œæ‹¦æˆªâ€ï¼Œå¤–ç•Œå¯¹è¯¥å¯¹è±¡çš„è®¿é—®ï¼Œéƒ½å¿…é¡»å…ˆé€šè¿‡è¿™å±‚æ‹¦æˆªï¼Œå› æ­¤æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥å¯¹å¤–ç•Œçš„è®¿é—®è¿›è¡Œè¿‡æ»¤å’Œæ”¹å†™ã€‚Proxy è¿™ä¸ªè¯çš„åŸæ„æ˜¯ä»£ç†ï¼Œç”¨åœ¨è¿™é‡Œè¡¨ç¤ºç”±å®ƒæ¥â€œä»£ç†â€æŸäº›æ“ä½œï¼Œå¯ä»¥è¯‘ä¸ºâ€œä»£ç†å™¨â€ã€‚ ES6 åŸç”Ÿæä¾› Proxy æ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Proxy å®ä¾‹ã€‚var proxy = new Proxy(target, handler); Proxy å¯¹è±¡çš„æ‰€æœ‰ç”¨æ³•ï¼Œéƒ½æ˜¯ä¸Šé¢è¿™ç§å½¢å¼ï¼Œä¸åŒçš„åªæ˜¯handlerå‚æ•°çš„å†™æ³•ã€‚å…¶ä¸­ï¼Œ
new Proxy()è¡¨ç¤ºç”Ÿæˆä¸€ä¸ªProxyå®ä¾‹ï¼Œ targetå‚æ•°è¡¨ç¤ºæ‰€è¦æ‹¦æˆªçš„ç›®æ ‡å¯¹è±¡ï¼Œ handlerå‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å®šåˆ¶æ‹¦æˆªè¡Œä¸ºã€‚ var proxy = new Proxy({}, { get: function(target, property) { return 35; } }); proxy.time // 35 proxy.name // 35 proxy.title // 35 ä¸Šé¢ä»£ç ä¸­ï¼Œä½œä¸ºæ„é€ å‡½æ•°ï¼ŒProxyæ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‰€è¦ä»£ç†çš„ç›®æ ‡å¯¹è±¡ï¼ˆä¸Šä¾‹æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼‰ï¼Œå³å¦‚æœæ²¡æœ‰Proxyçš„ä»‹å…¥ï¼Œæ“ä½œåŸæ¥è¦è®¿é—®çš„å°±æ˜¯è¿™ä¸ªå¯¹è±¡ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œå¯¹äºæ¯ä¸€ä¸ªè¢«ä»£ç†çš„æ“ä½œï¼Œéœ€è¦æä¾›ä¸€ä¸ªå¯¹åº”çš„å¤„ç†å‡½æ•°ï¼Œè¯¥å‡½æ•°å°†æ‹¦æˆªå¯¹åº”çš„æ“ä½œã€‚æ¯”å¦‚ï¼Œä¸Šé¢ä»£ç ä¸­ï¼Œé…ç½®å¯¹è±¡æœ‰ä¸€ä¸ªgetæ–¹æ³•ï¼Œç”¨æ¥æ‹¦æˆªå¯¹ç›®æ ‡å¯¹è±¡å±æ€§çš„è®¿é—®è¯·æ±‚ã€‚getæ–¹æ³•çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ç›®æ ‡å¯¹è±¡å’Œæ‰€è¦è®¿é—®çš„å±æ€§ã€‚å¯ä»¥çœ‹åˆ°ï¼Œç”±äºæ‹¦æˆªå‡½æ•°æ€»æ˜¯è¿”å›35ï¼Œæ‰€ä»¥è®¿é—®ä»»ä½•å±æ€§éƒ½å¾—åˆ°35ã€‚ æ³¨æ„ï¼Œè¦ä½¿å¾—Proxyèµ·ä½œç”¨ï¼Œå¿…é¡»é’ˆå¯¹Proxyå®ä¾‹ï¼ˆä¸Šä¾‹æ˜¯proxyå¯¹è±¡ï¼‰è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯é’ˆå¯¹ç›®æ ‡å¯¹è±¡ï¼ˆä¸Šä¾‹æ˜¯ç©ºå¯¹è±¡ï¼‰è¿›è¡Œæ“ä½œã€‚
å¦‚æœhandleræ²¡æœ‰è®¾ç½®ä»»ä½•æ‹¦æˆªï¼Œé‚£å°±ç­‰åŒäºç›´æ¥é€šå‘åŸå¯¹è±¡ã€‚
let peo = {}; let proxyP = new Proxy(peo,{}); proxyP.name = &amp;#39;ck&amp;#39;; peo.name //&amp;#39;ck&amp;#39; ä¸‹é¢æ˜¯ Proxy æ”¯æŒçš„æ‹¦æˆªæ“ä½œä¸€è§ˆï¼Œä¸€å…± 13 ç§ã€‚</description></item><item><title>rewireåº“</title><link>https://chenkai.life/posts/package_rewire/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/posts/package_rewire/</guid><description>å¦‚æœæ¨¡å—æœªå¯¼å‡ºä¸€äº›å‡½æ•°ï¼Œåˆ™æ¨¡å—å¤–éƒ¨çš„æµ‹è¯•ä»£ç æ— æ³•è°ƒç”¨è¯¥åŠŸèƒ½ã€‚é‚£æ˜¯ç”±äºJavaScriptçš„å·¥ä½œæ–¹å¼ï¼Œæœ‰æ—¶æˆ‘ä»¬å¸Œæœ›æµ‹è¯•å±€éƒ¨å‡½æ•°ã€‚ rewireåº“åœ¨æ¨¡å—ä¸­æ·»åŠ äº†ä¸€ä¸ªç‰¹æ®Šçš„setterå’Œgetterï¼Œå› æ­¤æ‚¨å¯ä»¥ä¿®æ”¹å®ƒä»¬çš„è¡Œä¸ºä»¥è¿›è¡Œæ›´å¥½çš„å•å…ƒæµ‹è¯• rewireåº“åŠŸèƒ½ï¼š
ä¸ºå…¶ä»–æ¨¡å—æˆ–å…¨å±€å˜é‡ï¼ˆå¦‚è¿›ç¨‹ï¼‰æ³¨å…¥æ¨¡æ‹Ÿ æµ‹è¯•ç§æœ‰å˜é‡ è¦†ç›–æ¨¡å—ä¸­çš„å˜é‡ rewireæ¥å£ rewire(filename: String): rewiredModule Returns a rewired version of the module found at filename. Use rewire() exactly like require().
rewiredModule.__set__(name: String, value: *): Function Sets the internal variable name to the given value. Returns a function which can be called to revert the change.
rewiredModule.__set__(obj: Object): Function Takes all enumerable keys of obj as variable names and sets the values respectively.</description></item><item><title>sequelizeå»ºç«‹è¡¨å…³ç³»</title><link>https://chenkai.life/nodejs/sequelize_associations/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/nodejs/sequelize_associations/</guid><description>Associations Sequelize supports the standard associations: One-To-One, One-To-Many and Many-To-Many.
To do this, Sequelize provides four types of associations that should be combined to create them:
The HasOne association The BelongsTo association The HasMany association The BelongsToMany association The guide will start explaining how to define these four types of associations, and then will follow up to explain how to combine those to define the three standard association types (One-To-One, One-To-Many and Many-To-Many).</description></item><item><title>shell å‘½ä»¤</title><link>https://chenkai.life/tools/shell/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/tools/shell/</guid><description>æŸ¥çœ‹å¯ç”¨çš„shellcat /etc/shells åˆ‡æ¢shellå·¥å…·chsh -s /bin/bash ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆsource ~/.zshrc
macå¼€æœºè‡ªåŠ¨è¿è¡Œshellè„šæœ¬ chmod +x ./test.sh #ä½¿è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™ ç³»ç»Ÿåå¥½è®¾ç½® ã€‹ ç”¨æˆ·ä¸ç¾¤ç»„ ã€‹ç™»å½•é¡¹ ã€‹ æ·»åŠ shellè„šæœ¬ æ‰§è¡Œshellè„šæœ¬ ä½œä¸ºå¯æ‰§è¡Œç¨‹åº chmod +x ./test.sh #ä½¿è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™ ./test.sh #æ‰§è¡Œè„šæœ¬ ä½œä¸ºè§£é‡Šå™¨å‚æ•° è¿™ç§è¿è¡Œæ–¹å¼æ˜¯ï¼Œç›´æ¥è¿è¡Œè§£é‡Šå™¨ï¼Œå…¶å‚æ•°å°±æ˜¯ shell è„šæœ¬çš„æ–‡ä»¶åï¼Œå¦‚ï¼š /bin/sh test.sh /bin/php test.php shell find ç¤ºä¾‹ - æŸ¥æ‰¾å‘½ä»¤ find /dir/to/search -name &amp;quot;file-to-search&amp;quot; find /dir/to/search -name &amp;quot;file-to-search&amp;quot; -print find /dir/to/search -name &amp;quot;file-to-search&amp;quot; -ls find /dir/to/search -name &amp;quot;regex&amp;quot; -print è¦æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰çš„Perlï¼ˆç‰¹ç­‰ï¼‰æ–‡ä»¶ï¼š $ find .</description></item><item><title>ubuntuæ·»åŠ pgroutingæ‰©å±•</title><link>https://chenkai.life/database/pg_ubuntu_add_pgrouting/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/database/pg_ubuntu_add_pgrouting/</guid><description>sudo apt-add-repository -y ppa:ubuntugis/ppa sudo apt-add-repository -y ppa:georepublic/pgrouting sudo apt-get update ubuntu apt å®˜æ–¹å­˜å‚¨åº“æ²¡æœ‰pgroutingã€‚æ‰€ä»¥éœ€è¦æ·»åŠ å­˜å‚¨åº“ åœ¨Ubuntuæˆ–Debianä¸Šå®‰è£…è½¯ä»¶çš„ä¼—å¤šæ–¹æ³•ä¹‹ä¸€æ˜¯ä½¿ç”¨PPAï¼ˆä¸ªäººåŒ…å­˜æ¡£ï¼‰ï¼Œå¦‚æœè¦æ·»åŠ æ–°çš„PPAå­˜å‚¨åº“ï¼Œåˆ™å¿…é¡»ä»¥ä¸‹åˆ—æ–¹å¼ä½¿ç”¨add-apt-repositoryå‘½ä»¤
add-apt-repository ppa:some/ppa åœ¨Debianä¸­ï¼ŒåŸºæœ¬æ“ä½œç³»ç»Ÿå’Œ æœ‰æ—¶ åœ¨Ubuntuä¸Šï¼Œæ‚¨å°†çœ‹åˆ°ç¼ºå°‘add-apt-repositoryå‘½ä»¤çš„é”™è¯¯ã€‚
ä½†æ˜¯å¦‚æœä½ å°è¯•ä½¿ç”¨sudo apt-get install add-apt-repositoryï¼Œå®ƒå°†æ— æ³•æ­£å¸¸å·¥ä½œã€‚ è¿™æ˜¯å› ä¸ºï¼Œä½ éœ€è¦å®‰è£…è¿™ä¸ªè½¯ä»¶åŒ…æ‰èƒ½å®‰è£…add-apt-repositoryã€‚ä¿®å¤add-apt-repository-command-not-foundé”™è¯¯
apt-get update apt-get install software-properties-common ä¸€æ—¦å®‰è£…äº†software-properties-commonï¼Œæ‚¨ç°åœ¨å¯ä»¥è½»æ¾åœ°ä½¿ç”¨add-apt-repositoryæˆ–apt-add-repositoryå‘½ä»¤æ¥æ·»åŠ PPA
æŸ¥è¯¢pgroutingç‰ˆæœ¬
apt search pgrouting å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„pgrouting
apt-get install postgresql-10-pgrouting æ•°æ®åº“ä¸­æ·»åŠ pgroutingæ‰©å±•
CREATE EXTENSION pgrouting;</description></item><item><title>vue_nextTickçš„åŸç†</title><link>https://chenkai.life/web/vue_nexttick/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/web/vue_nexttick/</guid><description>nextTickæ˜¯vueçš„ä¸€ä¸ªå…¨å±€APIï¼Œ ä½œç”¨æ˜¯åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒã€‚åœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè·å–æ›´æ–°åçš„ DOMã€‚
Vue åœ¨æ›´æ–° DOM æ—¶æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ã€‚åªè¦ä¾¦å¬åˆ°æ•°æ®å˜åŒ–ï¼ŒVue å°†å¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¹¶ç¼“å†²åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®å˜æ›´ã€‚å¦‚æœåŒä¸€ä¸ª watcher è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥åˆ°é˜Ÿåˆ—ä¸­ä¸€æ¬¡ã€‚è¿™ç§åœ¨ç¼“å†²æ—¶å»é™¤é‡å¤æ•°æ®å¯¹äºé¿å…ä¸å¿…è¦çš„è®¡ç®—å’Œ DOM æ“ä½œæ˜¯éå¸¸é‡è¦çš„ã€‚ç„¶åï¼Œåœ¨ä¸‹ä¸€ä¸ªçš„äº‹ä»¶å¾ªç¯â€œtickâ€ä¸­ï¼ŒVue åˆ·æ–°é˜Ÿåˆ—å¹¶æ‰§è¡Œå®é™… (å·²å»é‡çš„) å·¥ä½œã€‚Vue åœ¨å†…éƒ¨å¯¹å¼‚æ­¥é˜Ÿåˆ—å°è¯•ä½¿ç”¨åŸç”Ÿçš„ Promise.thenã€MutationObserver å’Œ setImmediateï¼Œå¦‚æœæ‰§è¡Œç¯å¢ƒä¸æ”¯æŒï¼Œåˆ™ä¼šé‡‡ç”¨ setTimeout(fn, 0) ä»£æ›¿ã€‚
const callbacks = [] let pending = false function flushCallbacks () { pending = false const copies = callbacks.slice(0) callbacks.length = 0 for (let i = 0; i &amp;lt; copies.length; i++) { copies[i]() } } // Here we have async deferring wrappers using microtasks. // In 2.</description></item><item><title>vueå®è·µ</title><link>https://chenkai.life/web/vue_guide/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/web/vue_guide/</guid><description>å‚è€ƒvueé£æ ¼æŒ‡å— å‚è€ƒvueç¼–ç¨‹æŒ‡å—
Vue Router è·¯ç”±æ‡’åŠ è½½ å½“æ‰“åŒ…æ„å»ºåº”ç”¨æ—¶ï¼ŒJavaScript åŒ…ä¼šå˜å¾—éå¸¸å¤§ï¼Œå½±å“é¡µé¢åŠ è½½ã€‚å¦‚æœæˆ‘ä»¬èƒ½æŠŠä¸åŒè·¯ç”±å¯¹åº”çš„ç»„ä»¶åˆ†å‰²æˆä¸åŒçš„ä»£ç å—ï¼Œç„¶åå½“è·¯ç”±è¢«è®¿é—®çš„æ—¶å€™æ‰åŠ è½½å¯¹åº”ç»„ä»¶ï¼Œè¿™æ ·å°±æ›´åŠ é«˜æ•ˆäº†ç»“åˆ Vue çš„å¼‚æ­¥ç»„ä»¶å’Œ Webpack çš„ä»£ç åˆ†å‰²åŠŸèƒ½ï¼Œè½»æ¾å®ç°è·¯ç”±ç»„ä»¶çš„æ‡’åŠ è½½
è§„èŒƒ vueæ–‡ä»¶å†…cssæ ·å¼å°½é‡ä½¿ç”¨å±€éƒ¨æ ·å¼ã€‚å…¨å±€æ ·å¼å¯ä»¥ç»Ÿä¸€æ”¾å…¥é™æ€åº“ç”±app.vueæ–‡ä»¶å¯¼å…¥
æ³¨æ„äº‹é¡¹ vue dataä¸­çš„å¯¹è±¡çŠ¶æ€æ˜¯å“åº”å¼çš„ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬å˜æ›´çŠ¶æ€æ—¶ï¼Œç›‘è§†çŠ¶æ€çš„ Vue ç»„ä»¶ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°
æœ€å¥½æå‰åœ¨ä½ çš„ store ä¸­åˆå§‹åŒ–å¥½æ‰€æœ‰æ‰€éœ€å±æ€§ã€‚ å½“éœ€è¦åœ¨å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§æ—¶ï¼Œä½ åº”è¯¥ ä½¿ç”¨ Vue.set(obj, 'newProp', 123), æˆ–è€… ä»¥æ–°å¯¹è±¡æ›¿æ¢è€å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œåˆ©ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š state.obj = { ...state.obj, newProp: 123 }</description></item><item><title>vueæ ·å¼devå’Œbuildä¸‹ä¸ä¸€è‡´</title><link>https://chenkai.life/web/vue_page_style_dev_build_different/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/web/vue_page_style_dev_build_different/</guid><description>ä¸€æ¬¡æ›´æ–°é•œåƒåå‘ç°vueé¡¹ç›®é¡µé¢æ··ä¹±ï¼Œåœ¨å¼€å‘æ¨¡å¼æ¨¡å¼ä¸‹ï¼Œå†™çš„æ ·å¼æœ‰æ•ˆï¼Œæ‰“åŒ…åæ— æ•ˆ
ä¸€ã€å¤šä¸ªç›¸åŒæ ·å¼æ–‡ä»¶åŒæ—¶å­˜åœ¨é¡¹ç›®ä¸­ ç°è±¡ï¼šä¿®æ”¹ç»„ä»¶æ—¶ï¼Œåœ¨é¡¹ç›®ä¸­å¤åˆ¶äº†ä¸€ä¸ªç»„ä»¶é‡å‘½ååè¿›è¡Œä¿®æ”¹ï¼Œåœ¨æœ¬åœ°æ‰§è¡Œæ­£å¸¸ï¼Œåæ‰“åŒ…ä¸Šä¼ ï¼Œæ— æ³•å±•ç¤ºæ­£å¸¸æ•ˆæœã€‚ è§£å†³è¿‡ç¨‹ï¼šåœ¨æœ¬åœ°è¯•å›¾ä¿®æ”¹æ€»æ˜¯ä¸è§æ•ˆæœï¼Œåœ¨æ§åˆ¶å°æŸ¥çœ‹æ ·å¼ä»æ˜¯ä¹‹å‰çš„æ ·å¼ï¼ŒæŠŠå…¶ä¸­ä¸€å¤„æ ·å¼åœ¨æ‰€æœ‰ç›¸å…³ç»„ä»¶ä¸­ä¿®æ”¹ï¼Œæ‰“åŒ…ä¸Šä¼ åæ ·å¼ç”Ÿæ•ˆï¼Œè¿™è¯´æ˜æ˜¯æ—§çš„æ ·å¼åœ¨æ‰“åŒ…æ—¶è¦†ç›–äº†æ–°çš„æ ·å¼ã€‚å°†æ—§ç»„ä»¶åˆ é™¤åè§£å†³ä¸Šè¿°é—®é¢˜ã€‚ åŸå› çŒœæµ‹ï¼šå› ä¸ºç›¸åŒç»„ä»¶åŒ…å«ä¸åŒæ ·å¼æ—¶ï¼Œæ— æ³•åˆ¤æ–­å“ªä»½æ ·å¼æ—¶åœ¨åé¢æ¸²æŸ“ï¼Œå¦‚æœæ—§æ ·å¼åˆšå¥½æ‰“åŒ…ååœ¨åé¢æ¸²æŸ“ï¼Œåˆ™ä¼šè¦†ç›–æ‰æ–°å†™çš„æ ·å¼ã€‚åœ¨æœ¬åœ°æ‰§è¡Œæ—¶ï¼Œå› ä¸ºæ ·å¼æ²¡æœ‰æ‰“åŒ…ï¼Œè®¿é—®é¡µé¢æ—¶æ¸²æŸ“çš„éƒ½æ˜¯ç»„ä»¶è‡ªèº«æ ·å¼ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°ä¸Šè¿°é—®é¢˜ã€‚
äºŒã€å…¨å±€(main.js)å¼•ç”¨æ ·å¼ ç°è±¡ï¼šåœ¨å…¨å±€å¼•å…¥äº†Element UI æ ·å¼ï¼Œåœ¨headerç»„ä»¶ä¸­ä¿®æ”¹éƒ¨åˆ†æ ·å¼ï¼Œåœ¨æœ¬åœ°æ‰§è¡Œæ­£å¸¸ï¼Œåæ‰“åŒ…ä¸Šä¼ ï¼Œæ— æ³•å±•ç¤ºæ­£å¸¸æ•ˆæœã€‚ è§£å†³è¿‡ç¨‹ï¼šå› ä¸ºåœ¨é¡¹ç›®ä¸­æ®µå‘ç°è¯¥é—®é¢˜ï¼Œä»¥ä¸ºæ˜¯åç»­çš„æ ·å¼é€ æˆçš„å½±å“(è™½ç„¶æˆ‘ä¹Ÿè®¤ä¸ºå¯èƒ½æ€§æå°)ï¼Œåˆ é™¤æ–°å†™çš„ç»„ä»¶ï¼Œæ²¡æœ‰æ•ˆæœã€‚è¿è¡Œä¸€æ®µæ—¶é—´ä¹‹å‰çš„ä»£ç ï¼Œé¡¹ç›®æ­£å¸¸è¿è¡Œï¼Œè¿™è¿«ä½¿æˆ‘å›æƒ³ä¸­é—´è¿™æ®µæ—¶é—´å¯¹é¡¹ç›®åšäº†ä»€ä¹ˆï¼Ÿé™¤äº†æ–°å†™äº†ä¸€äº›ç»„ä»¶ï¼Œè¿˜å°†ä¸€äº›é…ç½®ä¿¡æ¯ä»index.jsä¸­è½¬ç§»åˆ°äº†main.jsä¸­ï¼Œæµ‹è¯•å‘ç°æœç„¶æ˜¯è¿™é‡Œå‡ºç°äº†é—®é¢˜ã€‚é…ç½®ä¸­åŒæ—¶å‡ºç°äº†Element UI æ ·å¼æ–‡ä»¶å¼•ç”¨ï¼Œè¿˜æœ‰routerçš„å¼•ç”¨ï¼Œå°†yangæ ·å¼å¼•ç”¨æ”¾åœ¨routerå¼•ç”¨åè§£å†³é—®é¢˜ã€‚ åŸå› çŒœæµ‹ï¼šä¸æ­£å¸¸çš„æ ·å¼æ˜¾ç¤ºçš„è¿˜æ˜¯ç»„ä»¶åŸå§‹çš„æ ·å¼ï¼Œç”±æ­¤çŒœæµ‹routeråŠ è½½æ—¶ä¼šåŠ è½½ç»„ä»¶æ ·å¼ï¼Œå°†æ ·å¼æ–‡ä»¶åœ¨routeråå¼•ç”¨ä¼šå°†routeråŠ è½½æ—¶æ¸²æŸ“çš„æ ·å¼è¦†ç›–æ‰ï¼Œæ‰€ä»¥å»ºè®®å°†routerçš„å¼•ç”¨æ”¾åœ¨æœ€åé¢ã€‚åœ¨æ¯ä¸ªç»„ä»¶çš„æ ·å¼ä¸­è®°å¾—æ·»åŠ  â€˜scopedâ€™.
import &amp;#39;element-ui/lib/theme-chalk/index.css&amp;#39; //elementæ ·å¼æ–‡ä»¶ import App from &amp;#39;./App&amp;#39; å¦‚æœç›¸åï¼Œé‚£ä¹ˆelement-uiçš„æ ·å¼ä¼šè¦†ç›–è‡ªå®šä¹‰çš„æ ·å¼ï¼Œæ‰€ä»¥ä¼šå‡ºç°ä½ ä¿®æ”¹çš„æ ·å¼ä¸ç”Ÿæ•ˆé—®é¢˜ï¼ï¼</description></item><item><title>vueé¡¹ç›®æ·»åŠ å•å…ƒæµ‹è¯•</title><link>https://chenkai.life/web/vue_test/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/web/vue_test/</guid><description>åˆ›å»ºvueçš„å•å…ƒæµ‹è¯•é¡¹ç›®
vue-cli åˆ›å»ºé¡¹ç›® vue create vue-test Vue CLI 3å¯ä»¥å‘é¡¹ç›®ç»„ä¸­ç›´æ¥æ·»åŠ unit-jest vue add @vue/unit-jest å¯ä»¥å‘ç°é¡¹ç›®ä¸­å¤šäº†å¾ˆå¤šæ–‡ä»¶ï¼Œå¹¶ä¸”å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶demoï¼Œ
è¿›è¡Œæµ‹è¯• vueåœ¨æ·»åŠ å•å…ƒæµ‹è¯•æ¡†æ¶æ—¶ä¼šåœ¨package.jsonscriptsæ·»åŠ ä¸€ä¸ªtest:unitï¼Œæˆ‘ä»¬å¯ä»¥å…è®¸æ­¤å‘½ä»¤æ‰“å¼€æµ‹è¯•
åœ¨vueç‰ˆæœ¬è¿‡ä½çš„é¡¹ç›®ä¸­æ·»åŠ å•å…ƒæµ‹è¯• æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä»¥ä¸‹ä¸¤ç§æ–¹å¼
å‡çº§vueç‰ˆæœ¬åŠå…¶ä¾èµ– vueç‰ˆæœ¬å¦‚æœå¤ªæ—§çš„ä¸æ”¯æŒæ­¤ç§æ–¹å¼ç›´æ¥æ·»åŠ å•å…ƒæµ‹è¯•,å¯ä»¥é€‰æ‹©æ›´æ–°vueç‰ˆæœ¬2.5ä»¥ä¸Šï¼Œå¹¶æ›´æ–°å…¶ä¾èµ–åº“ã€‚ æ­¤ç§æ–¹æ³•å¯èƒ½ä¼šå‡ºç°æµè§ˆå™¨æŠ¥exportesé”™è¯¯ï¼ŒæŠŠ.babelrcæ–‡ä»¶transform-runtimeåˆ é™¤å³å¯ã€‚
é‡‡ç”¨æ—§ç‰ˆæœ¬æ–¹å¼ Note: This example is outdated. It&amp;rsquo;s now recommended to scaffold your project with Vue CLI 3 which provides out-of-the-box configurations for unit testing.
vue-test-utils-jest-example Example project using Jest + vue-test-utils together</description></item><item><title>WebAssemblyä¸Šæ‰‹</title><link>https://chenkai.life/posts/webassembly/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/posts/webassembly/</guid><description>WebAssemblyæ˜¯ä»€ä¹ˆ WebAssemblyæ˜¯ä¸ºé«˜æ•ˆæ‰§è¡Œå’Œç´§å‡‘è¡¨ç¤ºè€Œè®¾è®¡çš„è¿è¡Œåœ¨ç°ä»£å¤„ç†å™¨ï¼ˆåŒ…æ‹¬æµè§ˆå™¨ï¼‰ä¸­çš„ä¸€ç§å¿«é€Ÿã€å®‰å…¨ã€å¯ç§»æ¤çš„åº•å±‚ä»£ç æ ¼å¼ï¼Œå…·æœ‰ç´§å‡‘çš„äºŒè¿›åˆ¶æ ¼å¼ï¼Œå¯ä»¥ä»¥æ¥è¿‘æœ¬æœºçš„æ€§èƒ½è¿è¡Œã€‚2019å¹´12æœˆ5æ—¥W3Cå®£å¸ƒWebAssemblyæ ¸å¿ƒè§„èŒƒæˆä¸ºæ­£å¼æ ‡å‡†ã€‚åå­—ä¸Šå¯ä»¥çŸ¥é“æ˜¯ç»™Webä½¿ç”¨çš„æ±‡ç¼–è¯­è¨€ã€‚ä½†æ˜¯WebAssemblyå¹¶ä¸æ˜¯ç›´æ¥ç”¨æ±‡ç¼–è¯­è¨€ï¼Œè€Œæä¾›äº†è½¬æ¢æœºåˆ¶ï¼ˆLLVM IRï¼‰ï¼ŒæŠŠé«˜çº§åˆ«çš„è¯­è¨€ï¼ˆAssemblyScriptã€goã€Cã€C++ã€Rustç­‰ï¼‰ç¼–è¯‘ä¸ºWebAssemblyï¼Œä»¥ä¾¿æœ‰æœºä¼šé€šè¿‡Webæµè§ˆå™¨æ‰§è¡Œä½çº§äºŒè¿›åˆ¶è¯­æ³• ã€‚
WebAssemblçš„ç‰¹ç‚¹ WebAssemblyæ˜¯ä¸€é—¨ä¸åŒäºJavaScriptçš„è¯­è¨€ï¼Œå®ƒä¸æ˜¯ç”¨æ¥å–ä»£JavaScriptçš„ã€‚ç›¸åï¼Œå®ƒè¢«è®¾è®¡ä¸ºå’ŒJavaScriptä¸€èµ·ååŒå·¥ä½œï¼Œä»è€Œä½¿å¾—ç½‘ç»œå¼€å‘è€…èƒ½å¤Ÿåˆ©ç”¨ä¸¤ç§è¯­è¨€çš„ä¼˜åŠ¿ï¼Œé€šè¿‡ä½¿ç”¨WebAssemblyçš„JavaScriptAPIï¼Œä½ å¯ä»¥æŠŠWebAssemblyæ¨¡å—åŠ è½½åˆ°ä¸€ä¸ªJavaScriptåº”ç”¨ä¸­å¹¶ä¸”åœ¨ä¸¤è€…ä¹‹é—´å…±äº«åŠŸèƒ½ã€‚è¿™å…è®¸ä½ åœ¨åŒä¸€ä¸ªåº”ç”¨ä¸­åˆ©ç”¨WebAssemblyçš„æ€§èƒ½ä»¥åŠJavaScriptçš„è¡¨è¾¾åŠ›å’Œçµæ´»æ€§ï¼Œå³ä½¿ä½ å¯èƒ½å¹¶ä¸çŸ¥é“å¦‚ä½•ç¼–å†™WebAssemblyä»£ç ã€‚
å¿«é€Ÿï¼šå¤§å¹…åº¦æé«˜ Javascript çš„æ€§èƒ½ï¼Œä»¥æ¥è¿‘æœ¬æœºçš„ä»£ç æ€§èƒ½æ‰§è¡Œã€‚ å®‰å…¨ï¼šä»£ç ç»è¿‡éªŒè¯å¹¶åœ¨å†…å­˜å®‰å…¨æ²™ç›’ç¯å¢ƒä¸­æ‰§è¡Œï¼Œå¯é˜²æ­¢æ•°æ®æŸåæˆ–å®‰å…¨æ¼æ´ã€‚ ä¸è¯­è¨€æ— å…³ï¼šå…è®¸ä»»ä½•è¯­è¨€ç¼–è¯‘åˆ°WebAssemblyï¼Œ å¯ä»¥ç”¨å…¶ä»–é«˜çº§è¯­è¨€å†™ç½‘é¡µã€‚ ä¸ç¡¬ä»¶æ— å…³ï¼šå¯ä»¥åœ¨æ‰€æœ‰ç°ä»£ä½“ç³»ç»“æ„ï¼Œå°å¼æœºæˆ–ç§»åŠ¨è®¾å¤‡ä»¥åŠåµŒå…¥å¼ç³»ç»Ÿä¸Šè¿›è¡Œç¼–è¯‘ã€‚ ä¸å¹³å°æ— å…³ï¼šå¯ä»¥åµŒå…¥åœ¨æµè§ˆå™¨ä¸­ï¼Œä½œä¸ºç‹¬ç«‹VMè¿è¡Œæˆ–é›†æˆåœ¨å…¶ä»–ç¯å¢ƒä¸­ã€‚ ç´§å‡‘ï¼šå…·æœ‰æ¯”å…¸å‹çš„æ–‡æœ¬æˆ–æœ¬æœºä»£ç æ ¼å¼å°çš„ä¼ è¾“é€Ÿåº¦å¿«çš„äºŒè¿›åˆ¶æ ¼å¼ã€‚ æ¨¡å—åŒ–ï¼šç¨‹åºå¯ä»¥åˆ†æˆè¾ƒå°çš„éƒ¨åˆ†ï¼Œå¯ä»¥åˆ†åˆ«ä¼ è¾“ï¼Œç¼“å­˜å’Œä½¿ç”¨ã€‚ é«˜æ•ˆï¼šå¯ä»¥é€šè¿‡å¿«é€Ÿä¸€æ¬¡é€šè¿‡æ¥è§£ç ï¼ŒéªŒè¯å’Œç¼–è¯‘ï¼Œç­‰åŒäºå®æ—¶ï¼ˆJITï¼‰æˆ–æå‰ï¼ˆAOTï¼‰ç¼–è¯‘ã€‚ Streamableï¼šå…è®¸åœ¨çœ‹åˆ°æ‰€æœ‰æ•°æ®ä¹‹å‰å°½å¿«å¼€å§‹è§£ç ï¼ŒéªŒè¯å’Œç¼–è¯‘ã€‚ ä¸ºä»€ä¹ˆWebAssemblyæ¯”JavaScript æ‰§è¡Œæ•ˆç‡æ›´é«˜ WebAssemblyæœ€å¸å¼•äººçš„ç‰¹ç‚¹ä¾¿æ˜¯å®ƒçš„æ‰§è¡Œæ•ˆç‡ï¼Œæ¯”JavaScriptæ‰§è¡Œæ•ˆç‡æ›´é«˜ä¸»è¦æœ‰ä»¥ä¸‹åŸå› ï¼š
æ–‡ä»¶è·å–é˜¶æ®µï¼šWebAssembly æ¯” JavaScript æŠ“å–æ–‡ä»¶æ›´å¿«ã€‚å³ä½¿ JavaScript è¿›è¡Œäº†å‹ç¼©ï¼ŒWebAssembly æ–‡ä»¶çš„ä½“ç§¯ä¹Ÿæ¯” JavaScript æ›´å°ï¼› è§£æé˜¶æ®µï¼šWebAssembly çš„è§£ç æ—¶é—´æ¯” JavaScript çš„è§£ææ—¶é—´æ›´çŸ­ï¼› ç¼–è¯‘å’Œä¼˜åŒ–é˜¶æ®µï¼šWebAssembly æ›´å…·ä¼˜åŠ¿ï¼Œå› ä¸º WebAssembly çš„ä»£ç æ›´æ¥è¿‘æœºå™¨ç ï¼Œè€Œ JavaScript è¦å…ˆé€šè¿‡æœåŠ¡å™¨ç«¯è¿›è¡Œä»£ç ä¼˜åŒ–ã€‚ é‡ä¼˜åŒ–é˜¶æ®µï¼šWebAssembly ä¸ä¼šå‘ç”Ÿé‡ä¼˜åŒ–ç°è±¡ã€‚è€Œ JS å¼•æ“çš„ä¼˜åŒ–å‡è®¾åˆ™å¯èƒ½ä¼šå‘ç”Ÿâ€œæŠ›å¼ƒä¼˜åŒ–ä»£ç &amp;lt;-&amp;gt;é‡ä¼˜åŒ–â€ç°è±¡ã€‚ æ‰§è¡Œé˜¶æ®µï¼šWebAssembly æ›´å¿«æ˜¯å› ä¸ºå¼€å‘äººå‘˜ä¸éœ€è¦æ‡‚å¤ªå¤šçš„ç¼–è¯‘å™¨æŠ€å·§ï¼Œè€Œè¿™åœ¨ JavaScript ä¸­æ˜¯éœ€è¦çš„ã€‚WebAssembly ä»£ç ä¹Ÿæ›´é€‚åˆç”Ÿæˆæœºå™¨æ‰§è¡Œæ•ˆç‡æ›´é«˜çš„æŒ‡ä»¤ã€‚ åƒåœ¾å›æ”¶é˜¶æ®µï¼šWebAssembly åƒåœ¾å›æ”¶éƒ½æ˜¯æ‰‹åŠ¨æ§åˆ¶çš„ï¼Œæ•ˆç‡æ¯”è‡ªåŠ¨å›æ”¶æ›´é«˜ã€‚ å¦‚ä½•ä½¿ç”¨WebAssembly é«˜çº§è¯­è¨€ç¼–è¯‘åˆ° .wasm æ–‡ä»¶ WebAssembly å­—èŠ‚ç æ˜¯ä¸€ç§æŠ¹å¹³äº†ä¸åŒ CPU æ¶æ„çš„æœºå™¨ç ï¼ŒWebAssembly å­—èŠ‚ç ä¸èƒ½ç›´æ¥åœ¨ä»»ä½•ä¸€ç§ CPU æ¶æ„ä¸Šè¿è¡Œï¼Œ ä½†ç”±äºéå¸¸æ¥è¿‘æœºå™¨ç ï¼Œå¯ä»¥éå¸¸å¿«çš„è¢«ç¿»è¯‘ä¸ºå¯¹åº”æ¶æ„çš„æœºå™¨ç ï¼Œå› æ­¤ WebAssembly è¿è¡Œé€Ÿåº¦å’Œæœºå™¨ç æ¥è¿‘ï¼Œè¿™å¬ä¸Šå»éå¸¸åƒ Java å­—èŠ‚ç ã€‚ æƒ³è¦ç¼–è¯‘æˆWebAssemblyï¼Œä½ é¦–å…ˆéœ€è¦å…ˆç¼–è¯‘ LLVMï¼Œå‚è€ƒwebassembly.</description></item><item><title>webpackæ€»ç»“</title><link>https://chenkai.life/posts/webpack/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/posts/webpack/</guid><description>loader webpack å¯ä»¥ä½¿ç”¨ loader æ¥é¢„å¤„ç†æ–‡ä»¶ã€‚è¿™å…è®¸ä½ æ‰“åŒ…é™¤ JavaScript ä¹‹å¤–çš„ä»»ä½•é™æ€èµ„æºã€‚ä½ å¯ä»¥ä½¿ç”¨ Node.js æ¥å¾ˆç®€å•åœ°ç¼–å†™è‡ªå·±çš„ loaderã€‚loader é€šè¿‡åœ¨ require() è¯­å¥ä¸­ä½¿ç”¨ loadername! å‰ç¼€æ¥æ¿€æ´»ï¼Œæˆ–è€…é€šè¿‡ webpack é…ç½®ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼æ¥è‡ªåŠ¨åº”ç”¨;
import Worker from &amp;#39;worker-loader!./Worker.js&amp;#39;; // æˆ–è€… { module: { rules: [ { test: /\.worker\.js$/, use: { loader: &amp;#39;worker-loader&amp;#39; } } ] } } æ‡’åŠ è½½ ä»£ç åˆ†ç¦» shimming ä¸€äº›ç¬¬ä¸‰æ–¹çš„åº“(library)å¯èƒ½ä¼šå¼•ç”¨ä¸€äº›å…¨å±€ä¾èµ–ï¼ˆä¾‹å¦‚ jQuery ä¸­çš„ $ï¼‰ã€‚è¿™äº›åº“ä¹Ÿå¯èƒ½åˆ›å»ºä¸€äº›éœ€è¦è¢«å¯¼å‡ºçš„å…¨å±€å˜é‡ã€‚è¿™äº›â€œä¸ç¬¦åˆè§„èŒƒçš„æ¨¡å—â€å°±æ˜¯ shimming å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚ ä½¿ç”¨ ProvidePlugin åï¼Œèƒ½å¤Ÿåœ¨é€šè¿‡ webpack ç¼–è¯‘çš„æ¯ä¸ªæ¨¡å—ä¸­ï¼Œé€šè¿‡è®¿é—®ä¸€ä¸ªå˜é‡æ¥è·å–åˆ° package åŒ…ã€‚å¦‚æœ webpack çŸ¥é“è¿™ä¸ªå˜é‡åœ¨æŸä¸ªæ¨¡å—ä¸­è¢«ä½¿ç”¨äº†ï¼Œé‚£ä¹ˆ webpack å°†åœ¨æœ€ç»ˆ bundle ä¸­å¼•å…¥æˆ‘ä»¬ç»™å®šçš„ packageã€‚ æœ¬è´¨ä¸Šï¼Œæˆ‘ä»¬æ‰€åšçš„ï¼Œå°±æ˜¯å‘Šè¯‰ webpackâ€¦â€¦</description></item><item><title>WebWorker</title><link>https://chenkai.life/web/web-worker/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/web/web-worker/</guid><description>ä¸€ã€æ¦‚è¿° JavaScript è¯­è¨€é‡‡ç”¨çš„æ˜¯å•çº¿ç¨‹æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰ä»»åŠ¡åªèƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸Šå®Œæˆï¼Œä¸€æ¬¡åªèƒ½åšä¸€ä»¶äº‹ã€‚å‰é¢çš„ä»»åŠ¡æ²¡åšå®Œï¼Œåé¢çš„ä»»åŠ¡åªèƒ½ç­‰ç€ã€‚éšç€ç”µè„‘è®¡ç®—èƒ½åŠ›çš„å¢å¼ºï¼Œå°¤å…¶æ˜¯å¤šæ ¸ CPU çš„å‡ºç°ï¼Œå•çº¿ç¨‹å¸¦æ¥å¾ˆå¤§çš„ä¸ä¾¿ï¼Œæ— æ³•å……åˆ†å‘æŒ¥è®¡ç®—æœºçš„è®¡ç®—èƒ½åŠ›ã€‚
Web Worker çš„ä½œç”¨ï¼Œå°±æ˜¯ä¸º JavaScript åˆ›é€ å¤šçº¿ç¨‹ç¯å¢ƒï¼Œå…è®¸ä¸»çº¿ç¨‹åˆ›å»º Worker çº¿ç¨‹ï¼Œå°†ä¸€äº›ä»»åŠ¡åˆ†é…ç»™åè€…è¿è¡Œã€‚åœ¨ä¸»çº¿ç¨‹è¿è¡Œçš„åŒæ—¶ï¼ŒWorker çº¿ç¨‹åœ¨åå°è¿è¡Œï¼Œä¸¤è€…äº’ä¸å¹²æ‰°ã€‚ç­‰åˆ° Worker çº¿ç¨‹å®Œæˆè®¡ç®—ä»»åŠ¡ï¼Œå†æŠŠç»“æœè¿”å›ç»™ä¸»çº¿ç¨‹ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œä¸€äº›è®¡ç®—å¯†é›†å‹æˆ–é«˜å»¶è¿Ÿçš„ä»»åŠ¡ï¼Œè¢« Worker çº¿ç¨‹è´Ÿæ‹…äº†ï¼Œä¸»çº¿ç¨‹ï¼ˆé€šå¸¸è´Ÿè´£ UI äº¤äº’ï¼‰å°±ä¼šå¾ˆæµç•…ï¼Œä¸ä¼šè¢«é˜»å¡æˆ–æ‹–æ…¢ã€‚
Worker çº¿ç¨‹ä¸€æ—¦æ–°å»ºæˆåŠŸï¼Œå°±ä¼šå§‹ç»ˆè¿è¡Œï¼Œä¸ä¼šè¢«ä¸»çº¿ç¨‹ä¸Šçš„æ´»åŠ¨ï¼ˆæ¯”å¦‚ç”¨æˆ·ç‚¹å‡»æŒ‰é’®ã€æäº¤è¡¨å•ï¼‰æ‰“æ–­ã€‚è¿™æ ·æœ‰åˆ©äºéšæ—¶å“åº”ä¸»çº¿ç¨‹çš„é€šä¿¡ã€‚ä½†æ˜¯ï¼Œè¿™ä¹Ÿé€ æˆäº† Worker æ¯”è¾ƒè€—è´¹èµ„æºï¼Œä¸åº”è¯¥è¿‡åº¦ä½¿ç”¨ï¼Œè€Œä¸”ä¸€æ—¦ä½¿ç”¨å®Œæ¯•ï¼Œå°±åº”è¯¥å…³é—­ã€‚
Web Worker æœ‰ä»¥ä¸‹å‡ ä¸ªä½¿ç”¨æ³¨æ„ç‚¹ã€‚
ï¼ˆ1ï¼‰åŒæºé™åˆ¶
åˆ†é…ç»™ Worker çº¿ç¨‹è¿è¡Œçš„è„šæœ¬æ–‡ä»¶ï¼Œå¿…é¡»ä¸ä¸»çº¿ç¨‹çš„è„šæœ¬æ–‡ä»¶åŒæºã€‚
ï¼ˆ2ï¼‰DOM é™åˆ¶
Worker çº¿ç¨‹æ‰€åœ¨çš„å…¨å±€å¯¹è±¡ï¼Œä¸ä¸»çº¿ç¨‹ä¸ä¸€æ ·ï¼Œæ— æ³•è¯»å–ä¸»çº¿ç¨‹æ‰€åœ¨ç½‘é¡µçš„ DOM å¯¹è±¡ï¼Œä¹Ÿæ— æ³•ä½¿ç”¨documentã€windowã€parentè¿™äº›å¯¹è±¡ã€‚ä½†æ˜¯ï¼ŒWorker çº¿ç¨‹å¯ä»¥navigatorå¯¹è±¡å’Œlocationå¯¹è±¡ã€‚
ï¼ˆ3ï¼‰é€šä¿¡è”ç³»
Worker çº¿ç¨‹å’Œä¸»çº¿ç¨‹ä¸åœ¨åŒä¸€ä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå®ƒä»¬ä¸èƒ½ç›´æ¥é€šä¿¡ï¼Œå¿…é¡»é€šè¿‡æ¶ˆæ¯å®Œæˆã€‚
ï¼ˆ4ï¼‰è„šæœ¬é™åˆ¶
Worker çº¿ç¨‹ä¸èƒ½æ‰§è¡Œalert()æ–¹æ³•å’Œconfirm()æ–¹æ³•ï¼Œä½†å¯ä»¥ä½¿ç”¨ XMLHttpRequest å¯¹è±¡å‘å‡º AJAX è¯·æ±‚ã€‚
ï¼ˆ5ï¼‰æ–‡ä»¶é™åˆ¶
Worker çº¿ç¨‹æ— æ³•è¯»å–æœ¬åœ°æ–‡ä»¶ï¼Œå³ä¸èƒ½æ‰“å¼€æœ¬æœºçš„æ–‡ä»¶ç³»ç»Ÿï¼ˆfile://ï¼‰ï¼Œå®ƒæ‰€åŠ è½½çš„è„šæœ¬ï¼Œå¿…é¡»æ¥è‡ªç½‘ç»œã€‚
äºŒã€åŸºæœ¬ç”¨æ³• 2.1 ä¸»çº¿ç¨‹ ä¸»çº¿ç¨‹é‡‡ç”¨newå‘½ä»¤ï¼Œè°ƒç”¨Worker()æ„é€ å‡½æ•°ï¼Œæ–°å»ºä¸€ä¸ª Worker çº¿ç¨‹ã€‚
var worker = new Worker(&amp;#39;work.js&amp;#39;); Worker()æ„é€ å‡½æ•°çš„å‚æ•°æ˜¯ä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å°±æ˜¯ Worker çº¿ç¨‹æ‰€è¦æ‰§è¡Œçš„ä»»åŠ¡ã€‚ç”±äº Worker ä¸èƒ½è¯»å–æœ¬åœ°æ–‡ä»¶ï¼Œæ‰€ä»¥è¿™ä¸ªè„šæœ¬å¿…é¡»æ¥è‡ªç½‘ç»œã€‚å¦‚æœä¸‹è½½æ²¡æœ‰æˆåŠŸï¼ˆæ¯”å¦‚404é”™è¯¯ï¼‰ï¼ŒWorker å°±ä¼šé»˜é»˜åœ°å¤±è´¥ã€‚</description></item><item><title>Webé¢è¯•é—®é¢˜</title><link>https://chenkai.life/hide/web_mian_shi_qs2/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/hide/web_mian_shi_qs2/</guid><description>&lt;h2 id="å‰ç«¯å·¥ä½œé¢è¯•é—®é¢˜">
å‰ç«¯å·¥ä½œé¢è¯•é—®é¢˜
&lt;a class="heading-link" href="#%e5%89%8d%e7%ab%af%e5%b7%a5%e4%bd%9c%e9%9d%a2%e8%af%95%e9%97%ae%e9%a2%98">
&lt;i class="fa fa-link" aria-hidden="true">&lt;/i>
&lt;/a>
&lt;/h2>
&lt;p>æœ¬æ–‡åŒ…å«äº†ä¸€äº›ç”¨äºè€ƒæŸ¥å€™é€‰è€…çš„å‰ç«¯é¢è¯•é—®é¢˜ã€‚ä¸å»ºè®®å¯¹å•ä¸ªå€™é€‰è€…é—®åŠæ¯ä¸ªé—®é¢˜ (é‚£éœ€è¦å¥½å‡ ä¸ªå°æ—¶)ã€‚åªè¦ä»åˆ—è¡¨é‡ŒæŒ‘é€‰ä¸€äº›ï¼Œå°±èƒ½å¸®åŠ©ä½ è€ƒæŸ¥å€™é€‰è€…æ˜¯å¦å…·å¤‡æ‰€éœ€è¦çš„æŠ€èƒ½ã€‚&lt;/p>
&lt;p>&lt;strong>å¤‡æ³¨ï¼š&lt;/strong> è¿™äº›é—®é¢˜ä¸­å¾ˆå¤šéƒ½æ˜¯å¼€æ”¾æ€§çš„ï¼Œå¯ä»¥å¼•å‘æœ‰è¶£çš„è®¨è®ºã€‚è¿™æ¯”ç›´æ¥çš„ç­”æ¡ˆæ›´èƒ½ä½“ç°æ­¤äººçš„èƒ½åŠ›ã€‚&lt;/p>
&lt;h2 id="a-nametocç›®å½•a">
&lt;a name='toc'>ç›®å½•&lt;/a>
&lt;a class="heading-link" href="#a-nametoc%e7%9b%ae%e5%bd%95a">
&lt;i class="fa fa-link" aria-hidden="true">&lt;/i>
&lt;/a>
&lt;/h2>
&lt;ol>
&lt;li>&lt;a href="#general-questions">å¸¸è§é—®é¢˜&lt;/a>&lt;/li>
&lt;li>&lt;a href="#html-questions">HTML ç›¸å…³é—®é¢˜&lt;/a>&lt;/li>
&lt;li>&lt;a href="#css-questions">CSS ç›¸å…³é—®é¢˜&lt;/a>&lt;/li>
&lt;li>&lt;a href="#js-questions">JS ç›¸å…³é—®é¢˜&lt;/a>&lt;/li>
&lt;li>&lt;a href="#testing-questions">æµ‹è¯•ç›¸å…³é—®é¢˜&lt;/a>&lt;/li>
&lt;li>&lt;a href="#performance-questions">æ•ˆèƒ½ç›¸å…³é—®é¢˜&lt;/a>&lt;/li>
&lt;li>&lt;a href="#network-questions">ç½‘ç»œç›¸å…³é—®é¢˜&lt;/a>&lt;/li>
&lt;li>&lt;a href="#coding-questions">ä»£ç ç›¸å…³é—®é¢˜&lt;/a>&lt;/li>
&lt;li>&lt;a href="#fun-questions">è¶£å‘³é—®é¢˜&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>yum</title><link>https://chenkai.life/tools/yum/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/tools/yum/</guid><description>yumæ˜¯ç§è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œyum ä¸»è¦åŠŸèƒ½æ˜¯æ›´æ–¹ä¾¿çš„æ·»åŠ /åˆ é™¤/æ›´æ–°RPM åŒ…ï¼Œè‡ªåŠ¨è§£å†³åŒ…çš„å€šèµ–æ€§é—®é¢˜ï¼Œä¾¿äºç®¡ç†å¤§é‡ç³»ç»Ÿçš„æ›´æ–°é—®é¢˜ã€‚yum å¯ä»¥åŒæ—¶é…ç½®å¤šä¸ªèµ„æºåº“(Repository)ï¼Œç®€æ´çš„é…ç½®æ–‡ä»¶ï¼ˆ/etc/yum.confï¼‰ï¼Œè‡ªåŠ¨è§£å†³å¢åŠ æˆ–åˆ é™¤rpm åŒ…æ—¶é‡åˆ°çš„ä¾èµ–æ€§é—®é¢˜ï¼Œä¿æŒä¸RPM æ•°æ®åº“çš„ä¸€è‡´æ€§ã€‚
é…ç½®# yum çš„é…ç½®æ–‡ä»¶åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šmain å’Œrepository
main éƒ¨åˆ†å®šä¹‰äº†å…¨å±€é…ç½®é€‰é¡¹ï¼Œæ•´ä¸ªyum é…ç½®æ–‡ä»¶åº”è¯¥åªæœ‰ä¸€ä¸ªmainã€‚å¸¸ä½äº/etc/yum.conf ä¸­ã€‚ repository éƒ¨åˆ†å®šä¹‰äº†æ¯ä¸ªæº/æœåŠ¡å™¨çš„å…·ä½“é…ç½®ï¼Œå¯ä»¥æœ‰ä¸€åˆ°å¤šä¸ªã€‚å¸¸ä½äº/etc/yum.repo.d ç›®å½•ä¸‹çš„å„æ–‡ä»¶ä¸­ã€‚ yum.conf æ–‡ä»¶ä¸€èˆ¬ä½äº/etcç›®å½•ä¸‹ï¼Œä¸€èˆ¬å…¶ä¸­åªåŒ…å«mainéƒ¨åˆ†çš„é…ç½®é€‰é¡¹ã€‚
# cat /etc/yum.conf
yum.conf
é™¤äº†ä¸Šè¿°ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å¯ä»¥æ·»åŠ çš„é€‰é¡¹ï¼Œå¦‚ï¼š
ã€€exclude=selinux*ã€€// æ’é™¤æŸäº›è½¯ä»¶åœ¨å‡çº§åå•ä¹‹å¤–ï¼Œå¯ä»¥ç”¨é€šé…ç¬¦ï¼Œåˆ—è¡¨ä¸­å„ä¸ªé¡¹ç›®è¦ç”¨ç©ºæ ¼éš”å¼€ï¼Œè¿™ä¸ªå¯¹äºå®‰è£…äº†è¯¸å¦‚ç¾åŒ–åŒ…ï¼Œä¸­æ–‡è¡¥ä¸çš„æœ‹å‹ç‰¹åˆ«æœ‰ç”¨ã€‚ gpgcheck=1ã€€// æœ‰1å’Œ0ä¸¤ä¸ªé€‰æ‹©ï¼Œåˆ†åˆ«ä»£è¡¨æ˜¯å¦æ˜¯å¦è¿›è¡Œgpg(GNU Private Guard) æ ¡éªŒï¼Œä»¥ç¡®å®šrpm åŒ…çš„æ¥æºæ˜¯æœ‰æ•ˆå’Œå®‰å…¨çš„ã€‚è¿™ä¸ªé€‰é¡¹å¦‚æœè®¾ç½®åœ¨[main]éƒ¨åˆ†ï¼Œåˆ™å¯¹æ¯ä¸ªrepository éƒ½æœ‰æ•ˆã€‚é»˜è®¤å€¼ä¸º0ã€‚
1. é…ç½®æœ¬åœ°yumæº
(1) æŒ‚è½½å…‰ç›˜
mount /dev/cdrom /mnt/ (2)é…ç½®æœ¬åœ°yumæº
æŸ¥çœ‹/etc/yum.repo.d/ä¸‹æœ‰å››ä¸ªæ–‡ä»¶
CentOS-Base.repo æ˜¯yum ç½‘ç»œæºçš„é…ç½®æ–‡ä»¶
CentOS-Media.repo æ˜¯yum æœ¬åœ°æºçš„é…ç½®æ–‡ä»¶
ä¿®æ”¹CentOS-Media.repoæ–‡ä»¶
#cat /etc/yum.repo.d/CentOS-Media.repo
CentOS-Media.repo
åœ¨baseurl ä¸­ä¿®æ”¹ç¬¬2ä¸ªè·¯å¾„ä¸º /mnt/ï¼ˆå³ä¸ºå…‰ç›˜æŒ‚è½½ç‚¹ï¼‰
å°†enabled=0æ”¹ä¸º1
(3)ç¦ç”¨ç½‘ç»œyumæº
å°†CentOS-Base.repo é‡å‘½åä¸ºCentOS-Base.repo.bak,å¦åˆ™ä¼šå…ˆåœ¨ç½‘ç»œæºä¸­å¯»æ‰¾é€‚åˆçš„åŒ…ï¼Œæ”¹åä¹‹åç›´æ¥ä»æœ¬åœ°æºè¯»å–ã€‚ (4) æ‰§è¡Œyumå‘½ä»¤æµ‹è¯•
yum install bind å…³äºrepoçš„æ ¼å¼# æ‰€æœ‰repository æœåŠ¡å™¨è®¾ç½®éƒ½åº”è¯¥éµå¾ªå¦‚ä¸‹æ ¼å¼ï¼š</description></item><item><title>ä¸€ä¸ªå…³äºPromiseçš„é—®é¢˜</title><link>https://chenkai.life/posts/one_question_about_promise/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/posts/one_question_about_promise/</guid><description>ä¸€é“é¢˜å¸¦æ¥çš„ç–‘é—® æ˜é‡‘ä¸Šçš„ä¸€é“é¢˜ï¼š JSå®ç°ä¸€ä¸ªå¸¦å¹¶å‘é™åˆ¶çš„å¼‚æ­¥è°ƒåº¦å™¨Schedulerï¼Œä¿è¯åŒæ—¶è¿è¡Œçš„ä»»åŠ¡æœ€å¤šæœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªè§£æ³•å¦‚ä¸‹ï¼š
const timeout = (time) =&amp;gt; new Promise(resolve =&amp;gt; { setTimeout(resolve, time) }); class Scheduler { constructor() { this.awaitArr = []; this.count = 0; } async add(promiseCreator) { if (this.count &amp;gt;= 2) { await new Promise(resolve =&amp;gt; { this.awaitArr.push(resolve); }); } this.count++; const res = await promiseCreator(); this.count--; if (this.awaitArr.length) { this.awaitArr.shift()(); } return res; } } const scheduler = new Scheduler() const addTask = (time, order) =&amp;gt; { scheduler.</description></item><item><title>äº†è§£ä»€ä¹ˆæ˜¯polyfill</title><link>https://chenkai.life/javascript/polyfill/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/javascript/polyfill/</guid><description>ä»€ä¹ˆæ˜¯polyfill åˆæ¬¡äº†è§£polyfillè¿™ä¸ªè¯,æ˜¯åœ¨ä¸€æ¬¡é¢è¯•ä¸­ï¼Œé¢˜ç›®æ˜¯ä½¿ç”¨æ•°ç»„çš„reduseæ–¹å¼å®ç°mapæ–¹æ³•ï¼Œå…¨ä¸–ç•Œä½¿ç”¨ç€è®¸å¤šä¸åŒçš„æµè§ˆå™¨å’Œç‰ˆæœ¬çš„æµè§ˆå™¨ï¼Œæ¯ä¸ªæµè§ˆå™¨éƒ½å…·æœ‰ä¸å…¶ä»–æµè§ˆå™¨å®Œå…¨ä¸åŒçš„åŠŸèƒ½é›†ã€‚è¿™ä¼šä½¿æµè§ˆå™¨å¼€å‘æˆä¸ºä¸€é¡¹è‰°å·¨çš„ä»»åŠ¡ã€‚æµè¡Œæµè§ˆå™¨çš„æœ€æ–°ç‰ˆæœ¬å¯ä»¥å®Œæˆè®¸å¤šæ—§æµè§ˆå™¨æ— æ³•å®Œæˆçš„ä»»åŠ¡-ä½†æ‚¨å¯èƒ½ä»å¿…é¡»æ”¯æŒæ—§æµè§ˆå™¨ã€‚é€šè¿‡å°è¯•ä½¿ç”¨polyfillsé‡æ–°åˆ›å»ºç¼ºå°‘çš„åŠŸèƒ½ï¼ŒPolyfill.ioä½¿æ”¯æŒä¸åŒçš„æµè§ˆå™¨å˜å¾—æ›´ç®€å•ï¼šæ‚¨å¯ä»¥åœ¨æ”¯æŒæˆ–ä¸æ”¯æŒçš„æµè§ˆå™¨ä¸­åˆ©ç”¨æœ€æ–°å’Œæœ€å¼ºå¤§çš„åŠŸèƒ½ã€‚
å¦‚vueä¸­å¯¹bindçš„polyfillä»£ç å¦‚ä¸‹
function polyfillBind (fn, ctx) { function boundFn (a) { var l = arguments.length; return l ? l &amp;gt; 1 ? fn.apply(ctx, arguments) : fn.call(ctx, a) : fn.call(ctx) } boundFn._length = fn.length; return boundFn } function nativeBind (fn, ctx) { return fn.bind(ctx) } var bind = Function.prototype.bind ? nativeBind : polyfillBind; å¸¸ç”¨å¯¹polyfillæ–¹æ³• babel-polyfill æä¾›å®Œæ•´çš„ES2015+ç¯å¢ƒ
polyfill.io polyfill.ioå®ƒæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒæ¥å—ä¸€ç»„æµè§ˆå™¨åŠŸèƒ½çš„è¯·æ±‚ï¼Œå¹¶ä»…è¿”å›è¯·æ±‚æµè§ˆå™¨æ‰€éœ€çš„polyfill</description></item><item><title>ä»‹ç»å‡ ä¸ªè¡¨è¾¾å¼å’Œè¿ç®—ç¬¦</title><link>https://chenkai.life/javascript/js_operator/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/javascript/js_operator/</guid><description>ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ ??æ˜¯ä¸€ä¸ªé€»è¾‘æ“ä½œç¬¦ï¼Œå½“å·¦ä¾§çš„è¡¨è¾¾å¼ç»“æœä¸º nullæˆ–è€… undefinedæ—¶ï¼Œå…¶è¿”å›å³ä¾§è¡¨è¾¾å¼çš„ç»“æœï¼Œå¦åˆ™è¿”å›å·¦ä¾§è¡¨è¾¾å¼çš„ç»“æœã€‚
ä»¥å‰ï¼Œå¦‚æœæƒ³ä¸ºä¸€ä¸ªå˜é‡èµ‹é»˜è®¤å€¼ï¼Œé€šå¸¸çš„åšæ³•æ˜¯ä½¿ç”¨é€»è¾‘æˆ–æ“ä½œç¬¦|| ç„¶è€Œï¼Œç”±äº || æ˜¯ä¸€ä¸ªå¸ƒå°”é€»è¾‘è¿ç®—ç¬¦ï¼Œå·¦ä¾§çš„æ“ä½œæ•°ä¼šè¢«å¼ºåˆ¶è½¬æ¢æˆå¸ƒå°”å€¼ç”¨äºæ±‚å€¼ã€‚ä»»ä½•å‡å€¼ï¼ˆ0ï¼Œ ''ï¼Œ NaNï¼Œ nullï¼Œ undefinedï¼‰éƒ½ä¸ä¼šè¢«è¿”å›ã€‚è¿™å¯¼è‡´å¦‚æœä½ ä½¿ç”¨0ï¼Œ''æˆ–NaNä½œä¸ºæœ‰æ•ˆå€¼ï¼Œå°±ä¼šå‡ºç°ä¸å¯é¢„æ–™çš„åæœã€‚ç©ºå€¼åˆå¹¶æ“ä½œç¬¦å¯ä»¥é¿å…è¿™ç§é™·é˜±ï¼Œå…¶åªåœ¨ç¬¬ä¸€ä¸ªæ“ä½œæ•°ä¸ºnull æˆ– undefined æ—¶ï¼ˆè€Œä¸æ˜¯å…¶å®ƒå‡å€¼ï¼‰è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°
let myText = &amp;#39;&amp;#39;; // An empty string (which is also a falsy value) let notFalsyText = myText || &amp;#39;Hello world&amp;#39;; console.log(notFalsyText); // Hello world let preservingFalsy = myText ?? &amp;#39;Hi neighborhood&amp;#39;; console.log(preservingFalsy); // &amp;#39;&amp;#39; (as myText is neither undefined nor null) //å› ä¸ºç©ºå€¼åˆå¹¶æ“ä½œç¬¦å’Œå…¶ä»–é€»è¾‘æ“ä½œç¬¦ä¹‹é—´çš„è¿ç®—ä¼˜å…ˆçº§/è¿ç®—é¡ºåºæ˜¯æœªå®šä¹‰çš„ null || undefined ?? &amp;#34;foo&amp;#34;; // æŠ›å‡º SyntaxError (null || undefined ) ?</description></item><item><title>å‰åç«¯é€šè¿‡åˆ‡ç‰‡ä¸Šä¼ æ–‡ä»¶</title><link>https://chenkai.life/posts/web_upload_file/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/posts/web_upload_file/</guid><description>æœ€è¿‘åœ¨åšå‰ç«¯ä¸Šä¼ æ–‡ä»¶ï¼Œä¸»è¦åŒ…æ‹¬é€‰æ‹©å•ä¸ªï½œå¤šä¸ªæ–‡ä»¶ã€å•ä¸ªï½œå¤šä¸ªæ–‡ä»¶å¤¹ã€æ‹–æ‹½æ–‡ä»¶ï½œæ–‡ä»¶å¤¹æ–¹å¼ä¸Šä¼ æ–‡ä»¶ï¼Œä¸Šä¼ æ—¶é€šè¿‡åˆ†ç‰‡è®¡ç®—æ–‡ä»¶hashå€¼å®ç°æ–­ç‚¹ç»­ä¼ ã€ç§’ä¼ åŠŸèƒ½ï¼Œç®€è¦ä»‹ç»ä¸‹å…·ä½“å®è¡Œæ€è·¯
è·å–ç”¨æˆ·é€‰æ‹©æ–‡ä»¶ æ³¨æ„è¿™ç§æ–¹å¼ç”¨åˆ°çš„éƒ¨åˆ†ç‰¹æ€§æ˜¯éæ ‡å‡†çš„
æ‹–æ‹½ä¸Šä¼  ä»å¯æ‹–æ‹½åŒºåŸŸä¸­è·å–è¿‡æ»¤è·å–æ‹–æ‹½çš„æ–‡ä»¶çš„FileSystemEntry
async drop(e) { e.stopPropagation(); e.preventDefault(); let items = e.dataTransfer.items; let dropFilesEntrys = []; for (let item of items) { if (!item || !item.webkitGetAsEntry) continue; item = item.webkitGetAsEntry(); if (!item) continue; let filesEntrys = await this.getFilesEntrys(item); dropFilesEntrys.push(...filesEntrys); } let files = await this.transformFilesEntrys(dropFilesEntrys); this.handerFiles(files); }, è·å–FileSystemEntryåŒ…å«çš„FilesEntrysï¼ŒFileSystemEntryå¯èƒ½ä»£è¡¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶æˆ–è€…ç›®å½•
/** * è·å–dropåŒºåŸŸçš„æ–‡ä»¶ * @returns FilesEntrys */ async getFilesEntrys(item) { let filesEntrys = []; let scanFiles = async (item) =&amp;gt; { return new Promise((resolve) =&amp;gt; { if (item.</description></item><item><title>å‰ç«¯ä¸‹è½½æ–‡æœ¬</title><link>https://chenkai.life/javascript/brower_download_text/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/javascript/brower_download_text/</guid><description>å‰ç«¯ä¿å­˜æ–‡æœ¬ function download( text, filename) { var element = document.createElement(&amp;#39;a&amp;#39;); element.setAttribute(&amp;#39;href&amp;#39;, &amp;#39;data:text/plain;charset=utf-8,&amp;#39; + encodeURIComponent(text)); element.setAttribute(&amp;#39;download&amp;#39;, filename); element.style.display = &amp;#39;none&amp;#39;; document.body.appendChild(element); element.click(); document.body.removeChild(element); } download(&amp;#34;data.txt&amp;#34;, &amp;#34;hello word!&amp;#34;);ã€€// è°ƒç”¨</description></item><item><title>å‰ç«¯å¼€å‘é¢è¯•é¢˜</title><link>https://chenkai.life/hide/web_mian_shi_qs1/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/hide/web_mian_shi_qs1/</guid><description>å‰ç«¯å¼€å‘é¢è¯•é¢˜ ï¼ˆé¢˜ç›®åˆ—è¡¨é¡µï¼‰ ç›®å½• å‰è¨€ HTMLéƒ¨åˆ† CSSéƒ¨åˆ† JavaScriptéƒ¨åˆ† å…¶ä»–é—®é¢˜ å‰ç«¯å­¦ä¹ ç½‘ç«™æ¨è å‰è¨€ å‰è¨€
HTML Doctypeä½œç”¨ï¼Ÿä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰?
HTML5 ä¸ºä»€ä¹ˆåªéœ€è¦å†™ ï¼Ÿ
è¡Œå†…å…ƒç´ æœ‰å“ªäº›ï¼Ÿå—çº§å…ƒç´ æœ‰å“ªäº›ï¼Ÿ ç©º(void)å…ƒç´ æœ‰é‚£äº›ï¼Ÿ
é¡µé¢å¯¼å…¥æ ·å¼æ—¶ï¼Œä½¿ç”¨linkå’Œ@importæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
ä»‹ç»ä¸€ä¸‹ä½ å¯¹æµè§ˆå™¨å†…æ ¸çš„ç†è§£ï¼Ÿ
å¸¸è§çš„æµè§ˆå™¨å†…æ ¸æœ‰å“ªäº›ï¼Ÿ
html5æœ‰å“ªäº›æ–°ç‰¹æ€§ã€ç§»é™¤äº†é‚£äº›å…ƒç´ ï¼Ÿå¦‚ä½•å¤„ç†HTML5æ–°æ ‡ç­¾çš„æµè§ˆå™¨å…¼å®¹é—®é¢˜ï¼Ÿå¦‚ä½•åŒºåˆ† HTML å’Œ HTML5ï¼Ÿ
ç®€è¿°ä¸€ä¸‹ä½ å¯¹HTMLè¯­ä¹‰åŒ–çš„ç†è§£ï¼Ÿ
HTML5çš„ç¦»çº¿å‚¨å­˜æ€ä¹ˆä½¿ç”¨ï¼Œå·¥ä½œåŸç†èƒ½ä¸èƒ½è§£é‡Šä¸€ä¸‹ï¼Ÿ
æµè§ˆå™¨æ˜¯æ€ä¹ˆå¯¹HTML5çš„ç¦»çº¿å‚¨å­˜èµ„æºè¿›è¡Œç®¡ç†å’ŒåŠ è½½çš„å‘¢ï¼Ÿ
è¯·æè¿°ä¸€ä¸‹ cookiesï¼ŒsessionStorage å’Œ localStorage çš„åŒºåˆ«ï¼Ÿ
iframeæœ‰é‚£äº›ç¼ºç‚¹ï¼Ÿ</description></item><item><title>å‰ç«¯å¼€å‘é¢è¯•é¢˜åŠç­”æ¡ˆ</title><link>https://chenkai.life/hide/web_min_shi_qsan/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/hide/web_min_shi_qsan/</guid><description>&lt;h2 id="å‰ç«¯å¼€å‘é¢è¯•é¢˜">
å‰ç«¯å¼€å‘é¢è¯•é¢˜
&lt;a class="heading-link" href="#%e5%89%8d%e7%ab%af%e5%bc%80%e5%8f%91%e9%9d%a2%e8%af%95%e9%a2%98">
&lt;i class="fa fa-link" aria-hidden="true">&lt;/i>
&lt;/a>
&lt;/h2>
&lt;h2 id="a-nameprefaceå‰è¨€a-">
&lt;a name='preface'>å‰è¨€&lt;/a>
&lt;a class="heading-link" href="#a-namepreface%e5%89%8d%e8%a8%80a-">
&lt;i class="fa fa-link" aria-hidden="true">&lt;/i>
&lt;/a>
&lt;/h2>
&lt;p>&lt;a href="http://markyun.github.io/2015/Front-end-Developer-Questions/" title="Questions">åªçœ‹é—®é¢˜ç‚¹è¿™é‡Œ &lt;/a>&lt;/p>
&lt;p>&lt;a href="https://github.com/markyun/My-blog/tree/master/Front-end-Developer-Questions/Questions-and-Answers" title="Questions-and-Answers">çœ‹å…¨éƒ¨é—®é¢˜å’Œç­”æ¡ˆç‚¹è¿™é‡Œ&lt;/a>&lt;/p>
&lt;p>æœ¬æ–‡ç”±æˆ‘æ”¶é›†æ€»ç»“äº†ä¸€äº›å‰ç«¯é¢è¯•é¢˜ï¼Œåˆå­¦è€…é˜…åä¹Ÿè¦ç”¨å¿ƒé’»ç ”å…¶ä¸­çš„åŸç†ï¼Œé‡è¦çŸ¥è¯†éœ€è¦ç³»ç»Ÿå­¦ä¹ ã€é€å½»å­¦ä¹ ï¼Œå½¢æˆè‡ªå·±çš„çŸ¥è¯†é“¾ã€‚ä¸‡ä¸å¯æŠ•æœºå–å·§ï¼Œä¸´æ—¶æŠ±ä½›è„šåªæ±‚é¢è¯•ä¾¥å¹¸æ··è¿‡å…³æ˜¯é”™è¯¯çš„ï¼ä¹Ÿæ˜¯ä¸å¯èƒ½çš„ï¼ä¸å¯èƒ½çš„ï¼ä¸å¯èƒ½çš„ï¼&lt;/p></description></item><item><title>å±•å¼€è¯­æ³•å’Œå‰©ä½™å‚æ•°</title><link>https://chenkai.life/javascript/js_spread_and_rest/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/javascript/js_spread_and_rest/</guid><description>å±•å¼€è¯­æ³• å±•å¼€è¯­æ³•(Spread syntax),åªèƒ½ç”¨äºå¯è¿­ä»£å¯¹è±¡, å¯ä»¥åœ¨å‡½æ•°è°ƒç”¨/æ•°ç»„æ„é€ æ—¶, å°†æ•°ç»„è¡¨è¾¾å¼æˆ–è€…stringåœ¨è¯­æ³•å±‚é¢å±•å¼€ï¼›è¿˜å¯ä»¥åœ¨æ„é€ å­—é¢é‡å¯¹è±¡æ—¶, å°†å¯¹è±¡è¡¨è¾¾å¼æŒ‰key-valueçš„æ–¹å¼å±•å¼€
a={name: &amp;#34;mdn&amp;#34;} b=[1,2,3] console.log({...a}) console.log([...b]) //å‡½æ•°å‚æ•° function sum(x, y, z) { return x + y + z; } const numbers = [1, 2, 3]; console.log(sum(...numbers)); console.log(sum.apply(null, numbers)); //æ„é€  var parts = [&amp;#39;shoulders&amp;#39;, &amp;#39;knees&amp;#39;]; var lyrics = [&amp;#39;head&amp;#39;, ...parts, &amp;#39;and&amp;#39;, &amp;#39;toes&amp;#39;]; // [&amp;#34;head&amp;#34;, &amp;#34;shoulders&amp;#34;, &amp;#34;knees&amp;#34;, &amp;#34;and&amp;#34;, &amp;#34;toes&amp;#34;] var obj1 = { foo: &amp;#39;bar&amp;#39;, x: 42 }; var obj2 = { foo: &amp;#39;baz&amp;#39;, y: 13 }; var clonedObj = { .</description></item><item><title>æ‰‹æœºwebç«¯è°ƒè¯•</title><link>https://chenkai.life/web/web_phone_debug_/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/web/web_phone_debug_/</guid><description>æœ€è¿‘ä½¿ç”¨vueå¼€å‘çš„ä¸€ä¸ªåº”ç”¨ï¼Œåœ¨éƒ¨åˆ†æ‰‹æœºé¡µé¢ä¸­ä¼šå‡ºç°æ—¶è€Œæ­£å¸¸æ—¶è€Œå¼‚å¸¸çš„é—®é¢˜ï¼Œç”±æ‰‹æœºä¸­è°ƒè¯•ä¸å¦‚æ¡Œé¢é‚£ä¹ˆæ–¹ä¾¿ï¼Œæƒ³ç€åœ¨ç½‘ä¸Šæ‰¾æ‰¾æœ‰æ²¡æœ‰ç°æˆçš„è§£å†³æ–¹æ¡ˆï¼Œå¤§ä½“åˆ†ä¸‰ç§,ä¸‹é¢å¤§æ¦‚ä»‹ç»ä¸‹
æ•è·é”™è¯¯æ—¥å¿—å°†æ—¥å¿—å‘é€åˆ°æœåŠ¡å™¨æŸ¥çœ‹ å‰ç«¯åº”ç”¨é€šè¿‡window.onerroräº‹ä»¶æ•è·é”™è¯¯æˆ–è€…é‡å†™consoleæ–¹æ³•ï¼Œå°†æ—¥å¿—é€šè¿‡è¯·æ±‚å‘é€åˆ°åç«¯åº”ç”¨
æ•è·é”™è¯¯æ—¥å¿—æŠŠæ—¥å¿—åœ¨å‰ç«¯åº”ç”¨æŸ¥çœ‹ å¦‚è…¾è®¯çš„vConsoleï¼Œè¯¥æ’ä»¶ä¼šåœ¨é¡µé¢å³ä¸‹è§’æ’å…¥ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»å¯ä»¥æ‰“å¼€ä¸€ä¸ªç±»ä¼¼è°ƒè¯•é¡µé¢çš„çª—å£ã€‚
ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹åŠŸèƒ½:
æŸ¥çœ‹ console æ—¥å¿— æŸ¥çœ‹ç½‘ç»œè¯·æ±‚ æŸ¥çœ‹é¡µé¢ element ç»“æ„ æŸ¥çœ‹ Cookiesã€localStorage å’Œ SessionStorage æ‰‹åŠ¨æ‰§è¡Œ JS å‘½ä»¤è¡Œ è‡ªå®šä¹‰æ’ä»¶ ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š
import VConsole from &amp;#34;vconsole&amp;#34;; new VConsole(); é€šè¿‡æŸäº›ç‰¹æ®Šåº”ç”¨è°ƒè¯• å¦‚ä½¿ç”¨è°·æ­Œæµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·è¿œç¨‹è°ƒè¯•Androidå’ŒiOSé¡µé¢ï¼Œæ‰‹æœºå’Œç”µè„‘ä½¿ç”¨usbè¿æ¥ï¼Œæ‰‹æœºè¦å¼€å¯usbè°ƒè¯•æ¨¡å¼ï¼Œåœ¨ç”µè„‘ç«¯æµè§ˆå™¨è¾“å…¥chrome://inspectä¼šæ‰“å¼€è®¾å¤‡ç›‘è§†é¡µé¢ï¼Œè¿™é‡Œå¯ä»¥ç›‘è§†åˆ°iOSå’ŒAndroidè®¾å¤‡</description></item><item><title>æ‹·è´æ•°æ®åˆ°å‰ªè´´æ¿</title><link>https://chenkai.life/web/brower_copy_to_clipboard/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/web/brower_copy_to_clipboard/</guid><description>ä»‹ç»å‡ ç§åœ¨æµè§ˆå™¨ä¸­æ‹·è´æ•°æ®åˆ°å‰ªè´´æ¿çš„æ–¹æ³•
document.execCommand(&amp;ldquo;copy&amp;rdquo;); æ‹·è´å½“å‰é€‰ä¸­å†…å®¹åˆ°å‰ªè´´æ¿, è¯¥apiå·²ç»åºŸå¼ƒä¸æ¨èä½¿ç”¨ï¼Œ
function fallbackCopyTextToClipboard(text) { const textArea = document.createElement(&amp;#34;textarea&amp;#34;); textArea.value = text; textArea.style.top = &amp;#34;0&amp;#34;; textArea.style.left = &amp;#34;0&amp;#34;; textArea.style.position = &amp;#34;fixed&amp;#34;; document.body.appendChild(textArea); textArea.focus(); textArea.select(); try { let msg = document.execCommand(&amp;#34;copy&amp;#34;); if (!msg) { throw new Error(&amp;#34;Copy filed&amp;#34;); } } finally { document.body.removeChild(textArea); } } navigator.clipboard å‰ªè´´æ¿ Clipboard API æä¾›äº†å“åº”å‰ªè´´æ¿å‘½ä»¤ï¼ˆå‰ªåˆ‡ã€å¤åˆ¶å’Œç²˜è´´ï¼‰ä¸å¼‚æ­¥è¯»å†™ç³»ç»Ÿå‰ªè´´æ¿çš„èƒ½åŠ›ã€‚ä»æƒé™ Permissions API è·å–æƒé™ä¹‹åï¼Œæ‰èƒ½è®¿é—®å‰ªè´´æ¿å†…å®¹ï¼›å¦‚æœç”¨æˆ·æ²¡æœ‰æˆäºˆæƒé™ï¼Œåˆ™ä¸å…è®¸è¯»å–æˆ–æ›´æ”¹å‰ªè´´æ¿å†…å®¹ã€‚è¯¥ API è¢«è®¾è®¡ç”¨æ¥å–ä»£ä½¿ç”¨ document.execCommand() çš„å‰ªè´´æ¿è®¿é—®æ–¹å¼ã€‚(åŸºäº HTTP çš„ç½‘ç«™ä¸­åŒ…å«çš„è„šæœ¬åˆ™ä¸èƒ½è·å¾—å‰ªè´´æ¿å¯¹è±¡)
await navigator.clipboard.writeText(data); npm package clipboard, å†…éƒ¨ä½¿ç”¨çš„ document.</description></item><item><title>æ•°æ®åº“å…³ç³»ç±»å‹</title><link>https://chenkai.life/database/db_relational/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/database/db_relational/</guid><description>å…³è”æ˜ å°„ï¼šä¸€å¯¹ä¸€ ä¸€å¯¹ä¸€å…³ç³»å°±å¦‚çƒé˜Ÿä¸çƒé˜Ÿæ‰€åœ¨åœ°å€ä¹‹é—´çš„å…³ç³»ï¼Œä¸€æ”¯çƒé˜Ÿä»…æœ‰ä¸€ä¸ªåœ°å€ï¼Œè€Œä¸€ä¸ªåœ°å€åŒºä¹Ÿä»…æœ‰ä¸€æ”¯çƒé˜Ÿã€‚ æ•°æ®è¡¨é—´ä¸€å¯¹ä¸€å…³ç³»çš„è¡¨ç°æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯å¤–é”®å…³è”ï¼Œä¸€ç§æ˜¯ä¸»é”®å…³è”ã€‚
ä¸€å¯¹ä¸€å¤–é”®å…³è”ï¼Œå›¾ç¤ºå¦‚ä¸‹ï¼š
ä¸€å¯¹ä¸€ä¸»é”®å…³è”ï¼šè¦æ±‚ä¸¤ä¸ªè¡¨çš„ä¸»é”®å¿…é¡»å®Œå…¨ä¸€è‡´ï¼Œé€šè¿‡ä¸¤ä¸ªè¡¨çš„ä¸»é”®å»ºç«‹å…³è”å…³ç³»ã€‚å›¾ç¤ºå¦‚ä¸‹ï¼š å…³è”æ˜ å°„ï¼šä¸€å¯¹å¤š/å¤šå¯¹ä¸€ å­˜åœ¨æœ€æ™®éçš„æ˜ å°„å…³ç³»ï¼Œç®€å•æ¥è®²å°±å¦‚çƒå‘˜ä¸çƒé˜Ÿçš„å…³ç³»ï¼› ä¸€å¯¹å¤šï¼šä»çƒé˜Ÿè§’åº¦æ¥è¯´ä¸€ä¸ªçƒé˜Ÿæ‹¥æœ‰å¤šä¸ªçƒå‘˜ å³ä¸ºä¸€å¯¹å¤š å¤šå¯¹ä¸€ï¼šä»çƒå‘˜è§’åº¦æ¥è¯´å¤šä¸ªçƒå‘˜å±äºä¸€ä¸ªçƒé˜Ÿ å³ä¸ºå¤šå¯¹ä¸€æ•°æ®è¡¨é—´ä¸€å¯¹å¤šå…³ç³»å¦‚ä¸‹å›¾ï¼š
å…³è”æ˜ å°„ï¼šå¤šå¯¹å¤š å¤šå¯¹å¤šå…³ç³»ä¹Ÿå¾ˆå¸¸è§ï¼Œä¾‹å¦‚å­¦ç”Ÿä¸é€‰ä¿®è¯¾ä¹‹é—´çš„å…³ç³»ï¼Œä¸€ä¸ªå­¦ç”Ÿå¯ä»¥é€‰æ‹©å¤šé—¨é€‰ä¿®è¯¾ï¼Œè€Œæ¯ä¸ªé€‰ä¿®è¯¾åˆå¯ä»¥è¢«å¤šåå­¦ç”Ÿé€‰æ‹©ã€‚ æ•°æ®åº“ä¸­çš„å¤šå¯¹å¤šå…³è”å…³ç³»ä¸€èˆ¬éœ€é‡‡ç”¨ä¸­é—´è¡¨çš„æ–¹å¼å¤„ç†ï¼Œå°†å¤šå¯¹å¤šè½¬åŒ–ä¸ºä¸¤ä¸ªä¸€å¯¹å¤šã€‚ æ•°æ®è¡¨é—´å¤šå¯¹å¤šå…³ç³»å¦‚ä¸‹å›¾ï¼š å¯¹äºPostgresqlä¹Ÿæœ‰é€šè¿‡æ•°ç»„è¡¨ç¤ºå¤šå¯¹å¤šå…³ç³»ï¼Œå‚è€ƒä¸‹é¢æ–‡ç«  https://medium.com/@leshchuk/mtm-on-arrays-in-postgresql-a97f3c50b8c6</description></item><item><title>æµè¯»å–json</title><link>https://chenkai.life/nodejs/stream_read_geojson/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/nodejs/stream_read_geojson/</guid><description>æµè¯»å–jsonéœ€è¦ç”¨åˆ°ä¸¤ä¸ªåº“JSONStreamå’Œes
JSONStream æµJSON.parse
JSONStream.parse(&amp;quot;JSONPathè¡¨è¾¾å¼&amp;quot;) JSONPathè¡¨è¾¾å¼ JSONPathè¡¨è¾¾å¼å§‹ç»ˆå¼•ç”¨JSONç»“æ„ï¼Œå…¶æ–¹å¼ä¸XPathè¡¨è¾¾å¼ä¸XMLæ–‡æ¡£ç»“åˆä½¿ç”¨çš„æ–¹å¼ç›¸åŒã€‚ç”±äºJSONç»“æ„é€šå¸¸æ˜¯åŒ¿åçš„ï¼Œå¹¶ä¸”ä¸ä¸€å®šå…·æœ‰â€œæ ¹æˆå‘˜å¯¹è±¡â€ï¼Œå› æ­¤JSONPathå‡å®š$åˆ†é…ç»™å¤–éƒ¨å¯¹è±¡çš„æŠ½è±¡åç§° ä¾‹å­ï¼š
$.store.book[0].title $['store']['book'][0]['title'] XPathå’ŒJSONPathè¯­æ³•
XPath JSONPath Description / $ the root object/element . @ the current object/element / . or [] child operator .. n/a parent operator // .. recursive descent. JSONPath borrows this syntax from E4X. * * wildcard. All objects/elements regardless their names.</description></item><item><title>æµè§ˆå™¨å¤„ç†cookie</title><link>https://chenkai.life/web/cookie/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/web/cookie/</guid><description>è®¾ç½®cookie function setCookie(options) { const { name, data } = options; const age = options.age || 24 * 3600000; const domain = options.domain || window.location.hostname; document.cookie = `${name}=${data}; path=/; max-age=${age}; domain=${domain}`; } è·å–cookie function getCookie(cookie_name) { let value = null; let allcookies = document.cookie; let cookie_pos = allcookies.indexOf(cookie_name); if (cookie_pos != -1) { cookie_pos = cookie_pos + cookie_name.length + 1; let cookie_end = allcookies.indexOf(&amp;#34;;&amp;#34;, cookie_pos); if (cookie_end == -1) { cookie_end = allcookies.</description></item><item><title>æµè§ˆå™¨å¦‚ä½•æ¸²æŸ“é¡µé¢</title><link>https://chenkai.life/web/how_brower_render_page/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/web/how_brower_render_page/</guid><description>å‚è€ƒhttps://coolshell.cn/articles/9666.html
æ–‡ç« æ˜¯ä¸ºäº†è¯´æ˜æµè§ˆå™¨å¦‚ä½•å°†HTMLï¼ŒCSSå’ŒJavaScriptè½¬æ¢ä¸ºç½‘ç«™ã€‚
é¦–å…ˆ æµè§ˆå™¨æ˜¯ä¸€ä¸ªå¯ä»¥ä»è¿œç¨‹æœåŠ¡å™¨æˆ–è€…æœ¬åœ°ç£ç›˜å°†æ–‡ä»¶åŠ è½½ã€æ˜¾ç¤ºã€äº¤äº’çš„è½¯ä»¶ã€‚
æµè§ˆå™¨æœ‰ä¸¤ä¸ªé‡è¦éƒ¨åˆ†ï¼š
æ¸²æŸ“å¼•æ“ï¼ˆRendering Engineï¼‰ï¼šä¸€èˆ¬ä¹ æƒ¯ç§°ä¸ºâ€œæµè§ˆå™¨å†…æ ¸â€ï¼Œæ¸²æŸ“å¼•æ“å†³å®šäº†æµè§ˆå™¨å¦‚ä½•æ˜¾ç¤ºç½‘é¡µçš„å†…å®¹ä»¥åŠé¡µé¢çš„æ ¼å¼ä¿¡æ¯ã€‚ä¸åŒçš„æµè§ˆå™¨å†…æ ¸å¯¹ç½‘é¡µç¼–å†™è¯­æ³•çš„è§£é‡Šä¹Ÿæœ‰ä¸åŒå¦‚Geckoï¼ˆç«ç‹ï¼‰ã€Blinkï¼ˆChromeï¼‰ã€Webkitï¼ˆSafariï¼‰ã€Tridentï¼ˆIEï¼‰ç­‰ï¼Œå› æ­¤åŒä¸€ç½‘é¡µåœ¨ä¸åŒçš„å†…æ ¸çš„æµè§ˆå™¨é‡Œçš„æ¸²æŸ“æ•ˆæœä¹Ÿå¯èƒ½ä¸åŒã€‚
JavaScriptå¼•æ“ï¼šJavaScriptç”±ECMAScriptï¼ŒDOMå’ŒBOMä¸‰è€…ç»„æˆï¼Œä¸åŒæµè§ˆå™¨é’ˆå¯¹JavaScriptè¯­æ³•å’Œè¯­ä¹‰æ ‡å‡†æœ‰å¤šç§å®ç°å¦‚ï¼š
Chromeä½¿ç”¨V8å¼•æ“ï¼Œ Safariä½¿ç”¨JavaScriptCoreï¼Œ Firefoxä½¿ç”¨SpiderMonkey æµè§ˆå™¨æ¥æ”¶æ•°æ® æ•°æ®æ˜¯é€šè¿‡Internetä»¥æ•°æ®åŒ…ï¼ˆPacketï¼‰ä¸ºå•ä½æŒ‰å­—èŠ‚å½¢å¼å‘é€åˆ°æµè§ˆå™¨ã€‚æµè§ˆå™¨å°†ä»ç¡¬ç›˜ï¼ˆæˆ–ç½‘ç»œï¼‰ä¸­è¯»å–HTMLçš„åŸå§‹æ•°æ®å­—èŠ‚è½¬æ¢ä¸ºå­—ç¬¦ã€‚
ä»åŸå§‹å­—èŠ‚åˆ°DOM å½“æµè§ˆå™¨æ¥å—åˆ°æ‰©å±•åä¸º.htmlæ—¶ï¼Œä¼šå°†è¯¥æ–‡ä»¶è§£é‡Šä¸ºhtmlå¯¹å…¶è¿›è¡Œè§£æï¼Œæ–‡ä»¶ä¸­çš„æ¯ä¸ªå¼€å§‹å’Œç»“æŸhtmlæ ‡ç­¾ä¼šè½¬æ¢ä¸ºèŠ‚ç‚¹å¦‚
&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt; åˆ›å»ºè¿™äº›èŠ‚ç‚¹åï¼Œç„¶åå°†è¿™äº›èŠ‚ç‚¹é“¾æ¥åˆ°ç§°ä¸ºDOMçš„æ ‘æ•°æ®ç»“æ„ä¸­ã€‚DOMå»ºç«‹çˆ¶å­å…³ç³»ï¼Œç›¸é‚»çš„å…„å¼Ÿå…³ç³»ç­‰ã€‚æ¯ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»éƒ½åœ¨æ­¤DOMå¯¹è±¡ä¸­å»ºç«‹ã€‚æµè§ˆå™¨å¿…é¡»å…ˆå°†htmlæ•°æ®çš„åŸå§‹å­—èŠ‚è½¬æ¢ä¸ºDOMï¼Œç„¶åæ‰èƒ½è¿›è¡Œä»»ä½•æ“ä½œã€‚
å½“æµè§ˆå™¨æ¥æ”¶æ•°æ®çš„åŸå§‹å­—èŠ‚å¹¶å¯åŠ¨DOMæ„é€ è¿‡ç¨‹æ—¶ï¼Œå®ƒè¿˜å°†å‘å‡ºè¯·æ±‚ä»¥è·å–é“¾æ¥çš„æ ·å¼è¡¨ã€‚ ä¸€æ—¦æµè§ˆå™¨å¼€å§‹è§£æhtmlï¼Œä¸€æ—¦æ‰¾åˆ°æ–‡ä»¶çš„linkæ ‡ç­¾ï¼Œæµè§ˆå™¨csså°±ä¼šåŒæ—¶å‘å‡ºè·å–è¯·æ±‚çš„è¯·æ±‚ã€‚
ä»åŸå§‹å­—èŠ‚åˆ°CSSOM å½“æµè§ˆå™¨æ”¶åˆ°CSSçš„åŸå§‹å­—èŠ‚æ—¶ï¼Œä¹Ÿä¼šå¯åŠ¨HTMLåŸå§‹å­—èŠ‚çš„ç±»ä¼¼è¿‡ç¨‹ã€‚å°†æ•°æ®çš„åŸå§‹å­—èŠ‚è½¬æ¢ä¸ºå­—ç¬¦ï¼Œç„¶åæ ‡è®°åŒ–èŠ‚ç‚¹ï¼Œæœ€åè¿˜å½¢æˆCSSæ ‘ç»“æ„ï¼Œç§°ä¸ºCSSå¯¹è±¡æ¨¡å‹ï¼Œç®€ç§°CSSOMã€‚ CSSæœ‰ä¸€ä¸ªå«åšCascadeçš„ä¸œè¥¿ã€‚çº§è”æ˜¯æµè§ˆå™¨å¦‚ä½•ç¡®å®šå°†å“ªäº›æ ·å¼åº”ç”¨äºå…ƒç´ çš„æ–¹å¼ã€‚
ç”±äºå½±å“å…ƒç´ çš„æ ·å¼å¯èƒ½æ¥è‡ªçˆ¶å…ƒç´ ï¼ˆå³é€šè¿‡ç»§æ‰¿ï¼‰ï¼Œæˆ–è€…å·²è®¾ç½®åœ¨å…ƒç´ æœ¬èº«ä¸Šï¼Œå› æ­¤CSSOMæ ‘ç»“æ„å˜å¾—å¾ˆé‡è¦ã€‚æµè§ˆå™¨å¿…é¡»é€’å½’åœ°éå†CSSæ ‘ç»“æ„å¹¶ç¡®å®šå½±å“ç‰¹å®šå…ƒç´ çš„æ ·å¼ã€‚
æ¸²æŸ“æ ‘ DOMå’ŒCSSOMæ ‘ç»“æ„æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ç»“æ„ã€‚DOMåŒ…å«æœ‰å…³é¡µé¢HTMLå…ƒç´ çš„å…³ç³»çš„æ‰€æœ‰ä¿¡æ¯ï¼Œè€ŒCSSOMåŒ…å«æœ‰å…³å…ƒç´ æ ·å¼çš„ä¿¡æ¯ã€‚æµè§ˆå™¨ç°åœ¨å°†DOMå’ŒCSSOMæ ‘åˆå¹¶ä¸ºä¸€ä¸ªç§°ä¸ºæ¸²æŸ“æ ‘(render tree)çš„ä¸œè¥¿ã€‚æ¸²æŸ“æ ‘åŒ…å«æœ‰å…³é¡µé¢ä¸Šæ‰€æœ‰å¯è§DOMå†…å®¹çš„ä¿¡æ¯ï¼Œä»¥åŠä¸åŒèŠ‚ç‚¹æ‰€éœ€çš„æ‰€æœ‰CSSOMä¿¡æ¯ã€‚
å¦‚æœä¸€ä¸ªå…ƒç´ è¢«CSSéšè—ï¼Œdisplay; noneä¾‹å¦‚ä½¿ç”¨ï¼Œåˆ™è¯¥èŠ‚ç‚¹å°†ä¸ä¼šåœ¨æ¸²æŸ“æ ‘ä¸­è¡¨ç¤ºã€‚éšè—çš„å…ƒç´ å°†å‡ºç°åœ¨DOMä¸­ï¼Œä½†ä¸ä¼šå‡ºç°åœ¨æ¸²æŸ“æ ‘ä¸­ã€‚åŸå› æ˜¯æ¸²æŸ“æ ‘ç»“åˆäº†æ¥è‡ªDOMå’ŒCSSOMçš„ä¿¡æ¯ï¼Œå› æ­¤å®ƒçŸ¥é“åœ¨æ ‘ä¸­ä¸åŒ…æ‹¬éšè—å…ƒç´ ã€‚
æ„å»ºäº†æ¸²æŸ“æ ‘åï¼Œæµè§ˆå™¨å°†ç»§ç»­è¿›è¡Œä¸‹ä¸€æ­¥ï¼Œå³ å¸ƒå±€ï¼
ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨å±å¹•ä¸Šæ‹¥æœ‰æ‰€æœ‰å¯è§å†…å®¹çš„å†…å®¹å’Œæ ·å¼ä¿¡æ¯ï¼Œä½†å®é™…ä¸Šå¹¶æ²¡æœ‰åœ¨å±å¹•ä¸Šå‘ˆç°ä»»ä½•å†…å®¹,æµè§ˆå™¨å¿…é¡»è®¡ç®—é¡µé¢ä¸Šæ¯ä¸ªå¯¹è±¡çš„ç¡®åˆ‡å¤§å°å’Œä½ç½®ã€‚æ­¤å¸ƒå±€æ­¥éª¤å¯¹ä»DOMå’ŒCSSOMæ¥æ”¶åˆ°çš„å†…å®¹å’Œæ ·å¼ï¼Œè¿›è¡Œäº†å¿…è¦çš„å¸ƒå±€è®¡ç®—ï¼Œå¹¶ç»˜åˆ¶åˆ°å±å¹•ä¸Šã€‚DOMå’ŒCSSOMå¿…é¡»åœ¨æˆåŠŸç»˜åˆ¶ä¹‹å‰æ„å»ºï¼Œæ‰€ä»¥ä¼˜åŒ–ç½‘ç«™çš„ç¬¬ä¸€æ¡è§„åˆ™æ˜¯å°½å¿«å°†æœ€é‡è¦çš„HTMLå’ŒCSSäº¤ä»˜ç»™å®¢æˆ·ç«¯ã€‚
JavaScript JavaScriptå¯ä»¥æ›´æ”¹DOMå’ŒCSSOMã€‚
###Javascriptæ‰§è¡Œå‰å°†åœæ­¢æ•´ä¸ªDOMæ„é€ è¿‡ç¨‹
ç”±äºæµè§ˆå™¨ä¸ç¡®å®šæ­¤ç‰¹å®šJavascriptä¼šåšä»€ä¹ˆï¼Œå› æ­¤é€šè¿‡åœæ­¢æ•´ä¸ªDOMç»“æ„æ¥é‡‡å–é¢„é˜²æªæ–½ã€‚æ¯å½“æµè§ˆå™¨é‡åˆ°scriptæ ‡ç­¾æ—¶ï¼Œåœ¨è„šæœ¬å®Œæˆæ‰§è¡Œä¹‹å‰ï¼Œå°†åœæ­¢æ•´ä¸ªDOMæ„é€ è¿‡ç¨‹ã€‚
&amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta name=&amp;#34;viewport&amp;#34; content=&amp;#34;width=device-width,initial-scale=1&amp;#34;&amp;gt; &amp;lt;title&amp;gt;Medium Article Demo&amp;lt;/title&amp;gt; &amp;lt;link rel=&amp;#34;stylesheet&amp;#34; href=&amp;#34;style.</description></item><item><title>é¢è¯•é¢˜</title><link>https://chenkai.life/hide/mian_shi/</link><pubDate>Fri, 09 Jul 2021 15:37:56 +0800</pubDate><guid>https://chenkai.life/hide/mian_shi/</guid><description>æ™šä¸Šé¢è¯•æ—¶å‘æŒ¥çš„ååˆ†å·®åŠ²ï¼Œä¼šçš„é¢˜ä¹Ÿç­”çš„é©¬é©¬è™è™ï¼Œåæ€è‡ªå·±å­˜åœ¨ä»¥ä¸‹é—®é¢˜
ç›¸å…³æ–¹æ³•è¿˜æ˜¯æŒæ¡çš„ä¸å¤Ÿç†Ÿç»ƒï¼Œä¸å€ŸåŠ©ç¼–è¾‘å™¨æç¤ºéš¾ä»¥ä¸‹æ‰‹ é‡åˆ°ç›¸å…³ç®—æ³•é¢˜è„‘å­æœ‰äº›æ··ä¹±ï¼Œå†·é™ä¸‹æ¥æƒ³æƒ³è¿˜æ˜¯èƒ½å†™å‡ºæ¥ ä¸€äº›è‡³å°‘æ¦‚å¿µäº†è§£ä½†å¹¶ä¸ååˆ†æ¸…æ¥š ç¼ºä¹é¢è¯•ç»éªŒï¼Œè„‘å­æœ‰äº›è½¬ä¸è¿‡æ¥ å¹³å¸¸æ²¡æœ‰åšç›¸å…³é¢è¯•é¢˜ï¼Œé¢è¯•é¢˜è¿˜æ˜¯è¦åˆ·çš„ è¿˜è®°èµ·æ¥çš„é¢è¯•é¢˜å¤§æ¦‚æœ‰ä»¥ä¸‹é¢˜ç›®:
array reduse å®ç°mapæ–¹æ³• åšä¸å‡ºæ¥çš„åŸå› ï¼Œ å¯¹thisè¿˜æ˜¯ä¸å¤Ÿç†Ÿæ‚‰
ä¸ç”¨reduseå®ç°ï¼š
Array.prototype.map = function (fun) { let mapArr = []; for (let val of this) { mapArr.push(fun.call(null, val)); } return mapArr; } [1, 2, 3].map((val) =&amp;gt; val); ä½¿ç”¨reduseå®ç°ï¼š
Array.prototype.map = function (fun) { let mapArr = []; this.reduce((accumulator, currentValue, index) =&amp;gt; { mapArr.push(fun.call(null, this[index])); },null); return mapArr; } koaä¸­é—´ä»¶ä¼ å‚æ•°ï¼Œå…è®¸è¾“å…¥å‚æ•°é™åˆ¶è¯·æ±‚ function name(methods) { return async function(ctx, next){ let startDate = new Date(); if (methods.</description></item><item><title>koaè·¨åŸŸ</title><link>https://chenkai.life/nodejs/koa-cross-domain/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/koa-cross-domain/</guid><description>è·¨åŸŸ ä¸ºä»€ä¹ˆä¼šæœ‰è·¨åŸŸé—®é¢˜ï¼Ÿ è¿™æ˜¯æµè§ˆå™¨çš„åŒæºç­–ç•¥æ‰€é€ æˆçš„ï¼ŒåŒæºç­–ç•¥é™åˆ¶äº†ä»åŒä¸€ä¸ªæºåŠ è½½çš„æ–‡æ¡£æˆ–è„šæœ¬å¦‚ä½•ä¸æ¥è‡ªå¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚è¿™æ˜¯ä¸€ä¸ªç”¨äºéš”ç¦»æ½œåœ¨æ¶æ„æ–‡ä»¶çš„é‡è¦å®‰å…¨æœºåˆ¶ã€‚
ä¸€å®šè¦æ³¨æ„è·¨åŸŸæ˜¯æµè§ˆå™¨çš„é™åˆ¶ï¼Œå…¶å®ä½ ç”¨æŠ“åŒ…å·¥å…·æŠ“å–æ¥å£æ•°æ®ï¼Œæ˜¯å¯ä»¥çœ‹åˆ°æ¥å£å·²ç»æŠŠæ•°æ®è¿”å›å›æ¥äº†ï¼Œåªæ˜¯æµè§ˆå™¨çš„é™åˆ¶ï¼Œä½ è·å–ä¸åˆ°æ•°æ®ã€‚ç”¨postmanè¯·æ±‚æ¥å£èƒ½å¤Ÿè¯·æ±‚åˆ°æ•°æ®ã€‚è¿™äº›å†æ¬¡å°è¯äº†è·¨åŸŸæ˜¯æµè§ˆå™¨çš„é™åˆ¶ã€‚
å¦‚ä½•è§£å†³è·¨åŸŸ? jsonp: å¸¦æœ‰srcå±æ€§çš„æ ‡ç­¾éƒ½å¯ä»¥ç”¨æ¥ï¼Œ ä½†æ˜¯åªèƒ½å¤„ç†GETè¯·æ±‚ document.domain + iframeè·¨åŸŸ location.hash + iframe window.name + iframe postMessageè·¨åŸŸ Nginxé…ç½®åå‘ä»£ç† CORSï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼‰ï¼šæ”¯æŒæ‰€æœ‰ç±»å‹çš„HTTPè¯·æ±‚ ç›¸ä¿¡å¤§å®¶å¯¹äºä»¥ä¸Šçš„è§£å†³æ–¹æ³•éƒ½å¾ˆç†Ÿæ‚‰ï¼Œè¿™é‡Œä¸å†å¯¹æ¯ä¸€ç§æ–¹æ³•å±•å¼€è®²è§£ï¼Œæ¥ä¸‹æ¥ä¸»è¦è®²ä¸€ä¸‹CORSï¼› ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚ æµè§ˆå™¨å°†CORSè·¨åŸŸè¯·æ±‚åˆ†ä¸ºç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚ï¼›
å¦‚æœä½ ä½¿ç”¨nginxåå‘ä»£ç†è§£å†³çš„è·¨åŸŸé—®é¢˜ï¼Œåˆ™ä¸ä¼šæœ‰è·¨åŸŸè¯·æ±‚è¿™ä¸ªè¯´æ³•äº†ï¼Œå› ä¸ºnginxåå‘ä»£ç†å°±ä½¿å¾—å‰åç«¯æ˜¯åŒä¸€ä¸ªåŸŸäº†ï¼Œå°±ä¸å­˜åœ¨è·¨åŸŸé—®é¢˜äº†ã€‚
åªè¦åŒæ—¶æ»¡è¶³ä¸€ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼Œå°±å±äºç®€å•è¯·æ±‚ (1)ä½¿ç”¨ä¸‹åˆ—æ–¹æ³•ä¹‹ä¸€ï¼š
head get post (2)è¯·æ±‚çš„Hederæ˜¯
Accept Accept-Language Content-Language Content-Type: åªé™äºä¸‰ä¸ªå€¼ï¼š application/x-www-form-urlencoded multipart/form-data text/plain ä¸åŒæ—¶æ»¡è¶³ä¸Šé¢çš„ä¸¤ä¸ªæ¡ä»¶ï¼Œå°±å±äºéç®€å•è¯·æ±‚ã€‚ æµè§ˆå™¨å¯¹è¿™ä¸¤ç§çš„å¤„ç†ï¼Œæ˜¯ä¸ä¸€æ ·çš„ã€‚
ç®€å•è¯·æ±‚ ä¾‹å­ å¯¹äºç®€å•è¯·æ±‚ï¼Œæµè§ˆå™¨ç›´æ¥å‘å‡ºCORSè¯·æ±‚ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯å¤´ä¿¡æ¯ä¹‹ä¸­ï¼Œå¢åŠ ä¸€ä¸ªOriginå­—æ®µã€‚</description></item><item><title>nodeæœåŠ¡ç«¯æ¸²æŸ“</title><link>https://chenkai.life/nodejs/node-service-rendering/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/node-service-rendering/</guid><description>æœåŠ¡ç«¯æ¸²æŸ“æ˜¯æŒ‡ï¼Œæµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚é¡µé¢ï¼ŒæœåŠ¡ç«¯å°†å‡†å¤‡å¥½çš„æ¨¡æ¿å’Œæ•°æ®ç»„è£…æˆå®Œæ•´çš„HTMLè¿”å›ç»™æµè§ˆå™¨å±•ç¤ºã€‚ å‰åçš„åˆ†ç¦»åï¼Œæµè§ˆå™¨åŠ è½½å®Œé¡µé¢åè¿˜éœ€è¦å†æ¬¡å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚æ•°æ®ï¼Œå¦‚æœæˆ‘ä»¬äº‹å…ˆå°†éœ€è¦è¯·æ±‚åˆ°æ•°æ®æ”¾å…¥åˆ°é¡µé¢å°±æ— éœ€åŠ è½½é¡µé¢åå†æ¬¡å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œå‡å°‘åˆå§‹åˆå§‹é¡µé¢åŠ è½½æ—¶é—´ nodeçš„æœåŠ¡ç«¯æ¸²æŸ“åº“æœ‰å¾ˆå¤šã€‚handlebars, ejs, ejs, hbs, pug, velocityjs, Nunjucks, twig, dot,templayed
ç›´æ¥ä½¿ç”¨Nunjucks Nunjucksæ–‡æ¡£
// render.js const Router = require(&amp;#39;koa-router&amp;#39;) const router = new Router() const nunjucks = require(&amp;#39;nunjucks&amp;#39;); const path = require(&amp;#39;path&amp;#39;) let env = nunjucks.configure(path.join(__dirname, &amp;#39;../public&amp;#39;),{ // noCache: true, }); router.get(&amp;#39;/&amp;#39;, async (ctx, next) =&amp;gt; { ctx.body = env.render(&amp;#39;index.html&amp;#39;, { title: &amp;#39;title&amp;#39;, user: { name: &amp;#39;test&amp;#39;, age: 18 } }); }); module.exports = router app.use(render.routes(), render.allowedMethods()); ä½¿ç”¨koa-views + Nunjucks ç­‰ const views = require(&amp;#39;koa-views&amp;#39;) const path = require(&amp;#39;path&amp;#39;) // Must be used before any router is used app.</description></item></channel></rss>