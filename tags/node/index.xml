<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>node on CK's Blog</title><link>https://chenkai.life/tags/node/</link><description>Recent content in node on CK's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Wed, 29 Dec 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://chenkai.life/tags/node/index.xml" rel="self" type="application/rss+xml"/><item><title>åœ¨æµè§ˆå™¨ä¸­æœ¬åœ°è¿è¡Œ Node.js - WebContainers</title><link>https://chenkai.life/web/web-containers/</link><pubDate>Wed, 29 Dec 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/web/web-containers/</guid><description>èµ·å›  åœ¨nodejs.devç½‘ç«™çœ‹åˆ°äº†ä¸€ä¸ªåœ¨çº¿ç¼–è¾‘çš„ç¨‹åºhttps://nodejs.dev/learn/introduction-to-nodejs#an-example-nodejs-application ,èµ·åˆæˆ‘ä»¥ä¸ºè¿™æ˜¯ä¸€ä¸ªç±»ä¼¼codepençš„åœ¨çº¿ç¼–è¾‘å™¨ï¼Œé€šè¿‡å…³é”®è¯webcontainer, æˆ‘å‘ç°è¿™æ˜¯ä¸€ä¸ªåœ¨æµè§ˆå™¨ä¸­æœ¬åœ°è¿è¡Œ Node.jsç¨‹åºï¼Œ å¹¶æ‰¾åˆ°äº†ä¸‹é¢è¿™ç¯‡æ–‡ç« https://blog.stackblitz.com/posts/introducing-webcontainers/ï¼Œ
ä»¥ä¸‹å†…å®¹ä¸ºæ–‡ç« ç¿»è¯‘ï¼š
WebContainers ç®€ä»‹ï¼šåœ¨æµè§ˆå™¨ä¸­æœ¬åœ°è¿è¡Œ Node.js ERIC SIMONSå¯èƒ½2021 å¹´ 2 æœˆ 20 æ—¥æ–°é—»å’Œå…¬å‘Š
ä½ å¥½å‘€ï¼æˆ‘ä»¬æ˜¯ StackBlitzï¼Œä¸€ä¸ªä¸“é—¨ä¸º Web å¼€å‘é‡èº«å®šåˆ¶çš„åœ¨çº¿ IDEã€‚åœ¨æœ¬å‘¨çš„ Google I/O ä¸»é¢˜æ¼”è®²ä¸­ï¼Œæ‚¨å¯èƒ½å·²ç»çœ‹åˆ°äº†æˆ‘ä»¬çš„å…ˆç¹ä¸ºå¿«ã€‚
ä»Šå¤©ï¼Œæˆ‘ä»¬å¾ˆé«˜å…´åœ°å®£å¸ƒï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨ä¸ Next.js å’Œ Google çš„å›¢é˜Ÿåˆä½œå¼€å‘ä¸€é¡¹æ–°æŠ€æœ¯ã€‚
å‡ å¹´å‰ï¼Œæˆ‘ä»¬æ„è¯†åˆ°ç½‘ç»œæ­£èµ°å‘ä¸€ä¸ªå…³é”®çš„è½¬æŠ˜ç‚¹ã€‚ WebAssembly çš„å‡ºç°å’Œæ–°çš„ åŠŸèƒ½ API ä½¿ç¼–å†™ä¸€ä¸ªåŸºäº WebAssembly çš„æ“ä½œç³»ç»Ÿå˜å¾—å¯èƒ½ï¼Œå®ƒçš„åŠŸèƒ½è¶³ä»¥è¿è¡Œ Node.jsï¼Œå®Œå…¨åœ¨ä½ çš„æµè§ˆå™¨ä¸­ã€‚æˆ‘ä»¬è®¾æƒ³äº†ä¸€ä¸ªæ¯”æœ¬åœ°ç¯å¢ƒæ›´å¿«ã€æ›´å®‰å…¨å’Œä¸€è‡´çš„å“è¶Šå¼€å‘ç¯å¢ƒï¼Œä»¥å®ç°æ— ç¼ä»£ç åä½œï¼Œè€Œæ— éœ€è®¾ç½®æœ¬åœ°ç¯å¢ƒã€‚
è¿™å¬èµ·æ¥æœ‰äº›ç‰µå¼ºã€‚ä½†æ˜¯ï¼Œå¦‚æœç½‘ç»œç°åœ¨ä¸º å¹³é¢è®¾è®¡å¸ˆã€è§†é¢‘ç¼–è¾‘å™¨ /web.dev/clipchamp/) å’Œ ä¸°å¯Œçš„æ–‡æ¡£ç¼–è¾‘ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“ï¼šå¼€å‘äººå‘˜æœ€ç»ˆæœ‰å¯èƒ½*ä½¿ç”¨*ç½‘ç»œæ¥*æ„å»º*ç½‘ç»œå—ï¼Ÿ
æˆ‘ä»¬å†³å®šè¯•ä¸€è¯•ã€‚æˆ‘ä»¬æŠ±æœ‰æœ€å¥½çš„å¸Œæœ›ï¼Œä¹ŸæœŸå¾…æœ€åçš„ç»“æœã€‚ä¸¤å¹´åï¼ˆæ—¶é—´è¿‡å¾—çœŸå¿«ğŸ˜…ï¼‰ï¼Œç»“æœå‡ºä¹æ„æ–™åœ°æƒŠäººã€‚
ä»Šå¤©æˆ‘ä»¬å¾ˆé«˜å…´åœ°å®£å¸ƒWebContainersã€‚ WebContainers å…è®¸æ‚¨åˆ›å»ºå…¨æ ˆ Node.js ç¯å¢ƒï¼Œè¿™äº›ç¯å¢ƒåœ¨å‡ æ¯«ç§’å†…å¯åŠ¨å¹¶ç«‹å³åœ¨çº¿å’Œé“¾æ¥å…±äº« - åªéœ€å•å‡»ä¸€ä¸‹ã€‚è¯¥ç¯å¢ƒåŠ è½½äº† VS Code å¼ºå¤§çš„ç¼–è¾‘ä½“éªŒã€å®Œæ•´çš„ç»ˆç«¯ã€npm ç­‰ã€‚å®ƒè¿˜å®Œå…¨åœ¨æ‚¨çš„æµè§ˆå™¨å†…è¿è¡Œï¼Œè¿™ä¼šäº§ç”Ÿä¸€äº›å…³é”®ä¼˜åŠ¿ï¼š
æ¯”æ‚¨çš„æœ¬åœ°ç¯å¢ƒæ›´å¿«ã€‚æ„å»ºå®Œæˆé€Ÿåº¦æœ€å¤šå¯æé«˜ 20%ï¼Œè½¯ä»¶åŒ…å®‰è£…å®Œæˆé€Ÿåº¦æ¯” yarn/npm å¿« &amp;gt;= 5 å€ã€‚ Node.</description></item><item><title>eggjs</title><link>https://chenkai.life/nodejs/eggjs/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/eggjs/</guid><description>eggåˆå§‹åŒ–è®¾ç½® const dir = path.join(app.baseDir, '/app/model/'); app.loader.loadToContext(dir, 'model'); //åªæ‰§è¡Œä¸€æ¬¡ app.once('server', async (server) =&amp;gt; { //è®¾ç½®ä¸€ä¸ªç©ºçš„ä¸Šä¸‹æ–‡ const ctx = app.createAnonymousContext(); //è·å–è®¾ç½® var settings = await ctx.model.setting.getAll(); });</description></item><item><title>jsonwebtoken</title><link>https://chenkai.life/nodejs/jsonwebtoken/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/jsonwebtoken/</guid><description>ä»€ä¹ˆæ˜¯JSON Web Tokenï¼Ÿ JSON Web Tokenï¼ˆJWTï¼‰æ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼ˆRFC 7519ï¼‰ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§ç´§å‡‘ä¸”ç‹¬ç«‹çš„æ–¹å¼ï¼Œç”¨äºåœ¨å„æ–¹ä¹‹é—´ç”¨SONå¯¹è±¡å®‰å…¨åœ°ä¼ è¾“ä¿¡æ¯ã€‚æ­¤ä¿¡æ¯å¯ä»¥é€šè¿‡æ•°å­—ç­¾åè¿›è¡ŒéªŒè¯å’Œä¿¡ä»»ã€‚ JWTå¯ä»¥ä½¿ç”¨åŠ å¯†ç®—æ³•ï¼ˆä½¿ç”¨HMACç®—æ³•ï¼‰æˆ–ä½¿ç”¨RSAæˆ–ECDSAçš„å…¬é’¥/ç§é’¥å¯¹è¿›è¡Œç­¾åã€‚
ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨JSON Webä»¤ç‰Œ ä»¥ä¸‹æ˜¯JSON Webä»¤ç‰Œæœ‰ç”¨çš„ä¸€äº›åœºæ™¯ï¼š
æˆæƒï¼šè¿™æ˜¯ä½¿ç”¨JWTçš„æœ€å¸¸è§æ–¹æ¡ˆã€‚ä¸€æ—¦ç”¨æˆ·ç™»å½•ï¼Œæ¯ä¸ªåç»­è¯·æ±‚å°†åŒ…æ‹¬JWTï¼Œå…è®¸ç”¨æˆ·è®¿é—®è¯¥ä»¤ç‰Œå…è®¸çš„è·¯ç”±ï¼ŒæœåŠ¡å’Œèµ„æºã€‚ Single Sign Onæ˜¯ä¸€ç§ç°åœ¨å¹¿æ³›ä½¿ç”¨JWTçš„åŠŸèƒ½ï¼Œå› ä¸ºå®ƒçš„å¼€é”€å¾ˆå°ï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨ä¸åŒçš„åŸŸä¸­è½»æ¾ä½¿ç”¨ã€‚
ä¿¡æ¯äº¤æ¢ï¼šJSON Webä»¤ç‰Œæ˜¯åœ¨å„æ–¹ä¹‹é—´å®‰å…¨ä¼ è¾“ä¿¡æ¯çš„å¥½æ–¹æ³•ã€‚å› ä¸ºJWTå¯ä»¥ç­¾å - ä¾‹å¦‚ï¼Œä½¿ç”¨å…¬é’¥/ç§é’¥å¯¹ - æ‚¨å¯ä»¥ç¡®å®šå‘ä»¶äººæ˜¯ä»–ä»¬æ‰€è¯´çš„äººã€‚æ­¤å¤–ï¼Œç”±äºä½¿ç”¨æ ‡å¤´å’Œæœ‰æ•ˆè´Ÿè½½è®¡ç®—ç­¾åï¼Œæ‚¨è¿˜å¯ä»¥éªŒè¯å†…å®¹æ˜¯å¦æœªè¢«ç¯¡æ”¹ã€‚
JSON Webä»¤ç‰Œç»“æ„ JSON Web Tokensç”±.åˆ†éš”çš„ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼Œå®ƒä»¬æ˜¯ï¼š
å¤´ æœ‰æ•ˆè½½è· ç­¾å å› æ­¤ï¼ŒJWTé€šå¸¸å¦‚xxxxx.yyyyy.zzzzzæ‰€ç¤º. å¤´ æ ‡å¤´é€šå¸¸ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä»¤ç‰Œçš„ç±»å‹ï¼Œå³JWTï¼Œä»¥åŠæ­£åœ¨ä½¿ç”¨çš„ç­¾åç®—æ³•ï¼Œä¾‹å¦‚HMAC SHA256æˆ–RSAã€‚
{ &amp;quot;alg&amp;quot;: &amp;quot;HS256&amp;quot;, &amp;quot;typ&amp;quot;: &amp;quot;JWT&amp;quot; } ç„¶åï¼Œè¿™ä¸ªJSONè¢«ç¼–ç ä¸ºBase64Urlï¼Œå½¢æˆJWTçš„ç¬¬ä¸€éƒ¨åˆ†ã€‚
æœ‰æ•ˆè½½è· ä»¤ç‰Œçš„ç¬¬äºŒéƒ¨åˆ†æ˜¯æœ‰æ•ˆè´Ÿè½½ï¼Œå…¶ä¸­åŒ…å«å£°æ˜ã€‚å£°æ˜æ˜¯å…³äºå®ä½“ï¼ˆé€šå¸¸æ˜¯ç”¨æˆ·ï¼‰å’Œå…¶ä»–æ•°æ®çš„å£°æ˜ã€‚æœ‰ä¸‰ç§ç±»å‹:registeredã€publicã€private claims.
registeredï¼šè¿™äº›æ˜¯ä¸€ç»„é¢„å®šä¹‰å£°æ˜ï¼Œä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œä½†å»ºè®®ä½¿ç”¨ï¼Œä»¥æä¾›ä¸€ç»„æœ‰ç”¨çš„ï¼Œå¯äº’æ“ä½œçš„å£°æ˜ã€‚å…¶ä¸­ä¸€äº›æ˜¯ï¼š issï¼ˆå‘è¡Œäººï¼‰ï¼Œ expï¼ˆåˆ°æœŸæ—¶é—´ï¼‰ï¼Œsubï¼ˆä¸»é¢˜ï¼‰ï¼Œ audï¼ˆè§‚ä¼—ï¼‰ç­‰ã€‚ publicï¼šè¿™äº›å¯ä»¥ç”±ä½¿ç”¨JWTçš„äººéšæ„å®šä¹‰ã€‚ä½†ä¸ºé¿å…å†²çªï¼Œåº”åœ¨ IANA JSON Webä»¤ç‰Œæ³¨å†Œè¡¨ä¸­å®šä¹‰å®ƒä»¬ï¼Œæˆ–è€…å°† å…¶å®šä¹‰ä¸ºåŒ…å«é˜²å†²çªå‘½åç©ºé—´çš„URIã€‚ private claimsï¼š è¿™æ˜¯åˆ›å»ºå…±äº«ä½¿ç”¨å®ƒä»¬åŒæ„å¹¶æ—¢ä¸æ˜¯å½“äº‹äººä¹‹é—´çš„ä¿¡æ¯è‡ªå®šä¹‰å£°æ˜æ³¨å†Œæˆ–å…¬ä¼—çš„æƒåˆ©è¦æ±‚ ç„¶åï¼Œæœ‰æ•ˆè´Ÿè½½ç»è¿‡Base64Urlç¼–ç ï¼Œå½¢æˆJSON Webä»¤ç‰Œçš„ç¬¬äºŒéƒ¨åˆ†ã€‚</description></item><item><title>node httpè¯·æ±‚è§£æ</title><link>https://chenkai.life/nodejs/node-http-analys/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/node-http-analys/</guid><description>æœ¬æŒ‡å—çš„å®—æ—¨å°†è®©ä½ å¯¹ HTTP ä¼ è¾“å¤„ç†æœ‰ä¸€ä¸ªæ¸…æ™°å®Œæ•´çš„äº†è§£ã€‚åœ¨ä¸è€ƒè™‘ç‰¹å®šç¼–ç¨‹è¯­è¨€åŠå¼€å‘ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬å‡è®¾ä½ å·²ç»çŸ¥é“åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ HTTP æ˜¯å¦‚ä½•è¿›è¡Œå·¥ä½œçš„ã€‚æˆ‘ä»¬åŒæ ·å‡å®šä½ ç†Ÿæ‚‰ Node.js çš„ EventEmitters å’Œ Streamsã€‚å½“ç„¶ï¼Œå¦‚æœä½ ç¡®å®ä¸äº†è§£å®ƒä»¬ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ æŠŠä»¥ä¸Šåˆ—å‡ºçš„å†…å®¹å¿«é€Ÿè€Œå®Œæ•´åœ°é˜…è¯»ä¸€éã€‚
åˆ›å»ºä¸€ä¸ªåå°æœåŠ¡ ä»»ä½•ç½‘ç»œæœåŠ¡åº”ç”¨ç¨‹åºæ€»æ˜¯è¦å…ˆåˆ›å»ºä¸€ä¸ªæœåŠ¡å¯¹è±¡ã€‚è¿™åœ¨ Node.js ä¸­é€šå¸¸é€šè¿‡ createServer æ–¹æ³•ã€‚
const http = require(&amp;#39;http&amp;#39;); const server = http.createServer((request, response) =&amp;gt; { // magic happens here! }); æ¯å½“æœ‰ HTTP è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨æ—¶ï¼ŒcreateServer ä¸­ä¼ å…¥çš„å‡½æ•°å°±è¢«è‡ªåŠ¨æ‰§è¡Œã€‚æ‰€ä»¥è¿™ä¸ªå‡½æ•°ä¹Ÿè¢«ç§°ä¸ºæ˜¯è¯·æ±‚å¤„ç†å‡½æ•°ã€‚å®é™…ä¸Šï¼Œç”± createServer æ„é€ å‡½æ•°è¿”å›çš„ Server å¯¹è±¡æ˜¯ä¸€ä¸ª EventEmitterï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä»…æ˜¯å¯¹åˆ›å»º server å’Œå¯¹å®ƒæ·»åŠ ç›‘å¬äº‹ä»¶è¿›è¡Œäº†ç®€åŒ–å¤„ç†ã€‚
const server = http.createServer(); server.on(&amp;#39;request&amp;#39;, (request, response) =&amp;gt; { // the same kind of magic happens here! }); å½“ä¸€ä¸ª HTTP åˆ°è¾¾æœåŠ¡ç«¯ï¼Œnode è°ƒç”¨ request å¤„ç†ç¨‹åºï¼Œå¹¶äº§ç”Ÿä¸€äº›å”¾æ‰‹å¯å¾—çš„å¯¹è±¡ç”¨ä»¥å¤„ç†ä¼ è¾“ï¼Œè¿™äº›å¯¹è±¡å°±æ˜¯ request å’Œ responseã€‚æˆ‘ä»¬é©¬ä¸Šä¼šè®²åˆ°ã€‚</description></item><item><title>node Promise è½¬æ¢</title><link>https://chenkai.life/nodejs/node-promise/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/node-promise/</guid><description>å¦‚æœä½ æ›¾ç»ä½¿ç”¨Javascriptï¼Œä½ å¿…é¡»æœ‰ç»éªŒçš„å›è°ƒã€‚Javascriptä»¥å…¶å†…ç½®çš„å¼‚æ­¥å“²å­¦è€Œé—»åã€‚ä»æ ‡å‡†å†…ç½®æ¨¡å—åˆ°å…¶ä»–æ¡†æ¶å’Œåº“ï¼Œå›è°ƒæ— å¤„ä¸åœ¨ã€‚è¿™å°±æ˜¯åœ¨Javascriptä¸­å®Œæˆå¼‚æ­¥ç¼–ç¨‹ã€‚ä½†æ˜¯å›è°ƒæœ‰ä¸€ä¸ªé»‘æš—çš„ä¸€é¢ã€‚è¿™å«Callback Hellsã€‚
å›è°ƒåœ°ç‹±çš„è§£å†³æ–¹æ¡ˆæ˜¯Promisesã€‚è€Œä¸æ˜¯é€šè¿‡å›è°ƒåŒæ­¥è¿”å›å€¼æˆ–ä¼ é€’ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥è¿”å›ä¸€ä¸ªPromiseï¼Œæˆ‘ä»¬å°†æ¥ä¼šè¿”å›ä¸€äº›å€¼æˆ–é”™è¯¯ã€‚ æœ‰è®¸å¤šåƒå¥½çš„åº“å¦‚Bluebirdå’ŒQå¯ä»¥ç”¨æ¥å¤„ç†Promiseã€‚ä½†æ˜¯å†…ç½®çš„æ¨¡å—å’Œå¾ˆå¤šå…¶ä»–åº“ä¸èƒ½ä½¿ç”¨Promisesã€‚è¿™äº›åº“èƒ½å¤Ÿå°†ä¼ ç»Ÿçš„å›è°ƒæ–¹æ³•è½¬æ¢ä¸ºPromiseï¼Œåœ¨Node v8ä¸­æˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨util.promisifyæ¥å¤„ç†å›è°ƒæ–¹æ³•ã€‚æ ¹æ®Node.jsçš„æ–‡æ¡£ï¼š util.promisify(original)
original Returns: const util = require(&amp;#39;util&amp;#39;); const fs = require(&amp;#39;fs&amp;#39;); const stat = util.promisify(fs.stat); stat(&amp;#39;.&amp;#39;).then((stats) =&amp;gt; { // Do something with `stats` }).catch((error) =&amp;gt; { // Handle the error. }); æˆ–è€… const util = require(&amp;#39;util&amp;#39;); const fs = require(&amp;#39;fs&amp;#39;); const stat = util.promisify(fs.stat); async function callStat() { const stats = await stat(&amp;#39;.&amp;#39;); console.log(`This directory is owned by ${stats.uid}`); } çœ‹ä¼ ç»Ÿçš„ä¾‹å­ï¼š</description></item><item><title>nodeä¸­çš„å¤šè¿›ç¨‹</title><link>https://chenkai.life/nodejs/node-child-process/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/node-child-process/</guid><description>javascriptæ˜¯å•çº¿ç¨‹çš„å¹¶ä¸”åªåœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­è·‘ï¼Œ
child_process child_process æ¨¡å—æä¾›äº†è¡ç”Ÿå­è¿›ç¨‹çš„èƒ½åŠ›ï¼Œæ­¤åŠŸèƒ½ä¸»è¦ç”± child_process.spawn() å‡½æ•°æä¾›ï¼š
const { spawn } = require(&amp;#39;child_process&amp;#39;); const ls = spawn(&amp;#39;ls&amp;#39;, [&amp;#39;-lh&amp;#39;, &amp;#39;/usr&amp;#39;]); ls.stdout.on(&amp;#39;data&amp;#39;, (data) =&amp;gt; { console.log(`stdout: ${data}`); }); ls.stderr.on(&amp;#39;data&amp;#39;, (data) =&amp;gt; { console.error(`stderr: ${data}`); }); ls.on(&amp;#39;close&amp;#39;, (code) =&amp;gt; { console.log(`å­è¿›ç¨‹é€€å‡ºï¼Œä½¿ç”¨é€€å‡ºç  ${code}`); }); child_process.spawn() æ–¹æ³•å¼‚æ­¥åœ°è¡ç”Ÿå­è¿›ç¨‹ï¼Œä¸”ä¸é˜»å¡ Node.js äº‹ä»¶å¾ªç¯ã€‚ child_process.spawnSync() å‡½æ•°åˆ™ä»¥åŒæ­¥çš„æ–¹å¼æä¾›äº†ç­‰æ•ˆçš„åŠŸèƒ½ï¼Œä½†ä¼šé˜»å¡äº‹ä»¶å¾ªç¯ç›´åˆ°è¡ç”Ÿçš„è¿›ç¨‹é€€å‡ºæˆ–ç»ˆæ­¢ã€‚ä¸ºæ–¹ä¾¿èµ·è§ï¼Œ child_process æ¨¡å—æä¾›äº† child_process.spawn() å’Œ child_process.spawnSync() çš„ä¸€äº›åŒæ­¥å’Œå¼‚æ­¥çš„æ›¿ä»£æ–¹æ³•ã€‚ è¿™äº›æ›¿ä»£æ–¹æ³•ä¸­çš„æ¯ä¸€ä¸ªéƒ½æ˜¯åŸºäº child_process.spawn() æˆ– child_process.spawnSync() å®ç°çš„ã€‚
[child_process.spawn()]: æ–¹æ³•ä½¿ç”¨ç»™å®šçš„ command è¡ç”Ÿä¸€ä¸ªæ–°è¿›ç¨‹ï¼Œå¹¶å¸¦ä¸Š args ä¸­çš„å‘½ä»¤è¡Œå‚æ•°ã€‚ å¦‚æœçœç•¥ argsï¼Œåˆ™å…¶é»˜è®¤ä¸ºä¸€ä¸ªç©ºæ•°ç»„ã€‚ [child_process.exec()]: è¡ç”Ÿä¸€ä¸ª shell ç„¶ååœ¨è¯¥ shell ä¸­æ‰§è¡Œ commandï¼Œå¹¶ç¼“å†²ä»»ä½•äº§ç”Ÿçš„è¾“å‡ºã€‚ [child_process.</description></item><item><title>nodeäº‹ä»¶å¾ªç¯</title><link>https://chenkai.life/nodejs/node-event-loop/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/node-event-loop/</guid><description>äº‹ä»¶å¾ªç¯ äº‹ä»¶å¾ªç¯æ˜¯ Node.js å¤„ç†éé˜»å¡ I/O æ“ä½œçš„æœºåˆ¶ï¼Œäº‹ä»¶å¾ªç¯ä½¿Node.jså¯ä»¥é€šè¿‡å°†æ“ä½œè½¬ç§»åˆ°ç³»ç»Ÿå†…æ ¸ä¸­æ¥æ‰§è¡Œéé˜»å¡I/Oæ“ä½œï¼Œç”±äºå¤§å¤šæ•°ç°ä»£å†…æ ¸éƒ½æ˜¯å¤šçº¿ç¨‹çš„ï¼Œå› æ­¤å®ƒä»¬å¯ä»¥å¤„ç†åœ¨åå°æ‰§è¡Œçš„å¤šä¸ªæ“ä½œã€‚å½“è¿™äº›æ“ä½œä¹‹ä¸€å®Œæˆæ—¶ï¼Œå†…æ ¸ä¼šå‘Šè¯‰Node.jsï¼Œå°†é€‚å½“çš„å›è°ƒæ·»åŠ åˆ°è½®è¯¢é˜Ÿåˆ—ä¸­ä»¥æœ€ç»ˆæ‰§è¡Œã€‚
äº‹ä»¶è½®è¯¢æœºåˆ¶è§£æ é¢çš„å›¾è¡¨å±•ç¤ºäº†äº‹ä»¶å¾ªç¯æ“ä½œé¡ºåºçš„ç®€åŒ–æ¦‚è§ˆ,æ¯ä¸ªæ¡†è¢«ç§°ä¸ºäº‹ä»¶å¾ªç¯æœºåˆ¶çš„ä¸€ä¸ªé˜¶æ®µã€‚æ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸€ä¸ªFIFOé˜Ÿåˆ—æ¥æ‰§è¡Œå›è°ƒã€‚å½“äº‹ä»¶å¾ªç¯è¿›å…¥ç»™å®šçš„é˜¶æ®µæ—¶ï¼Œå®ƒå°†æ‰§è¡Œç‰¹å®šäºè¯¥é˜¶æ®µçš„ä»»ä½•æ“ä½œï¼Œç„¶åæ‰§è¡Œè¯¥é˜¶æ®µé˜Ÿåˆ—ä¸­çš„å›è°ƒï¼Œç›´åˆ°é˜Ÿåˆ—ç”¨å°½æˆ–æœ€å¤§å›è°ƒæ•°å·²æ‰§è¡Œã€‚å½“è¯¥é˜Ÿåˆ—å·²ç”¨å°½æˆ–è¾¾åˆ°å›è°ƒé™åˆ¶ï¼Œäº‹ä»¶å¾ªç¯å°†ç§»åŠ¨åˆ°ä¸‹ä¸€é˜¶æ®µã€‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€&amp;gt;â”‚ timers â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ pending callbacks â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ idle, prepare â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ incoming: â”‚ â”‚ â”‚ poll â”‚&amp;lt;â”€â”€â”€â”€â”€â”¤ connections, â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ data, etc. â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ check â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”¤ close callbacks â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ é˜¶æ®µæ¦‚è¿°</description></item><item><title>nodeå¤ç”¨åŸå§‹æ¥å£ä¸‹è½½è¡¨æ ¼</title><link>https://chenkai.life/nodejs/node-download-biaoge-sheji/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/node-download-biaoge-sheji/</guid><description>æˆ‘ä»¬åœ¨åšåå°å¼€å‘æ—¶å¯èƒ½æœ‰å¾ˆå¤šæ¥å£çš„æ•°æ®éœ€è¦ä¸‹è½½ä¸‹æ¥,å¦‚æœä»å¤´å¼€å‘æ— ç–‘ä¼šæœ‰å¾ˆå¤šé‡å¤ä»£ç å¦‚å‚æ•°æ ¡éªŒã€æƒé™éªŒè¯ç­‰ï¼Œæ¥ä¸‹æ¥æˆ‘è°ˆè°ˆæˆ‘æ˜¯å¦‚ä½•åˆ©ç”¨ç°æœ‰çš„nodeæ¥å£ä¸‹è½½è¡¨æ ¼
jsonæ•°ç»„è½¬è¡¨æ ¼ ä¸€èˆ¬æˆ‘ä»¬çš„æ¥å£è¿”å›çš„æ˜¯jsonæ•°ç»„,æˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°åªéœ€è¦æŠŠè¿”å›æ•°æ®çš„jsonè½¬ä¸ºè¡¨æ ¼ä¸‹è½½å°±å¯ä»¥äº†å…¶ä»–é€»è¾‘éƒ½æ˜¯ä¸€æ ·çš„ï¼Œnodeæœ‰å¾ˆå¤šç°æˆçš„åº“å¯ä»¥å¤„ç†å¦‚xlsx
function frows2XlsxBufferile(formatData) { const ws = xlsx.utils.json_to_sheet(formatData); const wb = xlsx.utils.book_new(); xlsx.utils.book_append_sheet(wb, ws, &amp;#39;SheetJS&amp;#39;); return xlsx.write(wb, { type: &amp;#39;buffer&amp;#39;, bookType: &amp;#39;xlsx&amp;#39; }); } åœ¨ctxä¸Šä¸‹æ–‡æ·»åŠ ä¸‹è½½æ–‡ä»¶çš„æ–¹æ³• é»˜è®¤æƒ…å†µä¸‹è¿”å›çš„æ˜¯æ–‡æœ¬æ•°æ®è¿™é‡Œéœ€è¦å¤„ç†,æˆ‘è¿™é‡Œéœ€è¦åœ¨headerä¸­å£°æ˜è¿”å›çš„å†…å®¹æ˜¯ä¸€ä¸ªéœ€è¦ä¸‹è½½çš„æ–‡ä»¶
function file(name, data) { // https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Disposition // è¯´æ˜æµè§ˆå™¨åº”è¯¥å°†å†…å®¹ä¸‹è½½åˆ°æœ¬åœ°ï¼›filename çš„å€¼é¢„å¡«ä¸ºä¸‹è½½åçš„æ–‡ä»¶å this.response.set(&amp;#39;Content-disposition&amp;#39;, `attachment;filename=&amp;#34;${name}&amp;#34;`); // https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Type // è¯´æ˜è¿”å›çš„æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æµæ•°æ® this.response.set(&amp;#39;Content-Type&amp;#39;, &amp;#39;application/octet-stream&amp;#39;); return this.response.body = data; } è¿”å›è¡¨æ ¼ æˆ‘ä»¬å°†ä¸Šé¢å°è£…ä¸‹ï¼Œæ–¹ä¾¿è°ƒç”¨,
async download() { const { ctx } = this; const result = await this.</description></item><item><title>nodeæœåŠ¡ç«¯æ¸²æŸ“</title><link>https://chenkai.life/nodejs/node-service-rendering/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/node-service-rendering/</guid><description>æœåŠ¡ç«¯æ¸²æŸ“æ˜¯æŒ‡ï¼Œæµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚é¡µé¢ï¼ŒæœåŠ¡ç«¯å°†å‡†å¤‡å¥½çš„æ¨¡æ¿å’Œæ•°æ®ç»„è£…æˆå®Œæ•´çš„HTMLè¿”å›ç»™æµè§ˆå™¨å±•ç¤ºã€‚ å‰åçš„åˆ†ç¦»åï¼Œæµè§ˆå™¨åŠ è½½å®Œé¡µé¢åè¿˜éœ€è¦å†æ¬¡å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚æ•°æ®ï¼Œå¦‚æœæˆ‘ä»¬äº‹å…ˆå°†éœ€è¦è¯·æ±‚åˆ°æ•°æ®æ”¾å…¥åˆ°é¡µé¢å°±æ— éœ€åŠ è½½é¡µé¢åå†æ¬¡å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œå‡å°‘åˆå§‹åˆå§‹é¡µé¢åŠ è½½æ—¶é—´ nodeçš„æœåŠ¡ç«¯æ¸²æŸ“åº“æœ‰å¾ˆå¤šã€‚handlebars, ejs, ejs, hbs, pug, velocityjs, Nunjucks, twig, dot,templayed
ç›´æ¥ä½¿ç”¨Nunjucks Nunjucksæ–‡æ¡£
// render.js const Router = require(&amp;#39;koa-router&amp;#39;) const router = new Router() const nunjucks = require(&amp;#39;nunjucks&amp;#39;); const path = require(&amp;#39;path&amp;#39;) let env = nunjucks.configure(path.join(__dirname, &amp;#39;../public&amp;#39;),{ // noCache: true, }); router.get(&amp;#39;/&amp;#39;, async (ctx, next) =&amp;gt; { ctx.body = env.render(&amp;#39;index.html&amp;#39;, { title: &amp;#39;title&amp;#39;, user: { name: &amp;#39;test&amp;#39;, age: 18 } }); }); module.exports = router app.use(render.routes(), render.allowedMethods()); ä½¿ç”¨koa-views + Nunjucks ç­‰ const views = require(&amp;#39;koa-views&amp;#39;) const path = require(&amp;#39;path&amp;#39;) // Must be used before any router is used app.</description></item><item><title>nodeç¨‹åºæ”¾å…¥docker</title><link>https://chenkai.life/nodejs/node-docker/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/node-docker/</guid><description>å‡†å¤‡demoç¨‹åº index.js &amp;#39;use strict&amp;#39;; const express = require(&amp;#39;express&amp;#39;); // Constants const PORT = 6677; const HOST = &amp;#39;0.0.0.0&amp;#39;; // App const app = express(); app.get(&amp;#39;/&amp;#39;, (req, res) =&amp;gt; { res.send(&amp;#39;&amp;lt;h1&amp;gt;Hello world&amp;lt;/h1&amp;gt;&amp;#39;); }); app.listen(PORT, HOST); console.log(`Running on http://${HOST}:${PORT}`); æ ¹ç›®å½•æ–°å»ºDockerfileæ–‡ä»¶ ## å®šä¹‰æˆ‘ä»¬éœ€è¦ä»å“ªä¸ªé•œåƒè¿›è¡Œæ„å»º FROM node:8 ## åœ¨é•œåƒä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å­˜æ”¾åº”ç”¨ç¨‹åºä»£ç ï¼Œè¿™å°†æ˜¯ä½ çš„åº”ç”¨ç¨‹åºå·¥ä½œç›®å½• WORKDIR /usr/src/app COPY package*.json ./ RUN npm install COPY . . EXPOSE 8080 CMD [ &amp;quot;node&amp;quot;, &amp;quot;index.js&amp;quot; ] .</description></item><item><title>nodeè°ƒç”¨ç³»ç»Ÿå‘½ä»¤</title><link>https://chenkai.life/nodejs/node-run-command/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/node-run-command/</guid><description>const exec = require(&amp;#39;util&amp;#39;).promisify(require(&amp;#39;child_process&amp;#39;).exec); async function run(command) { const { stdout, stderr } = await exec(command); if (stderr) { return { code:1, data:stderr }; } if (stdout) { return { code:0, data:stdout }; } } (async ()=&amp;gt;{ let result = await run(&amp;#39;cd ../ &amp;amp;&amp;amp; ls&amp;#39;); let result2 = await run(&amp;#39;wc -l index.js&amp;#39;); console.log(result) console.log(result2) })()</description></item><item><title>pgä¸­ä¸ºå­˜å‚¨è¿‡ç¨‹æ·»åŠ è¿›åº¦</title><link>https://chenkai.life/database/pg-how-to-add-process-in-function/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/database/pg-how-to-add-process-in-function/</guid><description>æœ‰æ—¶æˆ‘ä»¬å¯èƒ½éœ€è¦çŸ¥é“é•¿æ—¶é—´è°ƒç”¨å­˜å‚¨è¿‡ç¨‹çš„è¿›åº¦ã€‚
é€šè¿‡å¤–éƒ¨è¡¨ é¦–å…ˆæˆ‘æƒ³åˆ°é€šè¿‡ä¿®æ”¹ä¸€å¼ å¤–éƒ¨è¡¨æ›´æ–°å­˜å‚¨è¿‡ç¨‹çš„è¿›åº¦ï¼Œåæ¥å‘ç°è¿™æ ·æ˜¯ä¸è¡Œçš„ã€‚å­˜å‚¨è¿‡ç¨‹æ‰§è¡Œä¸­å¯¹æ•°æ®åº“çš„æ”¹å˜åœ¨å¤–éƒ¨æ˜¯è·å–ä¸åˆ°çš„ï¼Œå®ƒåªæœ‰åœ¨æ‰§è¡Œå®Œæ¯•æäº¤åï¼Œæˆ‘ä»¬æ‰èƒ½è·å–ç»“æœï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼æˆ‘ä»¬è·å–åˆ°çš„è¿›åº¦å¯èƒ½å…¨éƒ½æ˜¯100%ã€‚
raise RAISEè¯­å¥å¯ä»¥åœ¨sqlè¿è¡Œè¿‡ç¨‹ä¸­å‘ç¨‹åºæŠ›å‡ºæ¶ˆæ¯æˆ–é”™è¯¯ï¼Œæ–‡æ¡£
ç”¨æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š sql
RAISE INFO &amp;#39;model_progress:%&amp;#39;,json_build_object(&amp;#39;job_uid&amp;#39;,job_uid,&amp;#39;job_progress&amp;#39;,progress); ç¨‹åºä¸­æˆ‘ä»¬è¿˜å¯ä»¥è·å–åˆ°å­˜å‚¨è¿‡ç¨‹æŠ›å‡ºçš„æ¶ˆæ¯ï¼šå¦‚nodeå®ç°æ‰€ç¤º
const pool = new Pg.Pool(Config.db); pool.on(&amp;#39;connect&amp;#39;, (cl) =&amp;gt; { cl.on(&amp;#39;notice&amp;#39;, (msg)=&amp;gt; { //è·å–sqlæŠ›å‡ºçš„ä¿¡æ¯ DbNoticeHandler.handle(msg); }); });</description></item><item><title>æ‰¹é‡è¿è¡Œnodeç¨‹åº</title><link>https://chenkai.life/nodejs/run-multy-node-on-shell/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/run-multy-node-on-shell/</guid><description>æ¯æ¬¡å¼€æœºéƒ½éœ€è¦æ‰‹åŠ¨æ‰§è¡Œä¸€éæ‰€æœ‰nodeç¨‹åº,å¾ˆæ˜¯éº»çƒ¦ï¼Œäºæ˜¯æ‰¾äº†ä¸€ä¸ªæ–¹æ³•å¯ä»¥ç”¨è„šæœ¬çš„å½¢å¼æ‰¹é‡æ‰“å¼€ç»ˆç«¯tabé¡µï¼Œå¹¶æ‰§è¡Œnodeç¨‹åº
ttab ttabæ˜¯ä¸€ç§macOSï¼ˆOS Xï¼‰ CLIï¼Œç”¨äºä»¥ç¼–ç¨‹æ–¹å¼åœ¨æ ‡å‡†ç»ˆç«¯åº”ç”¨ç¨‹åºä¸­æ‰“å¼€æ–°çš„ç»ˆç«¯é€‰é¡¹å¡/çª—å£Terminalï¼Œå…·æœ‰æ‰§è¡Œå‘½ä»¤å’Œ/æˆ–ç‰¹å®šæ ‡é¢˜å’Œç‰¹å®šæ˜¾ç¤ºè®¾ç½®ã€‚
npm install ttab ttab help ttab --help Opens a new terminal tab or window in OS X's Terminal application or iTerm2. ttab [-w] [-s &amp;lt;settings&amp;gt;] [-t &amp;lt;title&amp;gt;] [-q] [-g|-G] [-d &amp;lt;dir&amp;gt;] [&amp;lt;cmd&amp;gt; ...] -w open new tab in new terminal window -s &amp;lt;settings&amp;gt; assign a settings set (profile) -t &amp;lt;title&amp;gt; specify title for new tab -q clear the new tab's screen -g create tab in background (don't activate Terminal/iTerm) -G create tab in background and don't activate new tab -d &amp;lt;dir&amp;gt; specify working directory; -d '' disables inheriting the current dir.</description></item><item><title>æ£€æµ‹nodeç¨‹åºè‡ªåŠ¨é‡å¯</title><link>https://chenkai.life/nodejs/node-auto-reatart-when-change-nodemon/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/node-auto-reatart-when-change-nodemon/</guid><description>nodemonæ˜¯ä¸€ç§å·¥å…·ï¼Œé€šè¿‡åœ¨æ£€æµ‹åˆ°ç›®å½•ä¸­çš„æ–‡ä»¶æ›´æ”¹æ—¶è‡ªåŠ¨é‡æ–°å¯åŠ¨èŠ‚ç‚¹åº”ç”¨ç¨‹åºæ¥å¸®åŠ©å¼€å‘åŸºäºnode.jsçš„åº”ç”¨ç¨‹åº
nodemonå°†å…¨å±€å®‰è£…åˆ°æ‚¨çš„ç³»ç»Ÿè·¯å¾„ npm install -g nodemon nodemonåŒ…è£…æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œå› æ­¤æ‚¨å¯ä»¥ä¼ é€’é€šå¸¸ä¼ é€’ç»™åº”ç”¨ç¨‹åºçš„æ‰€æœ‰å‚æ•° nodemon [your node app] æŸ¥çœ‹å¸®åŠ© nodemon -h é…ç½®æ–‡ä»¶ nodemonæ”¯æŒæœ¬åœ°å’Œå…¨å±€é…ç½®æ–‡ä»¶ã€‚è¿™äº›é€šå¸¸æ˜¯å‘½åçš„nodemon.json,å¯ä»¥ä½äºå½“å‰å·¥ä½œç›®å½•æˆ–ä¸»ç›®å½•ä¸­ã€‚å¯ä»¥ä½¿ç”¨è¯¥&amp;ndash;config é€‰é¡¹æŒ‡å®šå¤‡ç”¨æœ¬åœ°é…ç½®æ–‡ä»¶ã€‚
{ &amp;quot;verbose&amp;quot;: true, &amp;quot;ignore&amp;quot;: [&amp;quot;*.test.js&amp;quot;, &amp;quot;fixtures/*&amp;quot;], &amp;quot;execMap&amp;quot;: { &amp;quot;rb&amp;quot;: &amp;quot;ruby&amp;quot;, &amp;quot;pde&amp;quot;: &amp;quot;processing --sketch={{pwd}} --run&amp;quot; } } nodemonæ”¯æŒä½¿ç”¨package.jsoné…ç½®,ä»¥ä¸é…ç½®æ–‡ä»¶ç›¸åŒçš„æ ¼å¼æŒ‡å®šé…ç½®ï¼Œä½†nodemonConfigåœ¨package.jsonæ–‡ä»¶ä¸­
{ &amp;quot;name&amp;quot;: &amp;quot;nodemon&amp;quot;, &amp;quot;homepage&amp;quot;: &amp;quot;http://nodemon.io&amp;quot;, &amp;quot;...&amp;quot;: &amp;quot;... other standard package.json values&amp;quot;, &amp;quot;nodemonConfig&amp;quot;: { &amp;quot;ignore&amp;quot;: [&amp;quot;test/*&amp;quot;, &amp;quot;docs/*&amp;quot;], &amp;quot;delay&amp;quot;: &amp;quot;2500&amp;quot; } } å¿½ç•¥æŒ‡å®šæ–‡ä»¶ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ‚¨å°†è¦å¿½ç•¥æŸäº›ç‰¹å®šæ–‡ä»¶ï¼Œç›®å½•æˆ–æ–‡ä»¶æ¨¡å¼ï¼Œä»¥é˜²æ­¢nodemonè¿‡æ—©åœ°é‡æ–°å¯åŠ¨æ‚¨çš„åº”ç”¨ç¨‹åºã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œnodemonä¼šå¿½ç•¥.</description></item><item><title>æµè¯»å–json</title><link>https://chenkai.life/nodejs/stream-read-geojson/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/nodejs/stream-read-geojson/</guid><description>æµè¯»å–jsonéœ€è¦ç”¨åˆ°ä¸¤ä¸ªåº“JSONStreamå’Œes
JSONStream æµJSON.parse
JSONStream.parse(&amp;quot;JSONPathè¡¨è¾¾å¼&amp;quot;) JSONPathè¡¨è¾¾å¼ JSONPathè¡¨è¾¾å¼å§‹ç»ˆå¼•ç”¨JSONç»“æ„ï¼Œå…¶æ–¹å¼ä¸XPathè¡¨è¾¾å¼ä¸XMLæ–‡æ¡£ç»“åˆä½¿ç”¨çš„æ–¹å¼ç›¸åŒã€‚ç”±äºJSONç»“æ„é€šå¸¸æ˜¯åŒ¿åçš„ï¼Œå¹¶ä¸”ä¸ä¸€å®šå…·æœ‰â€œæ ¹æˆå‘˜å¯¹è±¡â€ï¼Œå› æ­¤JSONPathå‡å®š$åˆ†é…ç»™å¤–éƒ¨å¯¹è±¡çš„æŠ½è±¡åç§° ä¾‹å­ï¼š
$.store.book[0].title $['store']['book'][0]['title'] XPathå’ŒJSONPathè¯­æ³•
XPath JSONPath Description / $ the root object/element . @ the current object/element / . or [] child operator .. n/a parent operator // .. recursive descent. JSONPath borrows this syntax from E4X. * * wildcard. All objects/elements regardless their names.</description></item></channel></rss>