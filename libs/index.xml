<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Libs on CK's Blog</title><link>https://chenkai.life/libs/</link><description>Recent content in Libs on CK's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Tue, 05 Mar 2024 17:30:40 +0800</lastBuildDate><atom:link href="https://chenkai.life/libs/index.xml" rel="self" type="application/rss+xml"/><item><title>GitHub èº«ä»½éªŒè¯</title><link>https://chenkai.life/libs/github/</link><pubDate>Thu, 03 Aug 2023 00:00:00 +0000</pubDate><guid>https://chenkai.life/libs/github/</guid><description>GitHubåŸºäºè´¦å·ç”¨æˆ·åå’Œå¯†ç çš„èº«ä»½éªŒè¯å·²è¢«åˆ é™¤ï¼Œå¸¸ç”¨çš„clone æ–¹æ³•æœ‰ä»¥ä¸‹ä¸¤ç§
é€šè¿‡è®¿é—®ä»¤ç‰Œ é¦–å…ˆåœ¨https://github.com/settings/tokensç”Ÿæˆè®¿é—®ä»¤ç‰Œï¼Œç„¶åå½“Gitæç¤ºæ‚¨è¾“å…¥å¯†ç æ—¶ï¼Œè¾“å…¥è¯¥ä»¤ç‰Œå³å¯ã€‚
è®¿é—®ä»¤ç‰Œè¾ƒé•¿ï¼Œä¸”ä»…å±•ç¤ºä¸€æ¬¡, éœ€å¦å­˜èµ·æ¥ä½¿ç”¨
é€šè¿‡SSH URL SSH URLæä¾›é€šè¿‡SSHï¼ˆä¸€ç§å®‰å…¨åè®®ï¼‰å¯¹Gitå­˜å‚¨åº“çš„è®¿é—®ã€‚æ‚¨å¿…é¡»åœ¨è®¡ç®—æœºä¸Šç”ŸæˆSSHå¯†é’¥å¯¹ï¼Œå¹¶å°†å…¬é’¥æ·»åŠ åˆ°æ‚¨åœ¨ GitHub.com ä¸Šçš„å¸æˆ·ã€‚
ç”ŸæˆSSHå¯†é’¥å¯¹ æ‰§è¡Œ ssh-keygenç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ ç§é’¥: /root/.ssh/id_rsa å…¬é’¥:/root/.ssh/id_rsa.pub
é…ç½®RSA å…¬é’¥ https://github.com/settings/ssh/new
ä½¿SSH å…‹éš†ä»£ç  git clone git@github.com:*/*.git å‚è€ƒæ–‡çŒ® https://docs.github.com/en/get-started/getting-started-with-git/about-remote-repositories#cloning-with-https-urls</description></item><item><title>Brew</title><link>https://chenkai.life/libs/brew/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/libs/brew/</guid><description>åˆ‡æ¢åˆ°å›½å†…æº ## æ›¿æ¢brew.git: cd &amp;#34;$(brew --repo)&amp;#34; ## ä¸­å›½ç§‘å¤§: git remote set-url origin https://mirrors.ustc.edu.cn/brew.git ## æ¸…åå¤§å­¦: git remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git ## æ›¿æ¢homebrew-core.git: cd &amp;#34;$(brew --repo)/Library/Taps/homebrew/homebrew-core&amp;#34; ## ä¸­å›½ç§‘å¤§: git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git ## æ¸…åå¤§å­¦: git remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git ## æ›¿æ¢homebrew-bottles: ## ä¸­å›½ç§‘å¤§: echo &amp;#39;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles&amp;#39; &amp;gt;&amp;gt; ~/.bash_profile source ~/.bash_profile ## æ¸…åå¤§å­¦: echo &amp;#39;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles&amp;#39; &amp;gt;&amp;gt; ~/.bash_profile source ~/.bash_profile ## åº”ç”¨ç”Ÿæ•ˆ: brew update åˆ‡æ¢åˆ°å®˜æ–¹æº ## é‡ç½®brew.git: cd &amp;#34;$(brew --repo)&amp;#34; git remote set-url origin https://github.</description></item><item><title>Docker</title><link>https://chenkai.life/libs/docker/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/libs/docker/</guid><description>å®‰è£…/å¸è½½docker å®‰è£…è¿‡ç¨‹å‚è€ƒå®˜ç½‘;
yum update ## ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥è®¾ç½®çš„å­˜å‚¨åº“ sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo sudo yum install docker-ce docker-ce-cli containerd.io sudo systemctl start docker å¸è½½ sudo yum -y remove docker-ee ## åˆ é™¤æ‰€æœ‰å›¾åƒï¼Œå®¹å™¨å’Œå· sudo rm -rf /var/lib/docker ## åˆ é™¤å…¶ä»–ä¸Dockerç›¸å…³çš„èµ„æº $ sudo rm -rf /run/docker $ sudo rm -rf /var/run/docker $ sudo rm -rf /etc/docker å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ docekerç‰ˆæœ¬å’Œç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬ä¸å…¼å®¹ å‡çº§ç³»ç»Ÿå†…æ ¸æˆ–è€…é™ä½dockerç‰ˆæœ¬ yumå®‰è£…å¤±è´¥ ## è§£å†³ä¾èµ–å†²çª package-cleanup --cleandupes æ‰¾ä¸åˆ°å®‰è£…åŒ… æ·»åŠ è®¾ç½®çš„å­˜å‚¨åº“ å®¹å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç† docker start :å¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå·²ç»è¢«åœæ­¢çš„å®¹å™¨ docker stop :åœæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ docker restart :é‡å¯å®¹å™¨ docker-compose æ–‡ä»¶å¯åŠ¨é•œåƒ docker-compose up -d redis åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨ä½†ä¸å¯åŠ¨ï¼Œç”¨æ³•åŒdocker run ä½¿ç”¨dockeré•œåƒnginx:lateståˆ›å»ºä¸€ä¸ªå®¹å™¨,å¹¶å°†å®¹å™¨å‘½åä¸ºmyrunoob docker create --name myrunoob nginx:latest åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤ ä½¿ç”¨dockeré•œåƒnginx:latestä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,å¹¶å°†å®¹å™¨å‘½åä¸ºmynginxã€‚ docker run --name mynginx -d nginx:latest ä½¿ç”¨é•œåƒnginx:latestä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,å¹¶å°†å®¹å™¨çš„80ç«¯å£æ˜ å°„åˆ°ä¸»æœºéšæœºç«¯å£ã€‚ docker run -P -d nginx:latest ä½¿ç”¨é•œåƒ nginx:latestï¼Œä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,å°†ä¸»æœºçš„ 80 ç«¯å£æ˜ å°„åˆ° å®¹å™¨çš„ 80 ç«¯å£,ä¸»æœºçš„ç›®å½• /data æ˜ å°„åˆ°å®¹å™¨çš„ /dataã€‚ docker run -p 80:80 -v /data:/data -d nginx:latest é•œåƒå®¹å™¨ç®¡ç† ç»™imageæ‰“æ ‡ç­¾ docker tag e9cb35287c01 geohey-nlpa-platform:gd ä¿å­˜ä¸ºæœ¬åœ°æ–‡ä»¶ docker save -o geohey-nlpa-platform.</description></item><item><title>GDAL</title><link>https://chenkai.life/libs/gdal/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/libs/gdal/</guid><description>ç±»å‹è½¬æ¢ æ ¼å¼ogr2ogr -f &amp;quot;fileType&amp;quot; fileName sourceFile
æ•°æ®åº“&amp;gt;geojson
ogr2ogr -f &amp;#34;GeoJSON&amp;#34; cn_polygon.geojson PG:&amp;#34;host=localhost dbname=postgres user=postgres password=password&amp;#34; -sql &amp;#34;select * from planet_osm_polygon limit 30000&amp;#34; geojson&amp;gt;shp
ogr2ogr -f &amp;#34;ESRI Shapefile&amp;#34; test.shp china_diaoyudao.geojson.json æ•°æ®å…¥åº“ geojson&amp;gt;postgre
/usr/local/Cellar/gdal2/2.3.2_1/bin/ogr2ogr -dim XY -gt 65536 -skipfailures -progress --config OGR_FORCE_ASCII NO --config PG_USE_COPY YES -overwrite -f PostgreSQL PG:&amp;#34;host=localhost port=5432 dbname=g-default user=projx password=sss&amp;#34; -lco FID=_id -lco GEOMETRY_NAME=the_geom -nln ${è¡¨å} &amp;#34;${æ–‡ä»¶å}&amp;#34; csv&amp;gt;postgre
/usr/local/Cellar/gdal2/2.3.2_1/bin/ogr2ogr -dim XY -gt 65536 -skipfailures --config PG_USE_COPY YES -overwrite -oo AUTODETECT_TYPE=YES -f PostgreSQL PG:&amp;#34;host=localhost port=5432 dbname=g-default user=projx password=sss&amp;#34; -lco FID=_id -nln ${start.</description></item><item><title>Git</title><link>https://chenkai.life/libs/git/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/libs/git/</guid><description>æ›´æ–°git yum
#å®‰è£…æº yum install http://opensource.wandisco.com/centos/7/git/x86_64/wandisco-git-release-7-2.noarch.rpm #å®‰è£…git yum install git #æ›´æ–°git yum update git sourceTreeä¿®æ”¹å¤§å°å†™ sourceTreeå¯¹æ–‡ä»¶åç§°çš„å¤§å°å†™ä¸æ•æ„Ÿï¼Œå½“ä½ ä¿®æ”¹æ–‡ä»¶åç§°çš„å¤§å°å†™è¿›è¡Œæäº¤æ—¶ï¼Œå®ƒå¹¶ä¸èƒ½è¯†åˆ«,
git mv work.js Work.js sourceTreeå›æ»šåˆ°å†å²èŠ‚ç‚¹ ç‚¹å‡»è¦å›æ»šçš„å†å²èŠ‚ç‚¹ï¼Œé‡ç½®åˆ°å†å²èŠ‚ç‚¹ï¼Œé€‰æ‹©ç¡¬åˆå¹¶ï¼› ç‚¹å‡»å½“å‰èŠ‚ç‚¹ï¼Œé‡ç½®åˆ°å½“å‰èŠ‚ç‚¹ï¼Œé€‰æ‹©è½¯åˆå¹¶ï¼› æäº¤ä¿®æ”¹å†…å®¹ï¼› git reset --hard e377f60e28c8b84158 git push -f origin develop gitå›æ»š //äº§çœ‹gitæäº¤çš„id git log //æŸ¥çœ‹å½“å‰åˆ†æ”¯ git status //æœ¬åœ°é‡ç½®åˆ°å½“å‰åˆ†æ”¯ git reset --hard 7c1eb09abaf873483359883175e31e979d216db0 //æ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ git push -f gitæäº¤è§„èŒƒ featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰ fixï¼šä¿®è¡¥bug docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰ styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰ refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰ testï¼šå¢åŠ æµ‹è¯• choreï¼šä¿®æ”¹æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ï¼Œæ·»åŠ ä¾èµ–åº“ã€å·¥å…·ç­‰ perf: ä»£ç é‡æ„ã€‚æ²¡æœ‰æ–°åŠŸèƒ½æˆ–ä¿®å¤bugï¼Œä¼˜åŒ–ç›¸å…³ï¼Œæå‡æ€§èƒ½ä½“éªŒ revery å›æ»šä¸Šä¸€ä¸ªç‰ˆæœ¬ &amp;mdash;å†™ä»£ç &amp;mdash;
git status ï¼ˆæŸ¥çœ‹æ–‡ä»¶æ”¹å˜è®°å½•ï¼‰ git diff (æŸ¥çœ‹ä»£ç çº§æ”¹å˜)</description></item><item><title>Kubectl</title><link>https://chenkai.life/libs/kubectl/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/libs/kubectl/</guid><description>This page is an overview of the kubectl command.
Kubectl Autocomplete Kubectl Context and Configuration Apply Creating Objects Viewing, Finding Resources Updating Resources Patching Resources Editing Resources Scaling Resources Deleting Resources Interacting with running Pods Interacting with Nodes and Cluster What&amp;rsquo;s next kubectl - Cheat Sheet Kubectl Autocomplete BASH source &amp;lt;(kubectl completion bash) # setup autocomplete in bash into the current shell, bash-completion package should be installed first. echo &amp;#34;source &amp;lt;(kubectl completion bash)&amp;#34; &amp;gt;&amp;gt; ~/.</description></item><item><title>Nginx</title><link>https://chenkai.life/libs/nginx/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/libs/nginx/</guid><description>å®‰è£… mac: brew install nginx CentOSã€Oracle Linuxã€Rocky Linuxã€AlmaLinuxã€‚ å®‰è£…å…ˆå†³æ¡ä»¶ï¼š
sudo yum install yum-utils è¦è®¾ç½® yum å­˜å‚¨åº“ï¼Œè¯·åˆ›å»ºåŒ…å« /etc/yum.repos.d/nginx.repo ä»¥ä¸‹å†…å®¹çš„æ–‡ä»¶ï¼š
[nginx-stable] name=nginx stable repo baseurl=http://nginx.org/packages/centos/$releasever/$basearch/ gpgcheck=1 enabled=1 gpgkey=https://nginx.org/keys/nginx_signing.key module_hotfixes=true [nginx-mainline] name=nginx mainline repo baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/ gpgcheck=1 enabled=0 gpgkey=https://nginx.org/keys/nginx_signing.key module_hotfixes=true è¦å®‰è£… nginxï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
sudo yum install nginx å…¶ä»–å®‰è£…æ–¹å¼
å‚è€ƒhttps://docs.nginx.com/nginx/admin-guide/installing-nginx/installing-nginx-plus/ å‚è€ƒhttps://nginx.org/en/linux_packages.html#instructions
Nginxå‘½ä»¤ nginx -hæŸ¥çœ‹å¸®åŠ©
Options: -?,-h : this help -v : show version and exit -V : show version and configure options then exit -t : test configuration and exit -T : test configuration, dump it and exit -q : suppress non-error messages during configuration testing -s signal : send signal to a master process: stop, quit, reopen, reload -p prefix : set prefix path (default: /usr/local/Cellar/nginx/1.</description></item><item><title>NPM</title><link>https://chenkai.life/libs/npm/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/libs/npm/</guid><description>npm é…ç½® ä¿®æ”¹é…ç½®æ–‡ä»¶ npmé…ç½®æ–‡ä»¶åœ°å€~/.npmrcï¼Œnpm config ls -l,npm config editå‘½ä»¤;
npmçš„å…¨å±€nodeåŒ…åœ¨å“ªé‡Œï¼Ÿ å°±æ˜¯é‚£äº›é€šè¿‡npm install xxx -gæˆ–è€…cnpm install xxx -gæˆ–è€…yarn global add xxxå®‰è£…çš„xxxæ–‡ä»¶ï¼Œåˆ°åº•å®‰è£…åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿè¿™ä¸ªå…¶å®ä¹ŸæŒºå¥½æ‰¾çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹å…¶åŸºç¡€è·¯å¾„ã€‚
npm config get prefix npm root -g é»˜è®¤çš„å…¨å±€å®‰è£…åŒ…ä½ç½®ï¼š winç³»ç»Ÿä¸‹è·¯å¾„æ˜¯ï¼š%APPDATA%/npm/node_modules/ macç³»ç»Ÿä¸‹è·¯å¾„æ˜¯ï¼š/usr/local/lib/node_modules/
npm æ¸…ç©ºç¼“å­˜ npm cache clean -
è®¾ç½®npmæº
npm config set registry http://registry.npmjs.org/ npm config set registry https://registry.npm.taobao.org/ //ä¸´æ—¶ä½¿ç”¨ npm i -g express --registry https://registry.npm.taobao.org æ›´æ–°npm npm install --global npm npm å‘å¸ƒåŒ… # ç™»é™† npm login --registry http://registry.npmjs.org # æ¨é€ npm publish --registry http://registry.</description></item><item><title>Redisçš„äº”ç§æ•°æ®ç»“æ„åŠå…¶ä½¿ç”¨åœºæ™¯</title><link>https://chenkai.life/libs/redis-use-scene/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/libs/redis-use-scene/</guid><description>from https://www.cnblogs.com/ottll/p/9470480.html
String å¸¸ç”¨å‘½ä»¤ï¼š
getã€setã€incrã€decrã€mgetç­‰
åº”ç”¨åœºæ™¯ï¼š
Stringæ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œæ™®é€šçš„key/valueéƒ½å¯ä»¥å½’ä¸ºæ­¤ç±»ï¼Œvalueå…¶å®ä¸ä»…æ˜¯Stringï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°å­—ã€‚
æ¯”å¦‚æƒ³çŸ¥é“ä»€ä¹ˆæ—¶å€™å°é”ä¸€ä¸ªIPåœ°å€(è®¿é—®è¶…è¿‡å‡ æ¬¡)ã€‚INCRBYå‘½ä»¤è®©è¿™äº›å˜å¾—å¾ˆå®¹æ˜“ï¼Œé€šè¿‡åŸå­é€’å¢ä¿æŒè®¡æ•°ã€‚
å®ç°æ–¹å¼ï¼š
m,decrç­‰æ“ä½œæ—¶ä¼šè½¬æˆæ•°å€¼å‹è¿›è¡Œè®¡ç®—ï¼Œæ­¤æ—¶redisObjectçš„encodingå­—æ®µä¸ºintã€‚
2.Hash
å¸¸ç”¨å‘½ä»¤ï¼š
hgetã€hsetã€hgetallç­‰
åº”ç”¨åœºæ™¯ï¼š
æ¯”å¦‚æˆ‘ä»¬è¦å­˜å‚¨ä¸€ä¸ªç”¨æˆ·çš„ä¿¡æ¯ï¼ŒåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š
ç”¨æˆ·IDï¼Œä¸ºæŸ¥æ‰¾çš„key
å­˜å‚¨çš„valueç”¨æˆ·å¯¹è±¡åŒ…å«å§“ånameï¼Œå¹´é¾„ageï¼Œç”Ÿæ—¥birthday ç­‰ä¿¡æ¯
å¦‚æœä»¥æ™®é€šçš„key/valueç»“æ„å­˜å‚¨ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§å­˜å‚¨æ–¹å¼ï¼š
ç¬¬ä¸€ç§æ–¹å¼å°†ç”¨æˆ·idä½œä¸ºkeyï¼Œå…¶ä»–ä¿¡æ¯å°è£…æˆå¯¹è±¡ä»¥åºåˆ—åŒ–çš„æ–¹å¼å­˜å‚¨ï¼Œå¦‚
set u001 &amp;ldquo;æä¸‰,18,20010101&amp;rdquo;
è¿™ç§æ–¹å¼çš„ç¼ºç‚¹ï¼Œå¢åŠ äº†åºåˆ—åŒ–/ååºåˆ—åŒ–çš„å¼€é”€ï¼›éœ€è¦ä¿®æ”¹å…¶ä¸­ä¸€é¡¹ä¿¡æ¯æ—¶ï¼Œéœ€è¦æŠŠæ•´ä¸ªå¯¹è±¡å–å›ï¼Œä¿®æ”¹æ“ä½œéœ€è¦å¯¹å¹¶å‘è¿›è¡Œä¿æŠ¤ï¼Œå¼•å…¥CASç­‰å¤æ‚é—®é¢˜ã€‚
ç¬¬äºŒç§æ–¹å¼æ˜¯è¿™ä¸ªç”¨æˆ·ä¿¡æ¯æœ‰å¤šå°‘æˆå‘˜å°±å­˜æˆå¤šå°‘ä¸ªkey-valueå¯¹ï¼Œç”¨ç”¨æˆ·id+å¯¹åº”å±æ€§åç§°ä½œä¸ºå”¯ä¸€çš„æ ‡è¯†æ¥å–å¾—å¯¹åº”å±æ€§çš„å€¼ï¼Œå¦‚ï¼š
mset user:001:name &amp;ldquo;æä¸‰ &amp;ldquo;user:001:age18 user:001:birthday &amp;ldquo;20010101&amp;rdquo;
è™½ç„¶çœå»äº†åºåˆ—åŒ–å¼€é”€å’Œå¹¶å‘é—®é¢˜ï¼Œä½†æ˜¯ç”¨æˆ·IDä¸ºé‡å¤å­˜å‚¨ï¼Œå¦‚æœå­˜åœ¨å¤§é‡è¿™æ ·çš„æ•°æ®ï¼Œå†…å­˜æµªè´¹è¾ƒå¤§ã€‚
redisæä¾›çš„hashå¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œredisçš„hashå®é™…æ˜¯å†…éƒ¨å­˜å‚¨çš„valueä¸ºä¸€ä¸ªHashMapï¼Œå¹¶ä¸”æä¾›äº†ç›´æ¥å­˜å–è¿™ä¸ªmapçš„æˆå‘˜æ¥å£ã€‚å¦‚
hmset user:001 name &amp;ldquo;æä¸‰&amp;rdquo; age 18 birthday &amp;ldquo;20010101&amp;rdquo;
ä¹Ÿå°±æ˜¯è¯´ï¼Œkeyä»ç„¶æ˜¯ç”¨æˆ·idï¼Œvalueæ˜¯ä¸€ä¸ªmapï¼Œè¿™ä¸ªmapçš„keyæ˜¯æˆå‘˜çš„å±æ€§åï¼Œvalueæ˜¯å±æ€§å€¼ã€‚
è¿™é‡ŒåŒæ—¶éœ€è¦æ³¨æ„ï¼ŒRedisæä¾›äº†æ¥å£(hgetall)å¯ä»¥ç›´æ¥å–åˆ°å…¨éƒ¨çš„å±æ€§æ•°æ®,ä½†æ˜¯å¦‚æœå†…éƒ¨Mapçš„æˆå‘˜å¾ˆå¤šï¼Œé‚£ä¹ˆæ¶‰åŠåˆ°éå†æ•´ä¸ªå†…éƒ¨Mapçš„æ“ä½œï¼Œç”±äºRediså•çº¿ç¨‹æ¨¡å‹çš„ç¼˜æ•…ï¼Œè¿™ä¸ªéå†æ“ä½œå¯èƒ½ä¼šæ¯”è¾ƒè€—æ—¶ï¼Œè€Œå¦å…¶å®ƒå®¢æˆ·ç«¯çš„è¯·æ±‚å®Œå…¨ä¸å“åº”ï¼Œè¿™ç‚¹éœ€è¦æ ¼å¤–æ³¨æ„ã€‚
å®ç°æ–¹å¼ï¼š
Redisçš„Hashå¯¹åº”çš„Valueå†…éƒ¨å®é™…å°±æ˜¯ä¸€ä¸ªHashMapï¼Œå®é™…æœ‰ä¸¤ç§ä¸åŒçš„å®ç°ï¼Œå¦‚æœæˆå‘˜è¾ƒå°‘æ—¶ï¼ŒRedisä¸ºäº†èŠ‚çœå†…å­˜ä¼šé‡‡ç”¨ç±»ä¼¼ä¸€ç»´æ•°ç»„æ–¹å¼å­˜å‚¨ï¼Œå¯¹åº”çš„value RedisObjectçš„encodingä¸ºzipmapï¼Œå½“æˆå‘˜æ•°é‡å¢å¤§æ—¶ä¼šè‡ªåŠ¨è½¬æˆçœŸæ­£çš„HashMapï¼Œæ­¤æ—¶encodingä¸ºhtã€‚
3.List
å¸¸ç”¨å‘½ä»¤ï¼š
lpush,rpush,lpop,rpop,lrange,BLPOP(é˜»å¡ç‰ˆ)ç­‰ã€‚
åº”ç”¨åœºæ™¯ï¼š
æœ€æ–°æ¶ˆæ¯æ’è¡Œã€‚
æ¶ˆæ¯é˜Ÿåˆ—ã€‚åˆ©ç”¨Listsçš„pushçš„æ“ä½œï¼Œå°†ä»»åŠ¡å­˜å‚¨åœ¨listä¸­ï¼Œç„¶åå·¥ä½œçº¿ç¨‹å†ç”¨popæ“ä½œå°†ä»»åŠ¡å–å‡ºè¿›è¡Œæ‰§è¡Œã€‚
å®ç°æ–¹å¼ï¼š
redis listçš„å®ç°æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œå¯ä»¥æ”¯æŒåå‘æŸ¥æ‰¾å’Œéå†ï¼Œæ›´æ–¹ä¾¿æ“ä½œï¼Œä¸è¿‡å¸¦æ¥äº†éƒ¨åˆ†é¢å¤–çš„å†…å­˜å¼€é”€ï¼Œrediså†…éƒ¨çš„å¾ˆå¤šå®ç°ï¼ŒåŒ…æ‹¬å‘é€ç¼“å†²é˜Ÿåˆ—ç­‰ä¹Ÿéƒ½ç”¨çš„æ˜¯è¿™ä¸ªæ•°æ®ç»“æ„ã€‚
Set å¸¸ç”¨å‘½ä»¤ï¼š
sadd,srem,spop,sdiff ,smembers,sunion ç­‰ã€‚
åº”ç”¨åœºæ™¯ï¼š
setç±»ä¼¼listï¼Œç‰¹æ®Šä¹‹å¤„æ˜¯setå¯ä»¥è‡ªåŠ¨æ’é‡ã€‚
setè¿˜æä¾›äº†æŸä¸ªæˆå‘˜æ˜¯å¦åœ¨ä¸€ä¸ªsetå†…çš„æ¥å£ï¼Œè¿™ä¸ªä¹Ÿæ˜¯listæ²¡æœ‰çš„ã€‚
æ¯”å¦‚åœ¨å¾®åšåº”ç”¨ä¸­ï¼Œæ¯ä¸ªäººçš„å¥½å‹å­˜åœ¨ä¸€ä¸ªé›†åˆï¼ˆsetï¼‰ä¸­ï¼Œè¿™æ ·æ±‚ä¸¤ä¸ªäººçš„å…±åŒå¥½å‹çš„æ“ä½œï¼Œå¯èƒ½å°±åªéœ€è¦ç”¨æ±‚äº¤é›†å‘½ä»¤å³å¯ã€‚
Redisè¿˜ä¸ºé›†åˆæä¾›äº†æ±‚äº¤é›†ã€å¹¶é›†ã€å·®é›†ç­‰æ“ä½œã€‚
å®ç°æ–¹å¼ï¼š
setå†…éƒ¨å®ç°æ˜¯ä¸€ä¸ªvalueæ°¸è¿œä¸ºnullçš„HashMapï¼Œå®é™…å°±æ˜¯é€šè¿‡hashçš„æ–¹å¼å¿«é€Ÿæ’é‡çš„ã€‚
Sort Set å¸¸ç”¨å‘½ä»¤ï¼š</description></item><item><title>sequelizeå»ºç«‹è¡¨å…³ç³»</title><link>https://chenkai.life/libs/sequelize-associations/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/libs/sequelize-associations/</guid><description>Associations Sequelize supports the standard associations: One-To-One, One-To-Many and Many-To-Many.
To do this, Sequelize provides four types of associations that should be combined to create them:
The HasOne association The BelongsTo association The HasMany association The BelongsToMany association The guide will start explaining how to define these four types of associations, and then will follow up to explain how to combine those to define the three standard association types (One-To-One, One-To-Many and Many-To-Many).</description></item><item><title>Shell</title><link>https://chenkai.life/libs/shell/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/libs/shell/</guid><description>æŸ¥çœ‹å¯ç”¨çš„shellcat /etc/shells åˆ‡æ¢shellå·¥å…·chsh -s /bin/bash ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆsource ~/.zshrc
macå¼€æœºè‡ªåŠ¨è¿è¡Œshellè„šæœ¬ chmod +x ./test.sh #ä½¿è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™ ç³»ç»Ÿåå¥½è®¾ç½® ã€‹ ç”¨æˆ·ä¸ç¾¤ç»„ ã€‹ç™»å½•é¡¹ ã€‹ æ·»åŠ shellè„šæœ¬ æ‰§è¡Œshellè„šæœ¬ ä½œä¸ºå¯æ‰§è¡Œç¨‹åº chmod +x ./test.sh #ä½¿è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™ ./test.sh #æ‰§è¡Œè„šæœ¬ ä½œä¸ºè§£é‡Šå™¨å‚æ•° è¿™ç§è¿è¡Œæ–¹å¼æ˜¯ï¼Œç›´æ¥è¿è¡Œè§£é‡Šå™¨ï¼Œå…¶å‚æ•°å°±æ˜¯ shell è„šæœ¬çš„æ–‡ä»¶åï¼Œå¦‚ï¼š /bin/sh test.sh /bin/php test.php shell find ç¤ºä¾‹ - æŸ¥æ‰¾å‘½ä»¤ find /dir/to/search -name &amp;#34;file-to-search&amp;#34; find /dir/to/search -name &amp;#34;file-to-search&amp;#34; -print find /dir/to/search -name &amp;#34;file-to-search&amp;#34; -ls find /dir/to/search -name &amp;#34;regex&amp;#34; -print è¦æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰çš„Perlï¼ˆç‰¹ç­‰ï¼‰æ–‡ä»¶ï¼š $ find . -name '*.pl' å°†ã€‚è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œ-nameé€‰é¡¹æŒ‡å®šæ‰€æœ‰plï¼ˆperlï¼‰æ–‡ä»¶ã€‚å¼•å·é¿å…äº†shellæ‰©å±•ï¼Œå½“ä½ æƒ³ä½¿ç”¨åŸºäºé€šé…ç¬¦çš„æœç´¢æ—¶ï¼Œå®ƒæ˜¯å¿…è¦çš„ï¼ˆæ²¡æœ‰å¼•å·ï¼Œshellä¼šå°† .plæ›¿æ¢ä¸ºå½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶åˆ—è¡¨ï¼‰ã€‚
ä»…åˆ—å‡ºæ–‡ä»¶å¹¶é¿å…æ‰€æœ‰ç›®å½• ä»¥ä¸‹å‘½ä»¤å°†ä»…åˆ—å‡ºæ–‡ä»¶ï¼Œå¹¶å°†æ’é™¤ç›®å½•ï¼Œç‰¹æ®Šæ–‡ä»¶ï¼Œç®¡é“ï¼Œç¬¦å·é“¾æ¥ç­‰ï¼š
find .</description></item><item><title>yum</title><link>https://chenkai.life/libs/yum/</link><pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate><guid>https://chenkai.life/libs/yum/</guid><description>yumæ˜¯ç§è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œyum ä¸»è¦åŠŸèƒ½æ˜¯æ›´æ–¹ä¾¿çš„æ·»åŠ /åˆ é™¤/æ›´æ–°RPM åŒ…ï¼Œè‡ªåŠ¨è§£å†³åŒ…çš„å€šèµ–æ€§é—®é¢˜ï¼Œä¾¿äºç®¡ç†å¤§é‡ç³»ç»Ÿçš„æ›´æ–°é—®é¢˜ã€‚yum å¯ä»¥åŒæ—¶é…ç½®å¤šä¸ªèµ„æºåº“(Repository)ï¼Œç®€æ´çš„é…ç½®æ–‡ä»¶ï¼ˆ/etc/yum.confï¼‰ï¼Œè‡ªåŠ¨è§£å†³å¢åŠ æˆ–åˆ é™¤rpm åŒ…æ—¶é‡åˆ°çš„ä¾èµ–æ€§é—®é¢˜ï¼Œä¿æŒä¸RPM æ•°æ®åº“çš„ä¸€è‡´æ€§ã€‚
é…ç½®# yum çš„é…ç½®æ–‡ä»¶åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šmain å’Œrepository
main éƒ¨åˆ†å®šä¹‰äº†å…¨å±€é…ç½®é€‰é¡¹ï¼Œæ•´ä¸ªyum é…ç½®æ–‡ä»¶åº”è¯¥åªæœ‰ä¸€ä¸ªmainã€‚å¸¸ä½äº/etc/yum.conf ä¸­ã€‚ repository éƒ¨åˆ†å®šä¹‰äº†æ¯ä¸ªæº/æœåŠ¡å™¨çš„å…·ä½“é…ç½®ï¼Œå¯ä»¥æœ‰ä¸€åˆ°å¤šä¸ªã€‚å¸¸ä½äº/etc/yum.repo.d ç›®å½•ä¸‹çš„å„æ–‡ä»¶ä¸­ã€‚ yum.conf æ–‡ä»¶ä¸€èˆ¬ä½äº/etcç›®å½•ä¸‹ï¼Œä¸€èˆ¬å…¶ä¸­åªåŒ…å«mainéƒ¨åˆ†çš„é…ç½®é€‰é¡¹ã€‚
# cat /etc/yum.conf
yum.conf
é™¤äº†ä¸Šè¿°ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å¯ä»¥æ·»åŠ çš„é€‰é¡¹ï¼Œå¦‚ï¼š
exclude=selinux*ã€€// æ’é™¤æŸäº›è½¯ä»¶åœ¨å‡çº§åå•ä¹‹å¤–ï¼Œå¯ä»¥ç”¨é€šé…ç¬¦ï¼Œåˆ—è¡¨ä¸­å„ä¸ªé¡¹ç›®è¦ç”¨ç©ºæ ¼éš”å¼€ï¼Œè¿™ä¸ªå¯¹äºå®‰è£…äº†è¯¸å¦‚ç¾åŒ–åŒ…ï¼Œä¸­æ–‡è¡¥ä¸çš„æœ‹å‹ç‰¹åˆ«æœ‰ç”¨ã€‚ gpgcheck=1ã€€// æœ‰1å’Œ0ä¸¤ä¸ªé€‰æ‹©ï¼Œåˆ†åˆ«ä»£è¡¨æ˜¯å¦æ˜¯å¦è¿›è¡Œgpg(GNU Private Guard) æ ¡éªŒï¼Œä»¥ç¡®å®šrpm åŒ…çš„æ¥æºæ˜¯æœ‰æ•ˆå’Œå®‰å…¨çš„ã€‚è¿™ä¸ªé€‰é¡¹å¦‚æœè®¾ç½®åœ¨[main]éƒ¨åˆ†ï¼Œåˆ™å¯¹æ¯ä¸ªrepository éƒ½æœ‰æ•ˆã€‚é»˜è®¤å€¼ä¸º0ã€‚
1. é…ç½®æœ¬åœ°yumæº
(1) æŒ‚è½½å…‰ç›˜
mount /dev/cdrom /mnt/ (2)é…ç½®æœ¬åœ°yumæº
æŸ¥çœ‹/etc/yum.repo.d/ä¸‹æœ‰å››ä¸ªæ–‡ä»¶
CentOS-Base.repo æ˜¯yum ç½‘ç»œæºçš„é…ç½®æ–‡ä»¶
CentOS-Media.repo æ˜¯yum æœ¬åœ°æºçš„é…ç½®æ–‡ä»¶
ä¿®æ”¹CentOS-Media.repoæ–‡ä»¶
#cat /etc/yum.repo.d/CentOS-Media.repo
CentOS-Media.repo
åœ¨baseurl ä¸­ä¿®æ”¹ç¬¬2ä¸ªè·¯å¾„ä¸º /mnt/ï¼ˆå³ä¸ºå…‰ç›˜æŒ‚è½½ç‚¹ï¼‰
å°†enabled=0æ”¹ä¸º1
(3)ç¦ç”¨ç½‘ç»œyumæº
å°†CentOS-Base.repo é‡å‘½åä¸ºCentOS-Base.repo.bak,å¦åˆ™ä¼šå…ˆåœ¨ç½‘ç»œæºä¸­å¯»æ‰¾é€‚åˆçš„åŒ…ï¼Œæ”¹åä¹‹åç›´æ¥ä»æœ¬åœ°æºè¯»å–ã€‚ (4) æ‰§è¡Œyumå‘½ä»¤æµ‹è¯•
yum install bind å…³äºrepoçš„æ ¼å¼# æ‰€æœ‰repository æœåŠ¡å™¨è®¾ç½®éƒ½åº”è¯¥éµå¾ªå¦‚ä¸‹æ ¼å¼ï¼š
[serverid] name=Some name for this server baseurl=url://path/to/repository/ serverid æ˜¯ç”¨äºåŒºåˆ«å„ä¸ªä¸åŒçš„repositoryï¼Œå¿…é¡»æœ‰ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„åç§°ï¼› name æ˜¯å¯¹repository çš„æè¿°ï¼Œæ”¯æŒåƒğ‘Ÿğ‘’ğ‘™ğ‘’ğ‘ğ‘ ğ‘’ğ‘£ğ‘’ğ‘Ÿreleaseverbasearchè¿™æ ·çš„å˜é‡ï¼› baseurl æ˜¯æœåŠ¡å™¨è®¾ç½®ä¸­æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œåªæœ‰è®¾ç½®æ­£ç¡®ï¼Œæ‰èƒ½ä»ä¸Šé¢è·å–è½¯ä»¶ã€‚å®ƒçš„æ ¼å¼æ˜¯ï¼š baseurl=url://server1/path/to/repository/ url://server2/path/to/repository/ url://server3/path/to/repository/ å…¶ä¸­url æ”¯æŒçš„åè®®æœ‰ http:// ftp:// file:// ä¸‰ç§ã€‚baseurl åå¯ä»¥è·Ÿå¤šä¸ªurlï¼Œä½ å¯ä»¥è‡ªå·±æ”¹ä¸ºé€Ÿåº¦æ¯”è¾ƒå¿«çš„é•œåƒç«™ï¼Œä½†baseurl åªèƒ½æœ‰ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½åƒå¦‚ä¸‹æ ¼å¼ï¼š</description></item></channel></rss>