<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=Content-Language content="en"><meta name=theme-color content="#ffffff"><meta name=color-scheme content="light dark"><meta name=description content='查看可用的shellcat /etc/shells 切换shell工具chsh -s /bin/bash 使环境变量生效source ~/.zshrc
mac开机自动运行shell脚本 chmod +x ./test.sh #使脚本具有执行权限 系统偏好设置 》 用户与群组 》登录项 》 添加shell脚本 执行shell脚本 作为可执行程序 chmod +x ./test.sh #使脚本具有执行权限 ./test.sh #执行脚本 作为解释器参数 这种运行方式是，直接运行解释器，其参数就是 shell 脚本的文件名，如： /bin/sh test.sh /bin/php test.php shell find 示例 - 查找命令 find /dir/to/search -name "file-to-search" find /dir/to/search -name "file-to-search" -print find /dir/to/search -name "file-to-search" -ls find /dir/to/search -name "regex" -print 要查找当前目录下的所有的Perl（特等）文件： $ find . -name &#39;*.pl&#39; 将。表示当前目录，-name选项指定所有pl（perl）文件。引号避免了shell扩展，当你想使用基于通配符的搜索时，它是必要的（没有引号，shell会将 .pl替换为当前目录中的文件列表）。
仅列出文件并避免所有目录 以下命令将仅列出文件，并将排除目录，特殊文件，管道，符号链接等：
find .'><meta name=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Shell"><meta name=twitter:description content='查看可用的shellcat /etc/shells 切换shell工具chsh -s /bin/bash 使环境变量生效source ~/.zshrc
mac开机自动运行shell脚本 chmod +x ./test.sh #使脚本具有执行权限 系统偏好设置 》 用户与群组 》登录项 》 添加shell脚本 执行shell脚本 作为可执行程序 chmod +x ./test.sh #使脚本具有执行权限 ./test.sh #执行脚本 作为解释器参数 这种运行方式是，直接运行解释器，其参数就是 shell 脚本的文件名，如： /bin/sh test.sh /bin/php test.php shell find 示例 - 查找命令 find /dir/to/search -name "file-to-search" find /dir/to/search -name "file-to-search" -print find /dir/to/search -name "file-to-search" -ls find /dir/to/search -name "regex" -print 要查找当前目录下的所有的Perl（特等）文件： $ find . -name &#39;*.pl&#39; 将。表示当前目录，-name选项指定所有pl（perl）文件。引号避免了shell扩展，当你想使用基于通配符的搜索时，它是必要的（没有引号，shell会将 .pl替换为当前目录中的文件列表）。
仅列出文件并避免所有目录 以下命令将仅列出文件，并将排除目录，特殊文件，管道，符号链接等：
find .'><meta property="og:url" content="https://chenkai.life/libs/shell/"><meta property="og:site_name" content="CK's Blog"><meta property="og:title" content="Shell"><meta property="og:description" content='查看可用的shellcat /etc/shells 切换shell工具chsh -s /bin/bash 使环境变量生效source ~/.zshrc
mac开机自动运行shell脚本 chmod +x ./test.sh #使脚本具有执行权限 系统偏好设置 》 用户与群组 》登录项 》 添加shell脚本 执行shell脚本 作为可执行程序 chmod +x ./test.sh #使脚本具有执行权限 ./test.sh #执行脚本 作为解释器参数 这种运行方式是，直接运行解释器，其参数就是 shell 脚本的文件名，如： /bin/sh test.sh /bin/php test.php shell find 示例 - 查找命令 find /dir/to/search -name "file-to-search" find /dir/to/search -name "file-to-search" -print find /dir/to/search -name "file-to-search" -ls find /dir/to/search -name "regex" -print 要查找当前目录下的所有的Perl（特等）文件： $ find . -name &#39;*.pl&#39; 将。表示当前目录，-name选项指定所有pl（perl）文件。引号避免了shell扩展，当你想使用基于通配符的搜索时，它是必要的（没有引号，shell会将 .pl替换为当前目录中的文件列表）。
仅列出文件并避免所有目录 以下命令将仅列出文件，并将排除目录，特殊文件，管道，符号链接等：
find .'><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="libs"><meta property="article:published_time" content="2021-07-09T00:00:00+00:00"><meta property="article:modified_time" content="2024-07-05T16:17:27+08:00"><meta property="article:tag" content="Tool"><meta property="article:tag" content="Shell"><title>Shell · CK's Blog
</title><link rel=canonical href=https://chenkai.life/libs/shell/><link rel=stylesheet href=/css/coder.min.0e0f0ac9929898ae6625ca3789e3f9e2e630ead0a5e0f1fe96c1ba7d8774342c.css integrity="sha256-Dg8KyZKYmK5mJco3ieP54uYw6tCl4PH+lsG6fYd0NCw=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.d8f89ef09509afb63b9b2595ee174e53cc51ce02a6f6a2179e1621f9389e4340.css integrity="sha256-2Pie8JUJr7Y7myWV7hdOU8xRzgKm9qIXnhYh+TieQ0A=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/custom.min.d12542c00c198b6a07ca9ea5981102805aecab0f5dfd5e3273d8c179088712c4.css integrity="sha256-0SVCwAwZi2oHyp6lmBECgFrsqw9d/V4yc9jBeQiHEsQ=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/favicon.ico><link rel=apple-touch-icon type=image/png sizes=256x256 href=/images/favicon-512x512.png><meta name=generator content="Hugo 0.128.2"><link rel=manifest href=/manifest.webmanifest></head><body class="preload-transitions colorscheme-auto"><div class=float-container><span id=dark-mode-toggle class=colorscheme-toggle><svg class="icon" aria-hidden="true"><use xlink:href="#icon-anheimoshi"/></svg></span></div><details id=table-of-contents-wapper><summary><svg class="icon" aria-hidden="true"><use xlink:href="#icon-caidan"/></svg></summary></details><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>CK's Blog
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><svg class="icon" aria-hidden="true"><use xlink:href="#icon-caidan"/></svg></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/>Home</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/marks/>Marks</a></li><li class=navigation-item><a class=navigation-link href=https://github.com/ckvv/ckvv.github.io/tree/main/content>Create</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item id=search-content><input class=search-int type=text placeholder=Search>
<button class=search-btn data-type=github>GitHub</button>
<button class=search-btn data-type=google>Google</button></li></ul></section></nav><div class=content><section class="container page"><article><header><h1 class=title><a class=title-link href=https://chenkai.life/libs/shell/>Shell</a></h1><div class=edit-link style=float:right;color:#0366d6><a class=title rel=noopener target=_blank href=https://github.com/ckvv/ckvv.github.io/edit/main/content/libs/shell.md>编辑</a></div></header><div class=post-meta><div class=date><span class=posted-on><svg class="icon" aria-hidden="true"><use xlink:href="#icon-date"/></svg>
<time datetime=2021-07-09T00:00:00Z>2021-07-09</time></span></div><div class=tags><svg class="icon" aria-hidden="true"><use xlink:href="#icon-biaoqian"/></svg>
<span class=tag><a href=/tags/tool/>Tool</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/shell/>Shell</a></span></div></div><h2 id=heading><a class=heading-link href=#heading><i class="fa fa-link" aria-hidden=true></i></a></h2><p>查看可用的shell<code>cat /etc/shells</code>
切换shell工具<code>chsh -s /bin/bash</code>
使环境变量生效<code>source ~/.zshrc</code></p><h2 id=mac开机自动运行shell脚本>mac开机自动运行shell脚本
<a class=heading-link href=#mac%e5%bc%80%e6%9c%ba%e8%87%aa%e5%8a%a8%e8%bf%90%e8%a1%8cshell%e8%84%9a%e6%9c%ac><i class="fa fa-link" aria-hidden=true></i></a></h2><ol><li><code>chmod +x ./test.sh</code> #使脚本具有执行权限</li><li>系统偏好设置 》 用户与群组 》登录项 》 添加shell脚本</li></ol><h2 id=执行shell脚本>执行shell脚本
<a class=heading-link href=#%e6%89%a7%e8%a1%8cshell%e8%84%9a%e6%9c%ac><i class="fa fa-link" aria-hidden=true></i></a></h2><ul><li>作为可执行程序</li></ul><pre tabindex=0><code>chmod +x ./test.sh  #使脚本具有执行权限
./test.sh  #执行脚本
</code></pre><ul><li>作为解释器参数
这种运行方式是，直接运行解释器，其参数就是 shell 脚本的文件名，如：</li></ul><pre tabindex=0><code>/bin/sh test.sh
/bin/php test.php
</code></pre><h2 id=shell-find>shell find
<a class=heading-link href=#shell-find><i class="fa fa-link" aria-hidden=true></i></a></h2><h2 id=示例---查找命令>示例 - 查找命令
<a class=heading-link href=#%e7%a4%ba%e4%be%8b---%e6%9f%a5%e6%89%be%e5%91%bd%e4%bb%a4><i class="fa fa-link" aria-hidden=true></i></a></h2><pre tabindex=0><code>find /dir/to/search -name &#34;file-to-search&#34;
find /dir/to/search -name &#34;file-to-search&#34; -print
find /dir/to/search -name &#34;file-to-search&#34; -ls
find /dir/to/search -name &#34;regex&#34; -print
</code></pre><p>要查找当前目录下的所有的Perl（<em>特等）文件：
<code>$ find . -name '*.pl'</code>
将。表示当前目录，-name选项指定所有pl（perl）文件。引号避免了shell扩展，当你想使用基于通配符的搜索时，它是必要的（没有引号，shell会将</em> .pl替换为当前目录中的文件列表）。</p><h3 id=仅列出文件并避免所有目录>仅列出文件并避免所有目录
<a class=heading-link href=#%e4%bb%85%e5%88%97%e5%87%ba%e6%96%87%e4%bb%b6%e5%b9%b6%e9%81%bf%e5%85%8d%e6%89%80%e6%9c%89%e7%9b%ae%e5%bd%95><i class="fa fa-link" aria-hidden=true></i></a></h3><p>以下命令将仅列出文件，并将排除目录，特殊文件，管道，符号链接等：</p><pre tabindex=0><code>find . -type f -name &#39;*.pl&#39;
</code></pre><p>这将找到目录名称，如project，projects，projects-perl等。</p><pre tabindex=0><code>find /home/vivek/ -type d -name &#39;project*&#39;
</code></pre><h3 id=搜索所有目录>搜索所有目录
<a class=heading-link href=#%e6%90%9c%e7%b4%a2%e6%89%80%e6%9c%89%e7%9b%ae%e5%bd%95><i class="fa fa-link" aria-hidden=true></i></a></h3><p>在所有目录中搜索名为httpd.conf的文件：</p><pre tabindex=0><code>find / -type f -name httpd.conf
</code></pre><p>通常，查找文件是个坏主意。这可能需要相当长的时间。建议您指定目录名称。例如，在/ usr / local目录中查看httpd.conf：</p><pre tabindex=0><code>find /usr/local -type f -name httpd.conf
</code></pre><p>您可能需要以root身份运行它：</p><pre tabindex=0><code>sudo find / -type f -name httpd.conf
</code></pre><h2 id=对所有文件执行命令>对所有文件执行命令
<a class=heading-link href=#%e5%af%b9%e6%89%80%e6%9c%89%e6%96%87%e4%bb%b6%e6%89%a7%e8%a1%8c%e5%91%bd%e4%bb%a4><i class="fa fa-link" aria-hidden=true></i></a></h2><p>在所有* .c文件上运行ls -l命令以获取扩展信息：</p><pre tabindex=0><code>find . -name &#34;*.c&#34; -type f -exec ls -l {} \;
find . -name &#34;*.c&#34; -type f -ls
</code></pre><p>您可以在文件上运行几乎所有UNIX命令。例如，仅在〜/ code目录中将所有文件的所有权限修改为0700：</p><pre tabindex=0><code>find ~/code -exec chmod 0700 {} \;
</code></pre><p>搜索名为payal的用户拥有的所有文件：</p><pre tabindex=0><code>find . -user &lt;userid&gt;
find . -user payal
</code></pre><h3 id=搜索文件以了解特定尺寸>搜索文件以了解特定尺寸
<a class=heading-link href=#%e6%90%9c%e7%b4%a2%e6%96%87%e4%bb%b6%e4%bb%a5%e4%ba%86%e8%a7%a3%e7%89%b9%e5%ae%9a%e5%b0%ba%e5%af%b8><i class="fa fa-link" aria-hidden=true></i></a></h3><p>在〜/ Downloads / dir中搜索650兆字节或以上大小的文件：阅读查找命令手册页以获取详细信息：</p><pre tabindex=0><code>find ~/Downloads/ -size +650M
find ~/Downloads/ -size +1G
find ~/Downloads/ -size +1024k
</code></pre><p>要搜索名为foo（不是<em>foo</em>）,yum.conf,</p><pre tabindex=0><code>locate -b &#39;\foo&#39;
locate yum.conf`
locate -b &#39;\yum.conf&#39;
</code></pre><h2 id=常用命令>常用命令
<a class=heading-link href=#%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4><i class="fa fa-link" aria-hidden=true></i></a></h2><h2 id=关闭端口>关闭端口
<a class=heading-link href=#%e5%85%b3%e9%97%ad%e7%ab%af%e5%8f%a3><i class="fa fa-link" aria-hidden=true></i></a></h2><pre tabindex=0><code>// 将PortNum替换为要查询的端口号（注意端口号前面不要空格）
sudo lsof -i :PortNum

kill pid
</code></pre><h2 id=修改本机域名默认解析>修改本机域名默认解析
<a class=heading-link href=#%e4%bf%ae%e6%94%b9%e6%9c%ac%e6%9c%ba%e5%9f%9f%e5%90%8d%e9%bb%98%e8%ae%a4%e8%a7%a3%e6%9e%90><i class="fa fa-link" aria-hidden=true></i></a></h2><p>通过修改本机的 hosts 文件来绕过 dns 解析,</p><ul><li>windows <code>映射文件存放于: C:\Windows\System32\drivers\etc\hosts</code></li><li>mac <code>/etc/hosts</code></li></ul><h2 id=快速移动光标>快速移动光标
<a class=heading-link href=#%e5%bf%ab%e9%80%9f%e7%a7%bb%e5%8a%a8%e5%85%89%e6%a0%87><i class="fa fa-link" aria-hidden=true></i></a></h2><pre tabindex=0><code>ctrl+a:跳到本行的行首
ctrl+e:跳到页尾
Ctrl+u：删除当前光标前面的文字 （还有剪切功能）
ctrl+k：删除当前光标后面的文字(还有剪切功能)
Ctrl+y:粘贴Ctrl+u或ctrl+k剪切的内容
Ctrl+L：进行清屏操作
Ctrl+w:删除光标前面的单词的字符
Alt – d ：由光标位置开始，往右删除单词。往行尾删
ctrl+左右键:在单词之间跳转
</code></pre><p>ps命令将某个进程显示出来<code>ps -ef</code></p><h2 id=文件>文件
<a class=heading-link href=#%e6%96%87%e4%bb%b6><i class="fa fa-link" aria-hidden=true></i></a></h2><h2 id=上传下载>上传下载
<a class=heading-link href=#%e4%b8%8a%e4%bc%a0%e4%b8%8b%e8%bd%bd><i class="fa fa-link" aria-hidden=true></i></a></h2><ul><li>linux文件下载到mac
scp <a href=mailto:root@192.168.0.187>root@192.168.0.187</a>:/usr/local/nginx-1.14.0.tar /Users/luo-mac/Downloads/nginx-1.14.0.tar　　
将linux服务器/usr/local/中的nginx-1.14.0.tar文件下载到本地 /Users/luo-mac/Downloads/目录中</li><li>mac文件上传到linux
scp /Users/luo-mac/Downloads/nginx-1.14.0.tar <a href=mailto:root@192.168.31.42>root@192.168.31.42</a>:/usr/local/nginx-1.14.0.tar
在mac本地命令行中输入上边的命令，将nginx-1.14.0.tar文件上传到linux服务器的/usr/local/中</li></ul><h2 id=查看文件行数>查看文件行数
<a class=heading-link href=#%e6%9f%a5%e7%9c%8b%e6%96%87%e4%bb%b6%e8%a1%8c%e6%95%b0><i class="fa fa-link" aria-hidden=true></i></a></h2><pre tabindex=0><code>wc -l filePath
</code></pre><h2 id=shell字符串截取>Shell字符串截取
<a class=heading-link href=#shell%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%88%aa%e5%8f%96><i class="fa fa-link" aria-hidden=true></i></a></h2><table><thead><tr><th>格式</th><th>说明</th></tr></thead><tbody><tr><td>${string: start :length}</td><td>从 string 字符串的左边第 start 个字符开始，向右截取 length 个字符。</td></tr><tr><td>${string: start}</td><td>从 string 字符串的左边第 start 个字符开始截取，直到最后。</td></tr><tr><td>${string: 0-start :length}</td><td>从 string 字符串的右边第 start 个字符开始，向右截取 length 个字符。</td></tr><tr><td>${string: 0-start}</td><td>从 string 字符串的右边第 start 个字符开始截取，直到最后。</td></tr><tr><td>${string#*chars}</td><td>从 string 字符串第一次出现 *chars 的位置开始，截取 *chars 右边的所有字符。</td></tr><tr><td>${string##*chars}</td><td>从 string 字符串最后一次出现 *chars 的位置开始，截取 *chars 右边的所有字符。</td></tr><tr><td>${string%*chars}</td><td>从 string 字符串第一次出现 *chars 的位置开始，截取 *chars 左边的所有字符。</td></tr><tr><td>${string%%*chars}</td><td>从 string 字符串最后一次出现 *chars 的位置开始，截取 *chars 左边的所有字符。</td></tr></tbody></table><p>linux查看当前是redhat还是centos
cat /proc/version</p><div id=cusdis_thread data-host=https://cusdis.com data-app-id=c2b015f9-9a4b-4997-b66f-f9c6ca26ebdd data-page-id=942f67d030d83a1875a109b9c06faef3 data-page-url=https://chenkai.life/libs/shell/ data-page-title=Shell data-iframe=/js/cusdis/iframe.umd.js data-style=/js/cusdis/style.css></div></article></section></div></main><script src=/js/coder.min.cb0c595e02234420f3ad3886bf4a9bd2874d0e1e78e090138a9ef158b35aaf17.js integrity="sha256-ywxZXgIjRCDzrTiGv0qb0odNDh544JATip7xWLNarxc="></script><script src=/js/custom.js></script><script src=/js/font.min.js></script></body><script>"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js")</script></html>